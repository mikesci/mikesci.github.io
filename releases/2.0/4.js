(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[4],{13:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=["rect"],o=["border","backgroundColor","opacity","padding","shadow","filters","cornerClip","3dtransform"],l=["font","letterSpacing","textStroke","textShadow","lineHeight"],s=["autoFit"],c={manifest:{name:"Rectangle",icon:"square",preserveAspect:!1,primative:!0,parameters:[],allowedStyles:[].concat(a()(i),a()(o)),defaultStyle:{top:0,left:0,width:640,height:360,backgroundColor:"#FF0000"}},component:function(e){return null}},u={manifest:{name:"Text",icon:"new-text-box",preserveAspect:!1,primative:!0,parameters:[{name:"text",displayName:"Content",type:"textarea",defaultValue:"text",immediate:!0}],allowedStyles:[].concat(a()(i),a()(l),a()(o)),defaultStyle:{top:0,left:0,width:400,height:400,fontFamily:"Arial",fontSize:"60px",color:"rgba(255,255,255,1)",whiteSpace:"pre"}},component:function(e){var t=e.text;return React.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit",whiteSpace:"inherit"}},t)}};function p(e,t){if(!f(e))return e;if(!t)return null;var n=t[e];return n?n.src:null}function f(e){return!!e&&e.startsWith("asset:")}var d={manifest:{name:"Image",width:400,height:400,icon:"media",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"image/*",inline:!0}],allowedStyles:[].concat(a()(i),a()(s),a()(o)),defaultStyle:{top:0,left:0,width:400,height:400},getNaturalDimensions:function(e,t){return new Promise((function(n,r){if(e.url){var a=p(e.url,t);if(a){var i=new Image;i.addEventListener("load",(function(){n({width:i.naturalWidth,height:i.naturalHeight})})),i.src=a,setTimeout((function(){return r("Timeout getting image size.")}),5e3)}else r("Could not get asset source.")}else r("No url specified.")}))},preload:function(e){var t=p(e.url);if(t)return new Promise((function(e,n){var r=new Image;r.addEventListener("load",e),r.addEventListener("error",e),r.addEventListener("abort",e),r.src=t}))},referencedAssets:function(e){return f(e.url)?[e.url]:null}},component:function(e){var t=p(e.url,e.assets);return React.createElement("img",{src:t,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}},m=n(4),y=n.n(m),g=n(2),h=n.n(g),b=n(0),v=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i;function w(e){if(!e||f(e))return null;var t=e.match(v);return t?t[1]:null}var x={manifest:{name:"Video",icon:"video",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"video/*",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,width:50},{name:"loop",type:"checkbox",displayName:"Loop",defaultValue:!1,inline:!0,width:50}],allowedStyles:[].concat(a()(i),a()(s),a()(o)),defaultStyle:{top:0,left:0,width:1280,height:720},getNaturalDimensions:function(e,t){return new Promise((function(n,r){if(e.url){var a=p(e.url,t);if(a){var i=document.createElement("video");i.addEventListener("loadeddata",(function(){n({width:i.videoWidth,height:i.videoHeight})}));var o=document.createElement("source");o.src=a,i.appendChild(o),setTimeout((function(){return r("Timeout getting video size.")}),5e3)}else r("Could not get asset source.")}else r("No url specified.")}))},referencedAssets:function(e){return f(e.url)?[e.url]:null},preload:function(e){return w(e.url)?(window.onYouTubeIframeAPIReadyPromise||(window.onYouTubeIframeAPIReadyPromise=new Promise((function(e){if(window.YT)e();else{var t=document.createElement("script");t.type="text/javascript",t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=e}}))),window.onYouTubeIframeAPIReadyPromise):null}},YoutubeVideoComponent:function(e){var t=e.videoId,n=e.url,r=e.playing,a=void 0===r||r,i=e.loop,o=void 0!==i&&i,l=e.volume,s=void 0===l?100:l,c=Object(b.useRef)(),u=useState(),p=h()(u,2),f=p[0],d=p[1],m=useState(),y=h()(m,2),g=y[0],v=y[1];return Object(b.useEffect)((function(){if(window.YT)var e=new YT.Player(c.current,{width:"100%",height:"100%",playerVars:{controls:0,modestbranding:1},events:{onReady:function(t){d(e)},onStateChange:function(e){var t=e.data;v(t)}}})}),[window.YT]),Object(b.useEffect)((function(){f&&f.loadVideoByUrl("http://www.youtube.com/v/".concat(t,"?version=3"))}),[f,t]),Object(b.useEffect)((function(){f&&f.setLoop(o)}),[f,o]),Object(b.useEffect)((function(){f&&g&&-1==g&&f.seekTo(0)}),[f,g]),Object(b.useEffect)((function(){f&&(a?f.playVideo():f.pauseVideo())}),[f,a]),Object(b.useEffect)((function(){f&&f.setVolume(s)}),[f,s]),React.createElement("div",{style:{overflow:"hidden",height:"100%",width:"100%",display:null!=n&&n.length>0?"block":"none"}},React.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),React.createElement("div",{ref:c}))},HTMLVideoComponent:function(e){var t=e.src,n=e.url,r=e.playing,a=void 0===r||r,i=e.loop,o=void 0!==i&&i,l=e.volume,s=void 0===l?100:l,c=Object(b.useRef)();Object(b.useEffect)((function(){c.current.load()}),[n]),Object(b.useEffect)((function(){c.current.currentTime=0,a?c.current.play():c.current.pause()}),[a]),Object(b.useEffect)((function(){c.current.volume=s/100}),[s]);var u=Object(b.useCallback)((function(e){a&&c.current.play().catch((function(e){console.log(e.message)}))}),[]);return React.createElement("video",{ref:c,onLoadedData:u,loop:o,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}},React.createElement("source",{src:t}))},component:function(e){var t=w(e.url);return t?React.createElement(x.YoutubeVideoComponent,y()({videoId:t},e)):React.createElement(x.HTMLVideoComponent,y()({src:p(e.url,e.assets)},e))}},S=x,O={manifest:{name:"Audio",nonVisual:!0,effectsAllowed:!1,primative:!0,icon:"volume-up",parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"audio/*",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,width:50},{name:"loop",type:"checkbox",displayName:"Looping",defaultValue:!1,inline:!0,width:50}],allowedStyles:[],referencedAssets:function(e){return f(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.playing,r=void 0===n||n,a=e.loop,i=void 0!==a&&a,o=e.volume,l=void 0===o?100:o,s=e.assets,c=Object(b.useRef)();Object(b.useEffect)((function(){c.current.load()}),[t]),Object(b.useEffect)((function(){r?c.current.play():c.current.pause()}),[r]),Object(b.useEffect)((function(){c.current.volume=l/100}),[l]);var u=Object(b.useCallback)((function(e){r&&c.current.play().catch((function(e){console.log(e.message)}))}),[]),f=p(t,s);return React.createElement("audio",{ref:c,onLoadedData:u,loop:i},React.createElement("source",{src:f}))}},E={manifest:{name:"Iframe",icon:"globe-network",primative:!0,preserveAspect:!1,parameters:[{name:"url",type:"assetUrl",displayName:"Url/Asset",accept:"text/html"}],allowedStyles:[].concat(a()(i),a()(s),a()(o)),defaultStyle:{top:0,left:0,width:1280,height:720},referencedAssets:function(e){return f(e.url)?[e.url]:null}},component:function(e){var t=p(e.url,e.assets);return React.createElement("iframe",{src:t,style:{border:"0",height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}};t.a={text:u,rectangle:c,image:d,video:S,audio:O,iframe:E}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n(6);var r={Effects:["duplicator"]},a={duplicator:{type:"wrapper",displayName:"Duplicator",parameters:[{name:"copies",type:"number",tag:"copies",defaultValue:5,inline:!0},{type:"group",items:[{name:"sx",type:"number",tag:"Δ x",defaultValue:5,width:33.3333},{name:"sy",type:"number",tag:"Δ y",defaultValue:5,width:33.3333},{name:"sz",type:"number",tag:"Δ z",defaultValue:5,width:33.3333}]}],component:function(e){for(var t=e.sx,n=void 0===t?5:t,r=e.sy,a=void 0===r?5:r,i=e.sz,o=void 0===i?5:i,l=e.copies,s=void 0===l?5:l,c=e.children,u=[],p=0;p<s;p++){var f=o<0?s-p-1:p;u.push(React.createElement("div",{key:p,style:{position:"absolute",transformStyle:"preserve-3d",transform:"perspective(1000px) translate3d(".concat(n*f,"px, ").concat(a*f,"px, ").concat(o*f,"px"),width:"100%",height:"100%"}},c))}return React.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},u)}}}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return h}));var r=n(2),a=n.n(r),i=n(1),o=n.n(i),l=n(3),s=n.n(l),c=n(11),u=n.n(c),p=n(0);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=Math.PI/180,y=function(e,t){var n={offset:e};if(t){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];for(var o=0,l=a;o<l.length;o++){var s=l[o];n[s]=t[s]||"initial"}}return n},g={"fade-in":{displayName:"Fade In",phase:"entry",parameters:[{name:"fromOpacity",type:"number",displayName:"From",tag:"%",min:0,max:100,immediate:!1}],initialConfig:{delay:0,duration:500,easing:"linear",fromOpacity:0},keyframes:function(e,t){var n=e.fromOpacity;return[{offset:0,opacity:(void 0===n?0:n)/100},y(1,t,"opacity")]}},"slide-in":{displayName:"Slide In",phase:"entry",parameters:[{type:"group",items:[{name:"angle",type:"angle",displayName:"From",tag:"°",width:50,inline:!0},{name:"distance",type:"number",displayName:" Distance",tag:"px",min:0,step:25,width:50,inline:!0}]}],initialConfig:{delay:0,duration:500,easing:"ease-out",angle:90,distance:2e3},keyframes:function(e,t){var n=e.angle,r=void 0===n?0:n,a=e.distance,i=void 0===a?2e3:a,o=t&&t.top?parseFloat(t.top):0,l=t&&t.left?parseFloat(t.left):0;return[{offset:0,top:o-Math.cos(r*m)*i+"px",left:l+Math.sin(r*m)*i+"px"},y(1,t,"top","left")]}},"transform-in":{displayName:"Transform In",phase:"entry",parameters:[{type:"group",items:[{name:"fromRotation",type:"angle",displayName:"Rotate",immediate:!1,width:50},{name:"fromScale",type:"number",displayName:"Scale",min:0,immediate:!1,width:50,tag:"%"}]}],initialConfig:{delay:0,duration:500,easing:"linear",fromRotation:0,fromScale:100},keyframes:function(e,t){var n=e.fromRotation,r=void 0===n?0:n,a=e.fromScale,i=void 0===a?100:a,o=(t?t.transform:null)||"";return[{offset:0,transform:"".concat(o," rotate(").concat(r,"deg) scale(").concat(i/100,")")},{offset:1,transform:"".concat(o," rotate(0) scale(1)")}]}},"custom-in":{displayName:"Custom",phase:"entry",isCustom:!0,initialConfig:{delay:0,duration:500,easing:"linear"},keyframes:function(e,t){e.delay,e.duration,e.easing;var n=u()(e,["delay","duration","easing"]);return[d({offset:0},n),y.apply(void 0,[1,t].concat(o()(Object.keys(n))))]}},"fade-out":{displayName:"Fade Out",phase:"exit",parameters:[{name:"toOpacity",type:"number",displayName:"To",tag:"%",min:0,max:100,immediate:!1}],initialConfig:{delay:0,duration:500,easing:"linear",toOpacity:0},keyframes:function(e,t){var n=e.toOpacity,r=void 0===n?0:n;return[y(0,t,"opacity"),{offset:1,opacity:r/100}]}},"slide-out":{displayName:"Slide Out",phase:"exit",parameters:[{type:"group",items:[{name:"angle",type:"angle",displayName:"To",tag:"°",width:50,inline:!0},{name:"distance",type:"number",displayName:" Distance",tag:"px",min:0,step:25,width:50,inline:!0}]}],initialConfig:{delay:0,duration:500,easing:"ease-in",angle:90,distance:2e3},keyframes:function(e,t){var n=e.angle,r=void 0===n?0:n,a=e.distance,i=void 0===a?2e3:a,o=t&&t.top?parseFloat(t.top):0,l=t&&t.left?parseFloat(t.left):0,s=o-Math.cos(r*m)*i,c=l+Math.sin(r*m)*i;return[y(0,t,"top","left"),{offset:1,top:s+"px",left:c+"px"}]}},"transform-out":{displayName:"Transform Out",phase:"exit",parameters:[{type:"group",items:[{name:"toRotation",type:"angle",displayName:"Rotate",immediate:!1,width:50},{name:"toScale",type:"number",displayName:"Scale",min:0,immediate:!1,width:50,tag:"%"}]}],initialConfig:{delay:0,duration:500,easing:"linear",toRotation:0,toScale:100},keyframes:function(e,t){var n=e.toRotation,r=void 0===n?0:n,a=e.toScale,i=void 0===a?100:a,o=(t?t.transform:null)||"";return[{offset:0,transform:"".concat(o," rotate(0) scale(1)")},{offset:1,transform:"".concat(o," rotate(").concat(r,"deg) scale(").concat(i/100,")")}]}},"custom-out":{displayName:"Custom",phase:"exit",isCustom:!0,initialConfig:{delay:0,duration:500,easing:"linear"},keyframes:function(e,t){e.delay,e.duration,e.easing;var n=u()(e,["delay","duration","easing"]);return[y.apply(void 0,[0,t].concat(o()(Object.keys(n)))),d({offset:1},n)]}}},h=function(e){return Object(p.useMemo)((function(){return e.transitions?Object.entries(e.transitions).reduce((function(t,n){var r=a()(n,2),i=r[0],o=r[1],l=g[i];if(!l)return console.log("Unknown transition.",i),t;var s=t[l.phase];s||(s=t[l.phase]=[]);var c=l.keyframes(o,e.style);return s.push({delay:o.delay,duration:o.duration,easing:o.easing,keyframes:c}),t}),{}):{}}),[e.transitions,e.style])}},20:function(e,t,n){"use strict";var r=n(1),a=n.n(r);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,s=[(l=["Arial","Arial Black","Comic Sans MS","Courier New","Georgia","Impact","Lucida Sans Unicode","Lucida Console","Tahoma","Trebuchet MS","Times New Roman","Verdana"],{fontNames:l,loadFont:function(e){return l.includes(e)?Promise.resolve():null}}),function(){var e=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Baloo","Baloo Bhai","Baloo Bhaijaan","Baloo Bhaina","Baloo Chettan","Baloo Da","Baloo Paaji","Baloo Tamma","Baloo Tammudu","Baloo Thambi","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Battambang","Baumans","Bayon","Belgrano","Bellefair","Belleza","BenchNine","Bentham","Berkshire Swash","Beth Ellen","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Gothic A1","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Grenze","Griffy","Gruppo","Gudea","Gugi","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Josefin Sans","Josefin Slab","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kumar One","Kumar One Outline","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Muli","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Neucha","Neuton","New Rocker","News Cycle","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Red Hat Display","Red Hat Text","Redressed","Reem Kufi","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Song Myung","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Mono","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trirong","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"];return{fontNames:e,loadFont:function(t){return e.includes(t)?new Promise((function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href="https://fonts.googleapis.com/css?family="+encodeURIComponent(t),r.addEventListener("load",(function(){requestAnimationFrame(e)})),r.addEventListener("abort",n),r.addEventListener("error",n),document.head.appendChild(r)})):null}}}()];t.a=function(){var e=[],t={},n=null;return{GetFontNames:function(){if(!n){n=[];var e,t=i(s);try{for(t.s();!(e=t.n()).done;){var r,o=e.value;(r=n).push.apply(r,a()(o.fontNames))}}catch(e){t.e(e)}finally{t.f()}n=n.sort()}return n},LoadFont:function(n){if(e.includes(n))return null;if(t[n])return t[n];var r,a=i(s);try{for(a.s();!(r=a.n()).done;){var o=r.value.loadFont(n);if(o)return t[n]=o,o.then((function(){e.push(n),delete t[n]})),o}}catch(e){a.e(e)}finally{a.f()}return null}}}()},21:function(e,t,n){"use strict";var r=n(4),a=n.n(r),i=n(3),o=n.n(i),l=n(2),s=n.n(l),c=n(0),u=n.n(c),p=n(13),f=n(19),d=n(16),m=n(7),y=n(9),g=n.n(y),h=n(1),b=n.n(h),v=n(14),w=n(6);function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=/(import (.+ from )?["'])(\.\/)?(.+)(["'])/g,C=function(e,t,n,r){var a=Object(c.useState)(null),i=s()(a,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){if(r&&e.scripts&&e.scripts["main.js"]){window._scriptingContexts||(window._scriptingContexts={});var a=window._lastScriptId?window._lastScriptId+1:1;window._lastScriptId=a;var i,o=e.layers?b()(e.layers):[],s={layers:o,maxLayerId:o.map((function(e){return e.id})).reduce((function(e,t){return t.id>e?t.id:e}),0),eventHandlers:{},timeouts:[],intervals:[],scriptUrls:{},isBulkUpdating:!1,logs:[]},c=function(){s.isBulkUpdating||(l(E({},s)),n&&n(s))};try{var u=e.scripts?e.scripts["settings.json"]:null,p=u?JSON.parse(u):null;p&&p.initial&&(i=E({},p.initial))}catch(e){}i||(i={}),e.settings&&Object.apply(i,e.settings);var f,d={settings:i,console:E(E({},console),{},{log:function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];(e=console).log.apply(e,r),s.logs.push(r),s.logs.length>200&&s.logs.splice(0,1),n&&n(s)}}),on:function(e,t){var n=s.eventHandlers[e];n||(n=s.eventHandlers[e]=[]),n.push(t),c()},off:function(e,t){var n=s.eventHandlers[e];if(n){var r=n.indexOf(t);-1!=r&&(n.splice(r,1),c())}},addLayer:function(e,t,n){var r;return(r="object"===g()(e)?e:{elementName:e,config:t,style:n}).id=++s.maxLayerId,s.layers.splice(0,0,r),c(),r.id},layer:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Object(w.d)(s.layers,n),i={length:a.length,config:function(e){if(!e)return 0==a.length?null:s.layers[a[0]].config;var t,n=x(a);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=E({},s.layers[r]);o.config=E(E({},o.config),e),s.layers[r]=o}}catch(e){n.e(e)}finally{n.f()}return c(),i},style:function(e){if(!e)return 0==a.length?null:s.layers[a[0]].style;var t,n=x(a);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=E({},s.layers[r]);o.style=E(E({},o.style),e),s.layers[r]=o}}catch(e){n.e(e)}finally{n.f()}return c(),i},show:function(){var e,t=x(a);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=s.layers[n];s.layers[n]=E(E({},r),{},{hidden:!1})}}catch(e){t.e(e)}finally{t.f()}return c(),i},hide:function(){var e,t=x(a);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=s.layers[n];s.layers[n]=E(E({},r),{},{hidden:!0})}}catch(e){t.e(e)}finally{t.f()}return c(),i},moveUp:function(e){var t;if(0==a.length)return i;if(console.log({indexes:a,layers:s.layers}),0==a[0])return i;var r=e?0:a[0]-1,o=[];return s.layers=s.layers.reduce((function(e,t,n){return a.includes(n)?o.push(t):e.push(t),e}),[]),(t=s.layers).splice.apply(t,[r,null].concat(o)),c(),a=Object(w.d)(s.layers,n),i},moveDown:function(e){var t;if(0==a.length)return i;if(a[a.length-1]==s.layers.length-1)return i;var r=e?s.layers.length-1:a[0]+1,o=[];return s.layers=s.layers.reduce((function(e,t,n){return a.includes(n)?o.push(t):e.push(t),e}),[]),(t=s.layers).splice.apply(t,[r,null].concat(o)),c(),a=Object(w.d)(s.layers,n),i},remove:function(){s.layers=s.layers.filter((function(e,t){return!a.includes(t)})),c()},clone:function(){return 1==a.length?Object(v.cloneDeep)(s.layers[a[0]]):a.map((function(e){return Object(v.cloneDeep)(s.layers[e])}))},dom:function(){if(!t.current)return null;if(0==a.length)return null;var e=s.layers[a[0]].id;return t.current.querySelector("[data-id='".concat(e,"']"))},collect:function(){return s.layers.filter((function(e,t){return a.includes(t)}))}};return i},bulkUpdate:function(e){s.isBulkUpdating=!0,e(),s.isBulkUpdating=!1,c()},setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=setTimeout(e,t);s.timeouts.push(n)})),setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=setInterval(e,t);s.intervals.push(n)}))};n&&n(s),window._scriptingContexts[a]=d;try{f=function e(t,n,r,a,i){var o,l,s;if(n.startsWith("asset:")){var c=a[n];c&&(o=atob(c.src.substring(28)),l=!1)}else o=r[n],l=!0;if(!o)throw"Could not find script or asset: "+n;if(l){var u=o.replace(k,(function(n,o,l,s,c,u){return o+(i[c]||e(t,c,r,a,i))+u}));s=new Blob(["//# sourceURL=".concat(t,"/openoverlay/").concat(n,"\nconst { console, settings, on, off, addLayer, layer, bulkUpdate, setTimeout, setInterval } = window._scriptingContexts[").concat(t,"];\n").concat(u)],{type:"text/javascript"})}else s=new Blob(["//# sourceURL=".concat(t,"/openoverlay/").concat(n,"\n").concat(o)],{type:"text/javascript"});var p=URL.createObjectURL(s);return i[n]=p,p}(a,"main.js",e.scripts,e.assets,s.scriptUrls)}catch(e){console.log("Error compiling script:\n".concat(e))}return f&&import(f).catch((function(e){Object.keys(e).map(console.log),console.log("Error executing script:\n".concat(e.stack),{t:g()(e),lineNumber:e.lineNumber})})),function(){var e,t=x(s.timeouts);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearTimeout(n)}}catch(e){t.e(e)}finally{t.f()}var r,i=x(s.intervals);try{for(i.s();!(r=i.n()).done;){var o=r.value;clearInterval(o)}}catch(e){i.e(e)}finally{i.f()}for(var c=0,u=Object.values(s.scriptUrls);c<u.length;c++){var p=u[c];URL.revokeObjectURL(p)}delete window._scriptingContexts[a],l(null)}}}),[r]),o},j=n(20);n(37);function N(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function e(t){var n=t.element,r=t.layer,i=t.style,o=t.assets,l=t.wrapperRef;n&&n.component||(n={manifest:{},component:function(){return"Unknown component"}});var p=Object(c.useState)(),f=s()(p,2),m=f[0],y=f[1],g=Object(c.useMemo)((function(){return function(e,t){var n=[];if(e.manifest.preload){var r=e.manifest.preload(t.config);r&&n.push(r)}return t.style&&t.style.fontFamily&&n.push(j.a.LoadFont(t.style.fontFamily)),0==n.length?null:Promise.all(n)}(n,r)}),[n,r]);if(g&&null==m)return y(!0),g.finally((function(e){return y(!1)})),null;m&&(i=P(P({},i),{},{visibility:"hidden"}));var h=[],b=[];if(r.effects)for(var v=0,w=Object.entries(r.effects);v<w.length;v++){var x=s()(w[v],2),S=x[0],O=x[1],E=d.b[S];E?O.hidden||("style"==E.type?h.push({effect:E,effectConfig:O}):"wrapper"==E.type&&b.push({effect:E,effectConfig:O})):console.log("Unknown effect",S)}for(var k=0,C=h;k<C.length;k++){var N=C[k];i=N.effect.apply(r,i,N.effectConfig)}for(var L=u.a.createElement("div",{"data-id":r.id,className:"layer-wrapper",style:i,ref:l},u.a.createElement(n.component,a()({},r.config,{layer:r,assets:o,ElementRenderer:e}))),A=0,T=b;A<T.length;A++){var D=T[A];L=u.a.createElement(D.effect.component,a()({},D.effectConfig,{layer:r}),L)}return L},D=function(e){var t=e.element,n=e.overlay,r=e.layer,a=e.index,i=e.hidden,o=e.animationContext,l=e.ElementRenderer,s=Object(c.useRef)(),p=Object(c.useMemo)((function(){var e=P(P({},r.style),{},{zIndex:1e3-a});return s.current||(e.display="none"),e}),[r.style,a,s.current]),d=Object(f.b)(r);return Object(c.useEffect)((function(){var e=o;o||(e=i?{phase:m.a.EXIT,playing:!0}:{phase:m.a.ENTRY,playing:!0});var t=d?d[e.phase.key]:null;if(e.phase!=m.a.STATIC&&null!=t&&0!=t.length)return function(e,t,n){if(n){var r=n.playing?0:n.offset||0;t.style.display="block";var a=e.map((function(e){var a=t.animate(e.keyframes,{delay:e.delay-r,duration:e.duration,easing:e.easing,fill:"both"});return n.playing||a.pause(),a}));return function(){if(a&&a.length>0){var e,t=N(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.transitionProperty||n.cancel()}}catch(e){t.e(e)}finally{t.f()}}}}console.log("Could not apply transitions - animationContext is not set.")}(t,s.current,e);s.current.style.display=i?"none":"block"}),[d,i,s,o]),u.a.createElement(l,{key:r.id,element:t,layer:r,style:p,assets:n.assets,wrapperRef:s})};t.a=function(e){var t=e.overlay,n=e.elements,r=e.zIndex,a=void 0===r?1e4:r,i=e.hidden,o=void 0!==i&&i,l=e.animationContext,s=void 0===l?null:l,f=e.ElementRenderer,d=void 0===f?T:f,m=e.executeScripts,y=void 0===m||m,g=e.onOverlayDomReady,h=e.onScriptStateChanged,b=Object(c.useMemo)((function(){return n?P(P({},p.a),n):p.a}),[n]),v=t.id||"default",w=Object(c.useRef)(),x=C(t,w,h,y);Object(c.useEffect)((function(){g&&g(w.current)}),[]);var S=((x?x.layers:t.layers)||[]).map((function(e,n){var r=b[e.elementName];return r?u.a.createElement(D,{key:e.id,element:r,overlay:t,layer:e,index:n,hidden:o||e.hidden,animationContext:s,ElementRenderer:d}):null}));return u.a.createElement("div",{className:"overlay",ref:w,"data-overlayid":v,style:{zIndex:a}},S)}},357:function(e,t,n){var r=n(358);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},358:function(e,t,n){(t=n(25)(!1)).push([e.i,".move-and-resize-tool { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: visible; z-index: 10001; }\r\n.move-and-resize-tool .resizer-selector { position: relative; display: inline-block; }\r\n.move-and-resize-tool .resize-handle { position: absolute; }\r\n.move-and-resize-tool .resize-handle-center { cursor: move; top: 0; left: 0; bottom: 0; right: 0; z-index: 2; }\r\n.move-and-resize-tool .resize-handle-nw { cursor: nw-resize; border-top: 1px solid Gray; border-left: 1px solid gray; top: -10px; left: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-n { cursor: ns-resize; top: -10px; left: 0; right: 0; height: 10px; }\r\n.move-and-resize-tool .resize-handle-ne { cursor: ne-resize; border-top: 1px solid Gray; border-right: 1px solid gray; top: -10px; right: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-e { cursor: ew-resize; top: 0; right: -10px; bottom: 0; width: 10px; }\r\n.move-and-resize-tool .resize-handle-se { cursor: se-resize; border-bottom: 1px solid Gray; border-right: 1px solid gray; bottom: -10px; right: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-s { cursor: ns-resize; bottom: -10px; left: 0; right: 0; height: 10px; }\r\n.move-and-resize-tool .resize-handle-sw { cursor: sw-resize; border-bottom: 1px solid Gray; border-left: 1px solid gray; bottom: -10px; left: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-w { cursor: ew-resize; top: 0; left: -10px; bottom: 0; width: 10px; }\r\n.move-and-resize-tool .resizer-subrect { position: absolute; border: 1px dashed #333; z-index: 1; }\r\n.move-and-resize-tool .resizer-selector-box { position: absolute; border: 1px dashed #ddd; z-index: 1; }",""]),e.exports=t},359:function(e,t,n){var r=n(360);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},360:function(e,t,n){(t=n(25)(!1)).push([e.i,'\r\n.animation-panel { height: 100%; overflow: hidden; display:flex; }\r\n.animation-panel .scrubber-height { height: 15px; }\r\n.animation-panel .phase-layers { height: 100%; flex: 1 1 auto; border-left: 1px solid #ffffff20; display: flex; flex-direction: column; overflow: hidden; }\r\n.animation-panel .phase-layers .label-width { width: 200px; border-right: 1px solid #ffffff20; }\r\n.animation-panel .phase-layers > .scroll-body { overflow-x: hidden; overflow-y: auto; height: 100%; }\r\n.animation-panel .phase-layers .phase-layer { position: relative; width: 100%; overflow: hidden; border-bottom: 1px solid #ffffff20; background: #00000020; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row { border-bottom: 1px solid #ffffff20; background: #ffffff20; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row .label-width { text-align: right; padding-right: 3px; font-size: 0.8em; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row .label-width label { padding-right: 5px; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row { border-bottom: 1px solid #ffffff20; display: flex; flex-direction: row; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row[isselected="true"] { background: #6cb0ff20; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .animation-name { text-align: right; padding-right: 3px; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline { flex: 1 1 auto; position: relative; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle { position: absolute; top: 0; height: 100%; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle::before { content: ""; position: absolute; top: 10px; width: 100%; height: 8px; background: #00a2ff40; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle .bp3-icon { position: absolute; top: 6px; right: -7px; z-index: 2; }\r\n.animation-panel .phase-layers .phase-header { flex: 0 0 40px; padding: 5px; background: #00000020; display:flex; align-items: center; justify-content: space-between; }\r\n.animation-panel .phase-layers .phase-header .timing { width: 200px; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group { align-items: center; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group .bp3-tag { margin: 3px; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group .bp3-input { height: 25px; }\r\n.animation-panel .phase-layers .scrubber-row { flex: 0 0 15px; display: flex; background: linear-gradient(#ffffff00, #ffffff20); }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber { flex: 1 1 auto; display: flex; position: relative; font-size: 0.8em; margin-right: 1px; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber:last-child { margin-right: 0; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber .caret { position: absolute; top: 0; border-left: 2px solid #FFFFFF20; height: 100vh; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber .caret .bp3-icon { margin-left: -9px; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber label { flex: 1 1 auto; text-align: right; border-left: 1px solid #ffffff20; padding: 0 3px; }\r\n\r\n.animation-panel .animation-editor { border-left: 1px solid #ffffff20; height: 100%; width: 200px; padding: 10px; }',""]),e.exports=t},37:function(e,t,n){var r=n(38);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},38:function(e,t,n){(t=n(25)(!1)).push([e.i,".overlay { animation-delay: 0; animation-play-state: running; }\r\n.overlay * { animation-delay: inherit; animation-play-state: inherit; }\r\n.layer-positioner { position: absolute; transform-style: preserve-3d; }\r\n.layer-wrapper { position: absolute; transform-style: preserve-3d; }\r\n.layer-style { width: 100%; height: 100%; box-sizing: content-box; display: flex; white-space: pre; box-sizing: border-box; }",""]),e.exports=t},395:function(e,t,n){var r=n(396);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},396:function(e,t,n){(t=n(25)(!1)).push([e.i,".script-editor-wrapper { height: 100%; width: 100%; display: flex; flex-direction: row; }\r\n.script-editor-wrapper .script-wrapper { overflow: auto; height: 100%; width: 100%; }\r\n.script-editor-wrapper .script-wrapper .editor-wrapper { float: left; font-family: Consolas, monospace; font-size: 12px; min-width: 100%; min-height: 100%; }\r\n.script-editor-wrapper .script-wrapper .editor-wrapper pre,\r\n.script-editor-wrapper .script-wrapper .editor-wrapper textarea { white-space: pre !important;}\r\n\r\n.script-editor-wrapper .console-wrapper { height: 100%; width: 100%; overflow: hidden; display: flex; flex-direction: column; }\r\n.script-editor-wrapper .console-wrapper .console-header { height: 30px; display: flex; flex-direction: row; align-items: center; background: #ffffff20; }\r\n.script-editor-wrapper .console-wrapper .console-header .title { padding: 5px; }\r\n.script-editor-wrapper .console-wrapper .console-window { flex: 1 1 auto; overflow: auto; background: #000000; font-family: monospace; padding: 3px; font-size: 13px; }\r\n\r\n/*\r\n.script-wrapper .button-bar { margin: 0 5px; display: flex; flex-direction: row; justify-content: space-between; }\r\n.script-wrapper .button-bar button { }\r\n*/\r\n\r\n/* Syntax highlighting */\r\n.script-wrapper .token.comment,\r\n.script-wrapper .token.prolog,\r\n.script-wrapper .token.doctype,\r\n.script-wrapper .token.cdata { color: #90a4ae; }\r\n.script-wrapper .token.punctuation { color: #9e9e9e; }\r\n.script-wrapper .namespace { opacity: 0.7; }\r\n.script-wrapper .token.property,\r\n.script-wrapper .token.tag,\r\n.script-wrapper .token.boolean,\r\n.script-wrapper .token.number,\r\n.script-wrapper .token.constant,\r\n.script-wrapper .token.symbol,\r\n.script-wrapper .token.deleted { color: #e91e63; }\r\n.script-wrapper .token.selector,\r\n.script-wrapper .token.attr-name,\r\n.script-wrapper .token.string,\r\n.script-wrapper .token.char,\r\n.script-wrapper .token.builtin,\r\n.script-wrapper .token.inserted { color: #4caf50; }\r\n.script-wrapper .token.operator,\r\n.script-wrapper .token.entity,\r\n.script-wrapper .token.url,\r\n.script-wrapper .language-css .token.string,\r\n.script-wrapper .style .token.string { color: #795548; }\r\n.script-wrapper .token.atrule,\r\n.script-wrapper .token.attr-value,\r\n.script-wrapper .token.keyword { color: #769dd8; }\r\n.script-wrapper .token.function { color: #f44336; }\r\n.script-wrapper .token.regex,\r\n.script-wrapper .token.important,\r\n.script-wrapper .token.variable { color: #ff9800; }\r\n.script-wrapper .token.important,\r\n.script-wrapper .token.bold { font-weight: bold; }\r\n.script-wrapper .token.italic { font-style: italic; }\r\n.script-wrapper .token.entity { cursor: help; }",""]),e.exports=t},560:function(e,t,n){var r=n(561);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},561:function(e,t,n){(t=n(25)(!1)).push([e.i,"/*# sourceURL=FontStyleEditor.css*/\r\n.font-style-editor {  }\r\n.font-style-editor .button-row-2 > * { flex-basis: 16.66666666666667 !important; margin: 1px 0; }\r\n.font-style-editor .font-family { width: 50%; }\r\n.font-style-editor .font-size { width: 33.3333333%; }\r\n.font-style-editor .font-color { width: 16.6666666%; }\r\n.font-style-editor .font-color .bp3-popover-target { width: 100%; border-left: 1px solid #000; }\r\n.font-style-editor .font-color button { width: 100%; }\r\n.font-style-editor .text-wrap { flex: 0 0 50% !important; margin: 8px 1px 3px 0; }\r\n\r\n.font-style-editor .border-input { display: flex; flex-direction: row; justify-content: flex-start; align-items: stretch; height: 100%; }\r\n.font-style-editor .border-input input[type='color'] { width: 2em !important; height: 2em; margin-right: 0.1em; }\r\n.font-style-editor .border-input select { width: 10em !important; margin-right: 0.1em; }\r\n.font-style-editor .border-input input[type='text'] { width: 5em !important; margin-right: 0.1em; }",""]),e.exports=t},562:function(e,t,n){var r=n(563);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},563:function(e,t,n){(t=n(25)(!1)).push([e.i,".configuration-form { display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-between; overflow: hidden; user-select: none; }\r\n\r\n.configuration-form > .group { margin: 3px 14px 4px 10px; width: 100%; }\r\n.configuration-form > .group > label { margin-bottom: 5px; }\r\n.configuration-form > .group > .group-items { display: flex; flex-direction: row; width: 100%; }\r\n.configuration-form > .group > .group-items > .group-item { display: flex; flex-direction: row; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group { margin: 1px 0 2px 0 !important; width: 100%; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group label { padding: 0 8px 0 0px !important; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group.bp3-inline label { margin: 0; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group .bp3-form-content { margin: 0; padding: 0 2px 0 2px !important; }\r\n\r\n.configuration-form > .bp3-form-group { flex: 1 1 100%; margin-bottom: 10px; margin: 3px 14px 4px 10px !important; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-label { flex-basis: 30%; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-form-content { flex-basis: 70%; }\r\n\r\n/* angle inputs */\r\n.configuration-form .angle-input { display: flex; }\r\n.configuration-form .angle-input .widget { width: 25px; height: 25px; margin-right: 10px; fill: currentColor; color: #ffffffBB; }\r\n.configuration-form .angle-input .widget.changing { color: #4891ff; }\r\n.configuration-form .angle-input .widget:not(.changing):hover { color: #ffffffff; }\r\n\r\n/* easing inputs */\r\n.configuration-form .easing-input {  }\r\n.custom-easing-editor { height: 200px; width: 200px; background: #ffffff80; }\r\n.custom-easing-editor svg { height: 100%; width: 100%; }\r\n.custom-easing-editor svg .handle { cursor: pointer; }\r\n\r\n/* hide chrome number arrows */\r\n.configuration-form input::-webkit-outer-spin-button,\r\n.configuration-form input::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n/* Firefox */\r\n.configuration-form input[type=number] { -moz-appearance: textfield; }\r\n\r\n.configuration-form textarea { min-height: 100px; }\r\n\r\n.configuration-form .bp3-input-action { cursor: ns-resize; }\r\n\r\n/* not sure where else to put this, but i know it doesn't belong here */\r\n.group.size-and-position { margin: 0; }\r\n.group.size-and-position .group-item .bp3-label { flex: 0 0 45%; font-size: 0.9em; text-align: right; }\r\n.group.size-and-position .group-item .bp3-form-content { flex: 0 0 55%; }",""]),e.exports=t},564:function(e,t,n){var r=n(565);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},565:function(e,t,n){(t=n(25)(!1)).push([e.i,".collapsible-panel { }\r\n.collapsible-panel > .panel-header { display: flex; align-items: center; background: #00000020; padding: 3px; cursor: pointer; }\r\n.collapsible-panel > .panel-header:hover { background: #ffffff10; }\r\n.collapsible-panel > .panel-header > .bp3-icon { padding: 4px; }\r\n.collapsible-panel > .panel-header > label { flex: 1 1 auto; cursor: inherit; }\r\n.collapsible-panel > .panel-header > .bp3-button { padding: 4px 10px; min-height: 20px; min-width: 20px; }",""]),e.exports=t},566:function(e,t,n){var r=n(567);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},567:function(e,t,n){(t=n(25)(!1)).push([e.i,".no-content { height: 100%; width: 100%; background: #ffffff20; display: flex; align-items: center; justify-content: center; font-size: 20px; text-align: center; }\r\n.create-keyframe { height: 100%; width: 100%; background: #00000020; display: flex; align-items: center; justify-content: center; font-size: 20px; }\r\n\r\n.element-config-editor { margin-top: 5px; }\r\n.transitions-panel { height: 100%; display: flex; flex-direction: column; }\r\n.transitions-panel .phases-wrapper { flex: 1 1 auto; display: flex; overflow: hidden auto; }\r\n.transitions-panel .phases-wrapper .phase { width: 50%; height: 100%; }\r\n.transitions-panel .phases-wrapper .phase:not(:first-child) { border-left: 1px solid #ffffff20; }\r\n.transitions-panel .phases-wrapper .phase .header { padding: 5px; border-bottom: 1px solid #ffffff20; display: flex; justify-content: space-between; align-items: center; }\r\n.transitions-panel .phases-wrapper .phase .item-list { padding: 2px; }\r\n.transitions-panel .phases-wrapper .phase .item-list .transition-item { margin-bottom: 2px; }\r\n.transitions-panel .phases-wrapper .phase .item-list .transition-item label { flex: 1 1 100%; padding: 3px; text-align: left; }\r\n\r\n.transition-editor { width: 400px; padding: 10px; }\r\n.transition-editor > h5 { padding: 2px 9px; margin-bottom: 0; }\r\n.transition-editor > .custom-transition-form { max-height: 300px; overflow-y: auto; border: 1px solid #ffffff20; }\r\n.transition-editor > .transition-config-form { border-bottom: 1px solid #ffffff20; padding-bottom: 5px; }\r\n.transition-editor > .timing-form { padding-top: 5px; }",""]),e.exports=t},568:function(e,t,n){var r=n(569);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},569:function(e,t,n){(t=n(25)(!1)).push([e.i,".main-toolbar { display: flex; background: #cccccc40;  }\r\n.main-toolbar .bp3-button-group { border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; margin-right: 10px; }\r\n.main-toolbar .bp3-button-group:last-child { margin-right: 0; }\r\n.main-toolbar .bp3-button { border-top-left-radius: 0 !important; border-top-right-radius: 0 !important; }\r\n.main-toolbar select { text-shadow: 0 0 2px #000; }",""]),e.exports=t},570:function(e,t,n){var r=n(571);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},571:function(e,t,n){(t=n(25)(!1)).push([e.i,".resizable { flex-shrink: 0; flex-grow: 0; }\r\n.resize-bar {  position: relative; overflow: visible; }\r\n.resize-bar .inner { position: absolute; top: 0; left: 0; height: 100%; border:0px solid #44505A; z-index: 11; }\r\n.resize-bar.top .inner { height: 4px; margin-top: -4px; border-bottom-width: 1px; width: 100%; }\r\n.resize-bar.bottom .inner { height: 4px; border-top-width: 1px; width: 100%; }\r\n.resize-bar.left .inner { width: 4px; margin-left: -4px; border-right-width: 1px; }\r\n.resize-bar.right .inner { width: 4px; border-left-width: 1px; }\r\n.resize-bar.top.can-resize .inner { cursor: ns-resize; }\r\n.resize-bar.bottom.can-resize .inner { cursor: ns-resize; }\r\n.resize-bar.left.can-resize .inner { cursor: ew-resize; }\r\n.resize-bar.right.can-resize .inner { cursor: ew-resize; }",""]),e.exports=t},572:function(e,t,n){var r=n(573);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},573:function(e,t,n){(t=n(25)(!1)).push([e.i,'.reorderable-list { height: 100%; }\r\n.reorderable-list > .item { background: #ffffff10; }\r\n.reorderable-list > .item[dragging="true"] { background: #137cbd80; }\r\n.reorderable-list > .item:not([isselected="true"]):hover { background: rgba(138, 155, 168, 0.4); }',""]),e.exports=t},574:function(e,t,n){var r=n(575);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},575:function(e,t,n){(t=n(25)(!1)).push([e.i,'.layer-list .layer-header { display: flex; align-items: center; cursor: pointer; }\r\n.layer-list .layer-header[isselected="true"] { background: #137cbd80; }\r\n.layer-list .layer-header .label { flex: 1 1 100%; text-align: left; padding: 6px 5px; }\r\n.layer-list .layer-header .label .label-editor { width: 100%; display: inline-block; }\r\n.layer-list .layer-header .label input { height: 25px; min-height: 0; }\r\n\r\n.layer-list .effect { display: flex; align-items: center; font-size: 0.9em !important; padding-left: 20px; background: #00000020; }\r\n.layer-list .effect .bp3-button { font-size: inherit; min-height: 20px; }\r\n.layer-list .effect .label { flex: 1 1 100%; align-self: center; padding: 0 5px; cursor: pointer; }\r\n',""]),e.exports=t},576:function(e,t,n){var r=n(577);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},577:function(e,t,n){(t=n(25)(!1)).push([e.i,".stage-container {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    line-height: normal;\r\n    z-index: 1;\r\n    background: #111 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIBJREFUeNq01EsKwCAMBFBNV73/YUsLJU2ggkj90MwMzE4eEoxZVdObbN2tW1rLZT1HB4QFF5wCF5wCuyks2C8tLNjHLSy4fi1weIaH4BEehns4BP7CYXCLQ+Eah8MFp8AWzdWXC4Wth7Bg6y0seGX9f8MzPASP8DDcwyGw5xFgACKHOSst2JgZAAAAAElFTkSuQmCC');\r\n}\r\n.stage-container .stage { flex: 0 0 auto; position: relative; overflow: visible;  z-index: 1; background-size: contain; background-position: center center; background-repeat: no-repeat; }\r\n.stage-container .stage > * { height: 100%; width: 100%; background: rgba(0, 0, 0, 0.5); }\r\n.stage-container .stage-view-container { position: absolute; top: 10px; right: 10px; z-index: 10002; display: flex; }",""]),e.exports=t},578:function(e,t,n){var r=n(579);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},579:function(e,t,n){(t=n(25)(!1)).push([e.i,".asset-list-wrapper { flex: 1 1 auto; height: 100%; overflow: hidden; }\r\n\r\n.asset-list { height: 100%; display: flex; flex-direction: column; }\r\n\r\n.no-asset-message { height: 100%; margin: 10px; background: #00000040; display: flex; justify-content: center; align-items: center; text-align: center; font-size: 1.5em; opacity: 0.8; }\r\n.no-asset-message > div { text-align: center; }\r\n.no-asset-message .icon { display: block; margin-bottom: 10px; }\r\n\r\n.asset-popover { padding: 10px; }\r\n.asset-popover .preview-wrapper { width: 320px; height: 180px; border: 1px solid #ffffff20; background: #000000; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; }\r\n.asset-popover .preview-wrapper > video,\r\n.asset-popover .preview-wrapper > img { width: 100%; height: 100%; object-fit: contain; }\r\n.asset-popover .preview-actions { display: flex; justify-content: space-between; }",""]),e.exports=t},580:function(e,t,n){var r=n(581);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},581:function(e,t,n){(t=n(25)(!1)).push([e.i,".script-list { }\r\n.script-list .script-list-item { display: flex; align-items: center; }\r\n.script-list .script-list-item .bp3-icon { padding: 0 5px; }\r\n.script-list .script-list-item .label { flex: 1 1 100%; text-align: left; padding: 6px 5px; }\r\n.script-list .script-list-item .label .label-editor { width: 100%; display: inline-block; }\r\n.script-list .script-list-item .label input { height: 25px; min-height: 0; }\r\n\r\n.delete-popover-body { padding: 10px; }\r\n.delete-popover-body .buttons { padding-top: 10px; display: flex; justify-content: flex-end; }\r\n.delete-popover-body .buttons > * { margin-left: 5px; }",""]),e.exports=t},582:function(e,t,n){var r=n(583);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},583:function(e,t,n){(t=n(25)(!1)).push([e.i,".script-settings-panel { padding: 5px; height: 100%; overflow: auto; }\r\n.script-settings-panel .configuration-form { padding: 5px 0; }",""]),e.exports=t},584:function(e,t,n){var r=n(585);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},585:function(e,t,n){(t=n(25)(!1)).push([e.i,".console-panel { height: 100%; width: 100%; overflow: hidden; display: flex; flex-direction: column; }\r\n.console-panel .console-header { height: 32px; display: flex; flex-direction: row; align-items: center; background: #ffffff20; }\r\n.console-panel .console-header .title { padding: 5px; }\r\n.console-panel .console-window { flex: 1 1 auto; overflow: auto; background: #000000; font-family: monospace; padding: 3px; font-size: 13px; color: #ebebeb; }\r\n",""]),e.exports=t},586:function(e,t,n){var r=n(587);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},587:function(e,t,n){(t=n(25)(!1)).push([e.i,".layout-changer { width: 100%; height: 100%; display: flex; flex-direction: row; overflow: hidden; user-select: none; position: relative; }\r\n\r\n.layout-changer .script-wrapper {  }\r\n.layout-changer .panel-bg { background: #293742; }\r\n\r\n.layout-changer .app-toaster { position: absolute !important; }\r\n.layout-changer .bottom-bar { padding: 5px 0; flex: 0 0 auto; overflow: hidden; display: flex; flex-direction: column; height: 100%; }\r\n.layout-changer .bottom-bar .center-buttons { display: flex; flex-direction: row; justify-content: center; margin: 5px 0; }\r\n.layout-changer .bottom-bar .center-buttons > * { margin-right: 5px; }\r\n.layout-changer .bottom-bar .center-buttons > *:last-child { margin-right: 0; }\r\n.layout-changer .bottom-bar .bottom-tabs .bp3-tab-panel { margin-top: 5px; }\r\n.layout-changer .leftpanel-wrapper {  z-index: 3; height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .rightpanel-wrapper { z-index: 3; height: 100%; display: flex; flex-direction: column; justify-content: flex-start; overflow-y: auto; overflow-x: hidden; }\r\n\r\n.layout-changer .lists-wrapper { height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .lists-wrapper .new-object { flex: 0 0 30px; }\r\n.layout-changer .lists-wrapper .list-button { text-overflow: ellipsis; overflow: hidden; width: 30px; }\r\n.layout-changer .lists-panel { flex: 1 1 auto; margin-bottom: 1px; background: #00000040; overflow: hidden; }\r\n\r\n.layout-changer .lists-panel .main-list { flex: 1 1 auto; height: 100%; height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .lists-panel .main-list > .actions { padding: 10px; border-bottom: 1px solid #ffffff20; display: flex; }\r\n.layout-changer .lists-panel .main-list > .actions .bp3-divider { border-color: #ffffff20; }\r\n.layout-changer .lists-panel .main-list > .actions .right { flex: 1 1 auto; text-align: right; }\r\n.layout-changer .lists-panel .main-list > .list-items { margin: 0px 1px 5px 0; flex: 1 1 auto; overflow-y: auto; }\r\n\r\n.layout-changer .center-wrapper { display: flex; flex-direction: column; flex: 1 1 auto; overflow: hidden; }\r\n.layout-changer .center-wrapper .stage-wrapper { flex: 1 1 auto; flex-direction:column; position: relative; }\r\n.layout-changer .center-wrapper .bottom-panel-wrapper { height: 100%; display: flex; }\r\n.layout-changer .center-wrapper .bottom-panel-wrapper .editor-tabs { flex: 1 1 auto; }\r\n.layout-changer .center-wrapper .bottom-panel-wrapper .console-wrapper { height: 100%; }\r\n\r\n.layout-changer .stage-wrapper .toolbar-wrapper { margin-top: -30px; width: 100%; display: flex; justify-content: flex-end; padding: 5px; }\r\n.layout-changer .stage-wrapper .toolbar-wrapper > * { margin-top: 30px; z-index: 2; height: 30px; }\r\n\r\n.layout-changer .btn-minimize-bottom { margin-right: 0; height: 100%; }\r\n.layout-changer .btn-minimize-bottom svg { margin-top: -2px; }\r\n\r\n/* disable focus outlines */\r\n.layout-changer *:focus { outline: none; }\r\n\r\n/* should probably go somewhere else */\r\n.toolbar .bp3-button { border-radius: 0 !important; }\r\n\r\n.no-outline * { outline: 0; }",""]),e.exports=t},588:function(e,t,n){var r=n(589);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},589:function(e,t,n){(t=n(25)(!1)).push([e.i,'/* reusable styles for the editor */\r\n.normal-tabs { height: 100%; display: flex; flex-direction: column; overflow: hidden; }\r\n.normal-tabs .bp3-tab-list { }\r\n.normal-tabs .bp3-tab-list .bp3-tab { padding: 0 5px 2px 5px; margin-right: 0; color: #ffffff80;  }\r\n.normal-tabs .bp3-tab-list .bp3-tab .bp3-icon { padding: 0 1px 0 5px }\r\n.normal-tabs .bp3-tab-list .bp3-tab .title { padding: 0 5px; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:not([aria-selected="true"]) button { visibility: hidden; }\r\n.normal-tabs .bp3-tab-list .bp3-tab button { min-height: 20px; height: 20px; vertical-align: text-top; }\r\n.normal-tabs .bp3-tab-list .bp3-tab button:hover { background: none !important; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:hover button { visibility: visible; }\r\n.normal-tabs .bp3-tab-list .bp3-tab[aria-selected="true"] { color: #ffffff; background-color: #00000040; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:not([aria-disabled="true"]):hover { color: inherit; }\r\n.normal-tabs .bp3-tab-panel { margin-top: 0; background-color: #00000040; flex: 1 1 auto; overflow: auto; }\r\n\r\n.popover-body { padding: 5px; }',""]),e.exports=t},6:function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"a",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"c",(function(){return S}));var r=n(8),a=n.n(r),i=n(12),o=n.n(i),l=n(2),s=n.n(l),c=n(9),u=n.n(c);n(3);function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){return e?"function"==typeof e?e:function(){return e}:null},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseFloat(e);return isNaN(n)?t:n},y=function(e,t){return t>e?t:e},g=function(e,t){if(1==t.length){var n=h(t[0]);return e.reduce((function(e,t,r){return n(t)&&e.push(r),e}),[])}var r=t.map(h);return e.reduce((function(e,t,n){var a,i=p(r);try{for(i.s();!(a=i.n()).done;){if((0,a.value)(t)){e.push(n);break}}}catch(e){i.e(e)}finally{i.f()}return e}),[])},h=function(e){if(!e)return function(e){return!0};switch(u()(e)){case"object":return function(t){for(var n=0,r=Object.entries(e);n<r.length;n++){var a=s()(r[n],2),i=a[0],o=a[1];if(t[i]!=o)return!1}return!0};case"string":return function(t){return t.label==e};case"number":return function(t){return t.id==e};default:return e}};var b=function(e){var t=document.createElement("textarea");t.style.position="absolute",t.style.top="-99999px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),setTimeout((function(){document.body.removeChild(t)}),100)},v=function(e,t,n){var r=n.top,a=n.left,i=0,o=0;return r-=t.height/2,a-=t.width/2,r+=t.panning[1],a+=t.panning[0],r*=t.zoom,a*=t.zoom,r+=e.height/2,a+=e.width/2,n.bottom?i=(n.bottom-n.top)*t.zoom:n.height&&(i=n.height*t.zoom),n.right?o=(n.right-n.left)*t.zoom:n.width&&(o=n.width*t.zoom),{top:r,left:a,height:i,width:o}},w=function(e,t,n){var r=n.top,a=n.left;return r-=e.height/2,a-=e.width/2,r/=t.zoom,a/=t.zoom,r-=t.panning[1],a-=t.panning[0],{top:r+=t.height/2,left:a+=t.width/2,height:n.height?n.height/t.zoom:0,width:n.width?n.width/t.zoom:0}},x=function(e){return new Promise((function(t,n){var r=document.createElement("input");r.type="file",r.style="display: none",r.accept=e,r.addEventListener("change",(function(e){0!=r.files.length?t(r.files):n()})),r.click()}))},S=function(){var e=o()(a.a.mark((function e(t,n){var r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n).then((function(e){return e.blob()}));case 2:r=e.sent,(i=document.createElement("a")).style.display="none",o=window.URL.createObjectURL(r),i.href=o,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},629:function(e,t,n){"use strict";n.r(t);var r,a,i=n(0),o=n.n(i),l=n(8),s=n.n(l),c=n(1),u=n.n(c),p=n(12),f=n.n(p),d=n(2),m=n.n(d),y=n(3),g=n.n(y),h=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9\-]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i,b=[{match:function(e){return e.match(/image/i)},assetType:"image",getLayer:function(e){return{elementName:"image",config:{url:e}}},getNaturalDimensions:(a=f()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=new Image;r.addEventListener("load",(function(){e({width:r.naturalWidth,height:r.naturalHeight})})),r.src=t,setTimeout(n,500)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{match:function(e,t){return e.match(/video/i)||e.match(/text\/html/i)&&t&&t.match(h)},assetType:"video",getLayer:function(e){return{elementName:"video",config:{url:e}}},getNaturalDimensions:(r=f()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.match(h)){e.next=3;break}return e.abrupt("return",{width:1280,height:720});case 3:return e.next=5,new Promise((function(e,n){var r=document.createElement("video");r.addEventListener("loadeddata",(function(){e({width:r.videoWidth,height:r.videoHeight})}));var a=document.createElement("source");a.src=t,r.appendChild(a),setTimeout(n,500)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{match:function(e){return e.match(/audio/i)},assetType:"audio",getLayer:function(e){return{elementName:"audio",config:{url:e}}}},{match:function(e){return e.match(/script/i)},assetType:"script"},{match:function(e){return e.match(/html/i)},assetType:"html",getLayer:function(e){return{elementName:"iframe",config:{url:e}}}}];function v(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var S="__undo",O="__redo",E=function(e,t,n,r){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),i=[],o={pointer:0,history:[]},l=function(e,t){var r=n(e,t);if(!r)return null;if(o.pointer>0){var a=o.history.length-o.pointer;o.history.splice(a,o.pointer),o.pointer=0}o.history.length>40&&o.history.splice(0,1),o.history.push(r)},s=function(e){if(0!=o.history.length){var t=o.pointer+(e?-1:1);if(!(t>o.history.length-1||t<0)){o.pointer=t;var n=o.history[o.history.length-1-t];r(a,n)}}};return{_state:a,select:function(e){return e.map((function(e){return e(a)}))},subscribe:function(e){i.push(e)},unsubscribe:function(e){i=i.filter((function(t){return t!=e}))},dispatch:function e(n,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n==S)s(!1);else if(n==O)s(!0);else{var c=t[n];if(!c)return void console.log("Unknown reducer method:"+n);var u=c(a,r);if(!u)return;if("function"==typeof u)return void u(e);o&&l(a,u),a=Object.assign(a,u)}var p,f=v(i);try{for(f.s();!(p=f.n()).done;){var d=p.value;d()}}catch(e){f.e(e)}finally{f.f()}}}},k=n(16),C=n(6),j=n(7),N=n(13),L=n(4),A=n.n(L),P=n(356),T=n.n(P);function D(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={GLOBAL:[{key:"z",ctrl:!0,action:function(e){return e(S)}},{key:"y",ctrl:!0,action:function(e){return e(O)}},{key:"0",ctrl:!0,action:function(e){return e("ResetStageZoom")}}],LAYERS:[{key:"a",ctrl:!0,action:function(e){return e("SelectAllLayers")}},{key:"r",ctrl:!1,action:function(e){return e("ResetSelectedLayers")}},{key:"[",ctrl:!1,action:function(e){return e("RaiseSelectedLayers",!1)}},{key:"[",ctrl:!0,action:function(e){return e("RaiseSelectedLayers",!0)}},{key:"]",ctrl:!1,action:function(e){return e("LowerSelectedLayers",!1)}},{key:"]",ctrl:!0,action:function(e){return e("LowerSelectedLayers",!0)}},{key:"Tab",shift:!1,action:function(e){return e("SelectNextLayer",!1)}},{key:"Tab",shift:!0,action:function(e){return e("SelectNextLayer",!0)}},{key:"Delete",action:function(e){return e("DeleteSelection")}},{key:"c",ctrl:!0,action:function(e){return e("CopySelectedLayersToClipboard")}},{key:"Escape",action:function(e){return e("SelectLayers",[])}}],MOVE_AND_RESIZE:[{key:"c",ctrl:!1,action:function(e,t){return e("CenterSelectedLayers",t.current)}},{key:"f",ctrl:!1,action:function(e,t){return e("FullscreenSelectedLayers",t.current)}},{key:"+",shift:!1,action:function(e,t){return e("ScaleSelectedLayers",z(z({},t.current),{},{direction:"up",precise:!1}))}},{key:"+",shift:!0,action:function(e,t){return e("ScaleSelectedLayers",z(z({},t.current),{},{direction:"up",precise:!0}))}},{key:"-",shift:!1,action:function(e,t){return e("ScaleSelectedLayers",z(z({},t.current),{},{direction:"down",precise:!1}))}},{key:"-",shift:!0,action:function(e,t){return e("ScaleSelectedLayers",z(z({},t.current),{},{direction:"down",precise:!0}))}},{key:"ArrowRight",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"right",toEdge:!0,precise:!1}))}},{key:"ArrowRight",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"right",toEdge:!1,precise:!0}))}},{key:"ArrowRight",action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"right",toEdge:!1,precise:!1}))}},{key:"ArrowLeft",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"left",toEdge:!0,precise:!1}))}},{key:"ArrowLeft",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"left",toEdge:!1,precise:!0}))}},{key:"ArrowLeft",action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"left",toEdge:!1,precise:!1}))}},{key:"ArrowUp",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"up",toEdge:!0,precise:!1}))}},{key:"ArrowUp",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"up",toEdge:!1,precise:!0}))}},{key:"ArrowUp",action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"up",toEdge:!1,precise:!1}))}},{key:"ArrowDown",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"down",toEdge:!0,precise:!1}))}},{key:"ArrowDown",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"down",toEdge:!1,precise:!0}))}},{key:"ArrowDown",action:function(e,t){return e("NudgeSelectedLayers",z(z({},t.current),{},{direction:"down",toEdge:!1,precise:!1}))}}],ANIMATION:[{key:" ",action:function(e){return e("ToggleAnimationPlaying")}}],SCRIPT:[{key:"e",ctrl:!0,action:function(e){return e("ExecuteScript")}}]},R=function e(t){var n=this;T()(this,e),g()(this,"_dispatch",void 0),g()(this,"_registrations",[]),g()(this,"register",(function(e,t){n._registrations.push({hotkeySet:e,context:t})})),g()(this,"unregister",(function(e){n._registrations=n._registrations.filter((function(t){return t.hotkeySet!=e}))})),g()(this,"handleKeydown",(function(e){var t=e.ctrlKey||e.metaKey,r=e.shiftKey;if("INPUT"!=e.target.tagName&&"SELECT"!=e.target.tagName&&"TEXTAREA"!=e.target.tagName){var a,i=!1,o=D(n._registrations);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(i)break;var s,c=D(l.hotkeySet);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(e.key==u.key&&(t==!!u.ctrl&&r==!!u.shift)){e.preventDefault(),u.action(n._dispatch,l.context),i=!0;break}}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}}})),g()(this,"canCleanUp",(function(){return 0==n._registrations.length})),this._dispatch=t},B=function(e,t){var n=Pe();Object(i.useEffect)((function(){return window.hotkeyManager||(window.hotkeyManager=new R(n),window.addEventListener("keydown",window.hotkeyManager.handleKeydown)),window.hotkeyManager.register(e,t),function(){window.hotkeyManager.unregister(e),window.hotkeyManager.canCleanUp()&&(window.removeEventListener("keydown",window.hotkeyManager.handleKeydown),window.hotkeyManager=null)}}),[])};n(357);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G={top:!0,left:!0,bottom:!0,right:!0},V={top:!1,left:!1,bottom:!1,right:!1},W=function(e){var t=e.containerElement,n=Pe((function(e){return e.overlay.layers}),(function(e){return e.animationContext}),(function(e){return e.selectedLayerIds}),(function(e){return e.stageTransform})),r=m()(n,2),a=m()(r[0],4),l=a[0],s=(a[1],a[2]),c=a[3],p=r[1],f=Object(i.useState)(),d=m()(f,2),y=d[0],h=d[1],b=Object(i.useMemo)((function(){return function(e){return e?e.reduce((function(e,t){if(!t.style)return e;if(null==t.style.width||null==t.style.height)return e;var n={layerid:t.id,top:Object(C.f)(t.style.top),left:Object(C.f)(t.style.left),height:Object(C.f)(t.style.height),width:Object(C.f)(t.style.width)};return n.bottom=n.top+n.height,n.right=n.left+n.width,e.push(n),e}),[]):[]}(l)}),[l]),v=Object(i.useMemo)((function(){return function(e,t){var n=e.reduce((function(e,n){return t.includes(n.layerid)&&(e.rects.push(n),n.top<e.boundingBox.top&&(e.boundingBox.top=n.top),n.left<e.boundingBox.left&&(e.boundingBox.left=n.left),n.bottom>e.boundingBox.bottom&&(e.boundingBox.bottom=n.bottom),n.right>e.boundingBox.right&&(e.boundingBox.right=n.right)),e}),{selectedLayerIds:t,rects:[],boundingBox:{top:Number.MAX_SAFE_INTEGER,left:Number.MAX_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER,right:Number.MIN_SAFE_INTEGER}});return n.rects.length>0&&(n.boundingBox.width=n.boundingBox.right-n.boundingBox.left,n.boundingBox.height=n.boundingBox.bottom-n.boundingBox.top),n}(b,s)}),[b,s]),w=Object(i.useRef)();Object(i.useEffect)((function(){w.current={selectableRects:b,selection:v,stageTransform:c}}),[b,v,c]);var x=Object(i.useRef)();Object(i.useEffect)((function(){x.current=v}),[v]),B(F.MOVE_AND_RESIZE,x);var S=Object(i.useCallback)((function(e,t){var n=w.current,r=n.selectableRects,a=n.selection,i=e.left,o=e.top,l=e.width,c=e.height,p=e.left+e.width,f=e.top+e.height;if(0==l||0==c){var d=r.reduce((function(e,t){return o>t.top&&i>t.left&&o<t.bottom&&i<t.right&&e.push(t.layerid),e}),[]);if(0==d.length)return[];if(0==a.selectedLayerIds.length)return[d[0]];if(t)return s.includes(d[0])?s.filter((function(e){return e!=d[0]})):[].concat(u()(a.selectedLayerIds),[d[0]]);var m=d.findIndex((function(e){return a.selectedLayerIds.includes(e)}));return-1==m?[d[0]]:(m=(m+1)%d.length,[d[m]])}var y=r.reduce((function(e,t){return o<t.top&&i<t.left&&f>t.bottom&&p>t.right&&e.push(t.layerid),e}),[]);if(t){var g,h=u()(a.selectedLayerIds),b=K(y);try{for(b.s();!(g=b.n()).done;){var v=g.value;h.contains(v)||h.push(v)}}catch(e){b.e(e)}finally{b.f()}return h}return y}),[]),O=Object(i.useCallback)((function(e){if(1==e.buttons){var n,r=e.target.getAttribute("data-edge");if(n=r?"center"==r?G:{top:"nw"==r||"n"==r||"ne"==r,left:"nw"==r||"w"==r||"sw"==r,right:"ne"==r||"e"==r||"se"==r,bottom:"sw"==r||"s"==r||"se"==r}:V){var a=w.current,i=t.getBoundingClientRect(),o=a.selection.boundingBox,l=a.selection.rects,s=function(e){return Object(C.a)(i,a.stageTransform,e)},c=function(e,t){var n=e.width/o.width,r=e.height/o.height;p("UpdateSelectionStyle",(function(t){var a=l.find((function(e){return e.layerid==t.id}));return{top:e.top+(a.top-o.top)*r+"px",left:e.left+(a.left-o.left)*n+"px",width:a.width*n,height:a.height*r}}),t)};t.style.cursor=e.target.getAttribute("data-cursor");var u,f={top:e.clientY-i.top,left:e.clientX-i.left,height:0,width:0},d=u=r?Object(C.i)(i,a.stageTransform,{top:o.top,left:o.left,height:o.height,width:o.width}):{top:f.top,left:f.left,height:0,width:0},m=function(e){var t=e.clientY-i.top,r=e.clientX-i.left-f.left,a=t-f.top,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u);if(n==V)a<0&&(o.top=f.top+a,a*=-1),r<0&&(o.left=f.left+r,r*=-1),o.height=a,o.width=r;else if(n==G)e.ctrlKey?Math.abs(r/a)>1?o.left+=r:o.top+=a:(o.left+=r,o.top+=a);else if(n){var l,p=-o.height/o.width,m=e.ctrlKey;if((n.top||n.bottom)&&(n.left||n.right)&&m)l=n.bottom?n.left?(-o.height-a)/(o.width-r):(-o.height-a)/(-o.width-r):n.left?(o.height-a)/(o.width-r):(o.height-a)/(-o.width-r),n.top&&n.left||n.bottom&&n.right?l<-p?a=r*-p:r=a/-p:l>p?a=r*p:r=a/p;n.top&&(o.height-a<0?(o.top=o.top+o.height-1,o.height=1):(o.top+=a,o.height=o.height-a)),n.bottom&&(o.height=Math.max(1,o.height+a)),n.left&&(o.width-r<0?(o.left=o.left+o.width,o.width=1):(o.left+=r,o.width=o.width-r)),n.right&&(o.width=Math.max(1,o.width+r))}if(d=o,n!=V){var y=s(o);c(y,!1)}else h(o)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",(function e(r){if(t.style.cursor="",window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",e),d==u){var a=S(s(f),r.ctrlKey);p("SelectLayers",a)}else if(n==V){var i=S(s(d),r.ctrlKey);p("SelectLayers",i),h(null)}else c(s(d),!0)}))}}}),[]);Object(i.useEffect)((function(){return t.addEventListener("mousedown",O),function(){return t.removeEventListener("mousedown",O)}}),[]);var E=[],k=t.getBoundingClientRect();if(v.boundingBox){var j=Object(C.i)(k,c,v.boundingBox),N={top:j.top+"px",left:j.left+"px",width:j.width+"px",height:j.height+"px"};E.push(o.a.createElement("div",{className:"resizer-selector",style:N,key:"-1"},o.a.createElement("div",{className:"resize-handle resize-handle-nw","data-edge":"nw"}),o.a.createElement("div",{className:"resize-handle resize-handle-n","data-edge":"n"}),o.a.createElement("div",{className:"resize-handle resize-handle-ne","data-edge":"ne"}),o.a.createElement("div",{className:"resize-handle resize-handle-e","data-edge":"e"}),o.a.createElement("div",{className:"resize-handle resize-handle-se","data-edge":"se"}),o.a.createElement("div",{className:"resize-handle resize-handle-s","data-edge":"s"}),o.a.createElement("div",{className:"resize-handle resize-handle-sw","data-edge":"sw"}),o.a.createElement("div",{className:"resize-handle resize-handle-w","data-edge":"w"}),o.a.createElement("div",{className:"resize-handle resize-handle-center","data-edge":"center"})))}var L,A=K(v.rects);try{for(A.s();!(L=A.n()).done;){var P=L.value,T=Object(C.i)(k,c,P),D={top:T.top+"px",left:T.left+"px",width:T.width+"px",height:T.height+"px"};E.push(o.a.createElement("div",{className:"resizer-subrect",style:D,key:P.layerid}))}}catch(e){A.e(e)}finally{A.f()}return o.a.createElement(o.a.Fragment,null,y?o.a.createElement("div",{className:"resizer-selector-box",key:"selector-box",style:y}):null,E)},Y={moveAndResize:{displayName:"Move And Resize",icon:"select",component:function(e){var t=Object(i.useRef)(),n=Object(i.useState)(),r=m()(n,2),a=r[0],l=r[1];return Object(i.useEffect)((function(){l(t.current)}),[]),o.a.createElement("div",{className:"move-and-resize-tool",ref:t},t.current?o.a.createElement(W,A()({containerElement:a},e)):null)}}},Z=n(55),_={fadein:{displayName:"Fade In",create:function(e){return{phase:"entry",preset:"fade",config:{from:0,to:100}}}},fadeout:{displayName:"Fade Out",create:function(e){return{phase:"exit",preset:"fade",config:{from:100,to:0}}}},slidedown:{displayName:"Slide Down",create:function(e){return{phase:"entry",preset:"slide",config:{absolute:!1,fromLeft:0,fromTop:-1080,toLeft:0,toTop:0}}}},slideup:{displayName:"Slide Up",create:function(e){return{phase:"exit",preset:"slide",config:{absolute:!1,fromLeft:0,fromTop:0,toLeft:0,toTop:-1080}}}}},J={entry:[_.fadein,_.slidedown],exit:[_.fadeout,_.slideup]},X={fade:{displayName:"Fade",parameters:[{type:"group",items:[{name:"from",type:"number",displayName:"From",tag:"%",min:0,max:100,width:50},{name:"to",type:"number",displayName:"To",tag:"%",min:0,max:100,width:50}]}],keyframes:function(e){return[{offset:0,opacity:e.from/100},{offset:1,opacity:e.to/100}]}},slide:{displayName:"Slide",parameters:[{type:"group",items:[{name:"fromTop",type:"number",displayName:"From Top",tag:"px",width:35},{name:"fromLeft",type:"number",displayName:"From Left",tag:"px",width:35},{name:"fromRelative",type:"select",displayName:"Relative To",width:30,options:[{label:"Stage",value:"stage"},{label:"Self",value:"self"}]}]},{type:"group",items:[{name:"toTop",type:"number",displayName:"To Top",tag:"px",width:35},{name:"toLeft",type:"number",displayName:"To Left",tag:"px",width:35},{name:"toRelative",type:"select",displayName:"Relative To",width:30,options:[{label:"Stage",value:"stage"},{label:"Self",value:"self"}]}]}],keyframes:function(e,t){var n=e.fromTop,r=void 0===n?0:n,a=e.fromLeft,i=void 0===a?0:a,o=e.fromRelative,l=e.toTop,s=void 0===l?0:l,c=e.toLeft,u=void 0===c?0:c,p="stage"==o,f="stage"==e.toRelative,d=Object(C.f)(r),m=Object(C.f)(i),y=Object(C.f)(s),g=Object(C.f)(u);return p||(t.style.top&&(d+=Object(C.f)(t.style.top)),t.style.left&&(m+=Object(C.f)(t.style.left))),f||(t.style.top&&(y+=Object(C.f)(t.style.top)),t.style.left&&(g+=Object(C.f)(t.style.left))),[{offset:0,top:d+"px",left:m+"px"},{offset:1,top:y+"px",left:g+"px"}]}}};n(359);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te={isStartEnd:!0,offset:0},ne={isStartEnd:!0,offset:1},re=function(e){var t=e.keyframe,n=e.offset,r=e.prevOffset,a=e.onMouseDown,l=Object(i.useCallback)((function(e){if(1==(1&e.buttons)&&a){var n=e.target.classList.contains("keyframe-handle");a(e,t,n)}}),[a,t]);return o.a.createElement("div",{className:"keyframe-handle",style:{left:100*r+"%",width:100*(n-r)+"%"},onMouseDown:l},o.a.createElement(Z.Icon,{icon:t.isStartEnd?"symbol-square":"symbol-diamond"}))},ae=function(e){var t=e.animationContext,n=e.timelineDuration,r=e.onChangeOffset,a=e.onGetClipOffsets,l=e.showCaret,s=void 0!==l&&l,c=Object(i.useRef)(),u=Object(i.useRef)(),p=Object(i.useCallback)((function(e){var i=c.current.getBoundingClientRect(),o=a(),l=.01*n,s=function(e){return Math.max(0,Math.min(1,(e.clientX-i.left)/i.width))*t.duration};r(s(e));var u=function(e){var t=s(e);if(!e.ctrlKey){var n,a=Q(o);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(Math.abs(i-t)<l){t=i;break}}}catch(e){a.e(e)}finally{a.f()}}r(t)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",(function e(t){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",e)}))}),[t,n,a]);Object(i.useEffect)((function(){if(s&&t.phase!=j.a.STATIC){var e,r=Q(u.current.getAnimations());try{for(r.s();!(e=r.n()).done;){e.value.cancel()}}catch(e){r.e(e)}finally{r.f()}var a=u.current.animate([{offset:0,left:0},{offset:1,left:"100%"}],{delay:t.playing?0:1-t.offset,duration:n});t.playing?a.play():a.pause()}}),[s,t,n]);var f,d=Object(i.useMemo)((function(){for(var e=n,t=Math.pow(10,parseInt(Math.log10(e))),r=[],a=0;a<e;){var i=a+t>e?e-a:t;a+=i;var l=i/e*100;r.push(o.a.createElement("label",{key:a,style:{width:l+"%"}},a,"ms"))}return r}),[n]);return s&&(f=o.a.createElement("div",{className:"caret",ref:u},o.a.createElement(Z.Icon,{icon:"caret-down"}))),o.a.createElement("div",{className:"scrubber",onMouseDown:p,ref:c},f,d)},ie=function(e){var t=e.animation,n=e.selected,r=e.timelineDuration,a=e.dispatch,l=Object(i.useState)(),s=m()(l,2),c=s[0],u=s[1],p=Object(i.useCallback)((function(e){a("SelectAnimation",{id:t.id,additive:e.ctrlKey})}),[t.id]),f=Object(i.useCallback)((function(){a("DeleteAnimation",t.id)}),[t]),d=Object(i.useCallback)((function(e,n,i){var o=e.ctrlKey,l=e.target.closest(".timeline").getBoundingClientRect(),s=e.clientX,c=t,p=function(e){var a,p,f=(e.clientX-s)/l.width*r;i?a=Math.min(r-t.duration,Math.max(0,t.delay+f)):0!=n.offset||o?1!=n.offset||o||(p=Math.min(r-t.delay,Math.max(1,t.duration+f))):(a=Math.min(t.delay+t.duration-1,Math.max(0,t.delay+f)),p=t.duration-(a-t.delay)),c=q(q({},t),{},{delay:null!=a?a:t.delay,duration:null!=p?p:t.duration}),u(c)};window.addEventListener("mousemove",p),window.addEventListener("mouseup",(function e(n){t==c&&a("SelectAnimation",{id:t.id,additive:n.ctrlKey}),a("UpdateAnimation",c),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",e),u(null)}))}),[r,t]);c&&(t=c);var y=[];if(t.preset){var g=t.delay/r,h=(t.delay+t.duration)/r;y.push(o.a.createElement(re,{key:"start",keyframe:te,offset:g,prevOffset:g,onMouseDown:d})),y.push(o.a.createElement(re,{key:"end",keyframe:ne,offset:h,prevOffset:g,onMouseDown:d}))}var b=t.preset?X[t.preset].displayName:null;return o.a.createElement("div",{className:"animation-row",isselected:n.toString(),onClick:p},o.a.createElement("div",{className:"animation-name label-width"},o.a.createElement(Z.Button,{minimal:!0,icon:"trash",onClick:f}),o.a.createElement(Z.Tag,null,b)),o.a.createElement("div",{className:"timeline"},y))},oe=function(e){var t,n=e.phaseKey,r=e.layer,a=e.dispatch,l=e.children,s=Object(i.useState)(!1),c=m()(s,2),u=c[0],p=c[1],f=Object(i.useCallback)((function(e){p(e)}),[]),d=Object(i.useCallback)((function(e){var t=e.create(r);a("CreateAnimation",{layerid:r.id,animation:t})}),[r]);return u&&(t=o.a.createElement(Z.Menu,null,J[n].map((function(e){return o.a.createElement(Z.MenuItem,{key:e.displayName,text:e.displayName,onClick:function(){return d(e)}})})))),o.a.createElement(Z.Popover,{position:"top",boundary:"window",isOpen:u,onInteraction:f},l,t)},le=function(e){var t,n=e.phaseKey,r=e.timelineDuration,a=e.layer,i=e.animations,l=e.selectedAnimations,s=e.dispatch;return a.animations&&i&&(t=i.filter((function(e){return e.phase==n&&a.animations.includes(e.id)})).map((function(e){return o.a.createElement(ie,{key:e.id,animation:e,selected:l.includes(e.id),timelineDuration:r,dispatch:s})}))),o.a.createElement("div",{className:"phase-layer"},o.a.createElement("div",{className:"layer-name-row"},o.a.createElement("div",{className:"label-width"},o.a.createElement("label",null,a.label),o.a.createElement(oe,{phaseKey:n,layer:a,dispatch:s},o.a.createElement(Z.Tooltip,{position:"top",content:"New Animation"},o.a.createElement(Z.Button,{icon:"plus",small:!0,minimal:!0}))))),t)},se=function(){var e=Pe((function(e){return e.selectedLayerIds}),(function(e){return e.selectedAnimations}),(function(e){return e.overlay.layers}),(function(e){return e.overlay.animations}),(function(e){return e.animationContext})),t=m()(e,2),n=m()(t[0],5),r=n[0],a=n[1],l=n[2],s=n[3],c=n[4],u=t[1],p=Object(i.useState)(j.a.ENTRY),f=m()(p,2),d=f[0],y=f[1],g=Object(i.useState)(500),h=m()(g,2),b=h[0],v=h[1];B(F.ANIMATION);var w=Object(i.useState)(!0),x=m()(w,2),S=x[0],O=x[1],E=Object(i.useCallback)((function(e){var t=e.ctrlKey,n=e.deltaY;t&&v((function(e){return Math.max(0,e+n)}))}),[]),k=Object(i.useCallback)((function(){u("ToggleAnimationPlaying",{phase:d,duration:b})}),[d,b]),C=Object(i.useCallback)((function(e){console.log(" pp key down",{key:e.key})," "!=e.key&&"Enter"!=e.key||(e.stopPropagation(),e.preventDefault())}),[]),N=Object(i.useCallback)((function(e){e=parseInt(Math.round(e)),u("SetAnimationContext",{offset:e})}),[]),L=Object(i.useCallback)((function(){return[]}),[l,c.phase.key]),A=(S?l:l.filter((function(e){return r.includes(e.id)})))||[];return o.a.createElement("div",{className:"animation-panel",onWheel:E},o.a.createElement("div",{className:"phase-layers"},o.a.createElement("div",{className:"phase-header"},o.a.createElement(Z.ButtonGroup,null,o.a.createElement(Z.Button,{key:"entry",text:j.a.ENTRY.displayName,active:d==j.a.ENTRY,onClick:function(){return y(j.a.ENTRY)}}),o.a.createElement(Z.Button,{key:"exit",text:j.a.EXIT.displayName,active:d==j.a.EXIT,onClick:function(){return y(j.a.EXIT)}})),o.a.createElement("div",{className:"timing"},o.a.createElement(Z.Button,{minimal:!0,tabIndex:-1,icon:c.playing?"pause":"play",onClick:k,onKeyDown:C})),o.a.createElement(Z.Tooltip,{content:S?"Showing selected & unselected layers":"Showing selected layers only"},o.a.createElement(Z.Button,{icon:"eye-open",active:S,onClick:function(e){return O(!S)}}))),o.a.createElement("div",{className:"scrubber-row"},o.a.createElement("div",{className:"label-width"}),o.a.createElement(ae,{showCaret:c.playing,timelineDuration:b,animationContext:c,onChangeOffset:N,onGetClipOffsets:L})),o.a.createElement("div",{className:"scroll-body"},A.map((function(e){return o.a.createElement(le,{key:e.id,phaseKey:d.key,animationContext:c,timelineDuration:b,layer:e,animations:s,selectedAnimations:a,dispatch:u})})))))},ce=n(391),ue=n.n(ce),pe=n(392),fe=(n(393),n(394),n(395),{animation:{key:function(){return"animation"},icon:function(){return"walk"},title:function(){return"Animation"},component:se},script:{key:function(e){return e.scriptKey},icon:function(e){switch(e.scriptKey){case"main.js":return"document-share";case"settings.json":return"cog";default:return"document"}},title:function(e){return e.scriptKey},component:function(e){e.editorKey;var t=e.scriptKey,n=Pe((function(e){return e.overlay.scripts?e.overlay.scripts[t]:null})),r=m()(n,2),a=m()(r[0],1)[0],l=r[1],s=Object(i.useCallback)((function(e){l("UpdateScript",{scriptKey:t,content:e})}),[]),c=Object(i.useCallback)((function(e){"Enter"==e.key&&(e.target.closest(".script-wrapper").scrollLeft=0),"e"==e.key&&e.ctrlKey&&(l("ExecuteScript"),e.preventDefault())}),[]);return B(F.SCRIPT),null==a?null:o.a.createElement("div",{className:"script-editor-wrapper"},o.a.createElement("div",{className:"script-wrapper"},o.a.createElement(ue.a,{value:a,onValueChange:s,onKeyDown:c,highlight:function(e){return Object(pe.highlight)(e,pe.languages.javascript)},padding:5,className:"editor-wrapper"})))}}}),de=n(19),me={"main.js":"","settings.json":'{\n  "parameters": [\n    { "displayName": "Asset/Url", "name": "asseturl", "type": "assetUrl", "inline": true },\n    { "displayName": "Color", "name": "color", "type": "color", "inline": true },\n    { "displayName": "Text", "name": "text", "type": "textbox", "inline": true },\n    { "displayName": "Number", "name": "number", "type": "number", "inline": true },\n    { "displayName": "TextArea", "name": "textarea", "type": "textarea", "inline": true },\n    { "displayName": "Dropdown", "name": "dropdown", "type": "select", "inline": true, "options": [\n      { "label": "Option 1", "value": "option1" },\n      { "label": "Option 2", "value": "option2" },\n      { "label": "Option 3", "value": "option3" }\n    ] },\n    { "displayName": "Radio Group", "name": "radiogroup", "type": "radiogroup", "inline": true, "options": [\n      { "label": "Option 1", "value": "option1" },\n      { "label": "Option 2", "value": "option2" },\n      { "label": "Option 3", "value": "option3" }\n    ] },\n    { "displayName": "Button Group", "name": "buttongroup", "type": "buttongroup", "inline": true, "options": [\n      { "label": "Option 1", "value": "option1" },\n      { "label": "Option 2", "value": "option2" },\n      { "label": "Option 3", "value": "option3" }\n    ] },\n    { "displayName": "Slider", "name": "slider", "type": "slider", "inline": true, "min": 100, "max": 200, "step": 20 },\n    { "type": "group", "displayName": "Group Example", "items": [\n          { "displayName": "30%", "name": "grouptext30", "type": "text", "inline": true, "width": 30 },\n          { "displayName": "70%", "name": "grouptext70", "type": "text", "inline": true, "width": 70 }\n    ]}\n  ],\n  "initial": {\n    "asseturl": "asset:example.png",\n    "color": "#ff0000",\n    "text": "text",\n    "number": 15,\n    "textarea": "textarea",\n    "dropdown": "option2",\n    "radiogroup": "option3",\n    "buttongroup": "option1",\n    "slider": 150,\n    "grouptext30": "text",\n    "grouptext70": "text"\n  }\n}'};function ye(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=o.a.createContext();function we(e,t){if(!t)return null;var n=t(e.overlay);if(!n)return null;var r=be(be({},e.overlay),n);return e.onOverlayChanged&&e.onOverlayChanged(r,e.overlay),{overlay:r}}function xe(e,t,n){return we(e,(function(e){return{layers:e.layers.map((function(e){if(e.id!=t)return e;var r=n(e);return r?be(be({},e),r):e}))}}))}function Se(e,t,n){return we(e,(function(e){return{layers:e.layers.map((function(e){if(!t.includes(e.id))return e;var r=n(e);return r?be(be({},e),r):e}))}}))}function Oe(e,t){var n=Object(C.g)(t);return Se(e,e.selectedLayerIds,(function(e){var t=n(e);if(!t)return null;for(var r=be({},e.style),a=0,i=Object.entries(t);a<i.length;a++){var o=m()(i[a],2),l=o[0],s=o[1];"DELETE"===s?delete r[l]:s&&(r[l]=s)}return{style:r}}))}function Ee(e,t,n){var r=e.findIndex((function(e){return e.id==t})),a=e.splice(r,1)[0];n>r&&n--,e.splice(n,0,a)}function ke(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=f()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith("http")){e.next=2;break}return e.abrupt("return","text/plain");case 2:if(!/\.png/.test(t)){e.next=6;break}return e.abrupt("return","image/png");case 6:if(!/\.jpe?g$/i.test(t)){e.next=10;break}return e.abrupt("return","image/jpeg");case 10:if(!/\.gif$/i.test(t)){e.next=14;break}return e.abrupt("return","image/gif");case 14:if(!/\.mp4$/i.test(t)){e.next=18;break}return e.abrupt("return","video/mp4");case 18:if(!/\.mov$/i.test(t)){e.next=22;break}return e.abrupt("return","video/mov");case 22:if(!/\.mkv$/i.test(t)){e.next=26;break}return e.abrupt("return","video/mkv");case 26:if(!/\.3gp$/i.test(t)){e.next=30;break}return e.abrupt("return","video/3gpp");case 30:if(!/\.ogv$/i.test(t)){e.next=34;break}return e.abrupt("return","video/ogv");case 34:if(!/\.mp3$/i.test(t)){e.next=38;break}return e.abrupt("return","audio/mpeg");case 38:if(!/\.wav$/i.test(t)){e.next=42;break}return e.abrupt("return","audio/wav");case 42:if(!/\.ogg$/i.test(t)){e.next=46;break}return e.abrupt("return","audio/ogg");case 46:if(!/\.js$/i.test(t)){e.next=48;break}return e.abrupt("return","text/javascript");case 48:return e.prev=48,e.next=51,fetch(t,{method:"HEAD",cache:"no-cache"});case 51:return n=e.sent,e.abrupt("return",n.headers.get("Content-Type"));case 55:return e.prev=55,e.t0=e.catch(48),e.abrupt("return","text/html");case 58:case"end":return e.stop()}}),e,null,[[48,55]])})))).apply(this,arguments)}function je(e,t){return b.find((function(n){return n.match(e,t)}))}var Ne={SetOptions:function(e,t){var n=t.width,r=t.height,a=t.onOverlayChanged,i=t.onUpload,o=t.elements;return{width:n||1920,height:r||1080,onOverlayChanged:a,onUpload:i,elements:o?be(be({},N.a),o):N.a}},SetOverlay:function(e,t){if(e.overlay!=t)return{overlay:t}},SetOverlayDomElement:function(e,t){return{overlayDomElement:t}},SetStageAutoFitZoom:function(e,t){return{stageZoomSelection:be(be({},e.stageZoomSelection),{},{autoFitZoom:t}),stageTransform:be(be({},e.stageTransform),{},{zoom:e.stageZoomSelection.isAuto?t:e.stageTransform.zoom})}},SetStageZoomSelection:function(e,t){return{stageZoomSelection:t,stageTransform:be(be({},e.stageTransform),{},{zoom:t.isAuto?t.autoFitZoom:t.zoom})}},ResetStageZoom:function(e){return{stageZoomSelection:be(be({},e.stageZoomSelection),{},{isAuto:!0}),stageTransform:be(be({},e.stageTransform),{},{zoom:e.stageZoomSelection.autoFitZoom,panning:[0,0]})}},StepZoom:function(e,t){var n=t<0?e.stageTransform.zoom/(1+.1*-t):e.stageTransform.zoom*(1+.1*t);return{stageZoomSelection:be(be({},e.stageZoomSelection),{},{zoom:n,isAuto:!1}),stageTransform:be(be({},e.stageTransform),{},{zoom:n})}},SetStageTransform:function(e,t){return{stageTransform:t}},SetAnimationContext:function(e,t){var n=t.phase,r=t.playing,a=t.offset,i=t.timeout,o={animationContext:{phase:void 0===n?e.animationContext.phase:n,playing:void 0===r?e.animationContext.playing:r,offset:void 0===a?e.animationContext.offset:a,timeout:void 0===i?e.animationContext.timeout:i}};return e.animationContext.timeout&&(o.animationContext.timeout=null,clearTimeout(e.animationContext.timeout)),o},ToggleAnimationPlaying:function(e,t){var n=t.phase,r=t.duration;return function(t){if(e.animationContext.playing)e.animationContext.timeout&&clearTimeout(e.animationContext.timeout),t("SetAnimationContext",{phase:j.a.STATIC,playing:!1,timeout:null});else{if(!r){r=500;var a,i=ye(e.overlay.layers);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.transitions)for(var l=0,s=Object.entries(o.transitions);l<s.length;l++){var c=m()(s[l],2),u=c[0],p=c[1];de.a[u].phase==n.key&&(r=Math.max(r,p.delay+p.duration))}}}catch(e){i.e(e)}finally{i.f()}}var f=setTimeout((function(){t("SetAnimationContext",{phase:j.a.STATIC,playing:!1,timeout:null})}),r);t("SetAnimationContext",{phase:n,playing:!0,offset:0,timeout:f})}}},UpdateAnimationContextDuration:function(e,t){if(e.animationContext.duration){var n=Math.max(500,e.animationContext.duration+t);return{animationContext:be(be({},e.animationContext),{},{duration:n})}}},SavePreferences:function(e,t){return{preferences:be(be({},e.preferences),t)}},ToggleEditor:function(e,t){var n=t.type,r=t.params,a={},i=fe[n].key(r),o=e.editors.findIndex((function(e){return e.key==i}));return-1==o?(a.editors=[].concat(u()(e.editors),[{key:i,type:n,params:r}]),a.selectedEditorTab=i):(a.editors=u()(e.editors),a.editors.splice(o,1),e.selectedEditorTab==i&&(a.editors.length>o?e.selectedEditorTab=a.editors[o].key:e.selectedEditorTab=o>0?a.editors[o-1].key:null)),a},OpenEditor:function(e,t){var n=t.type,r=t.params,a={},i=fe[n].key(r);return-1==e.editors.findIndex((function(e){return e.key==i}))&&(a.editors=[].concat(u()(e.editors),[{key:i,type:n,params:r}])),a.selectedEditorTab=i,a.preferences=be(be({},e.preferences),{},{bottomPanelMinimized:!1}),a},CloseEditor:function(e,t){var n=e.editors.findIndex((function(e){return e.key==t}));if(-1!=n){var r={};return r.editors=u()(e.editors),r.editors.splice(n,1),e.selectedEditorTab==t&&(r.editors.length>n?e.selectedEditorTab=r.editors[n].key:e.selectedEditorTab=n>0?r.editors[n-1].key:null),r}},SelectEditor:function(e,t){return{selectedEditorTab:t,preferences:be(be({},e.preferences),{},{bottomPanelMinimized:!1})}},SelectListTab:function(e,t){return{selectedListTab:t}},SelectPropertyTab:function(e,t){return{selectedPropertyTab:t}},CreateAsset:function(e,t){var n=t.asset,r=t.onCreated;return we(e,(function(e){var t="asset:"+n.name;if(e.assets)for(var a=1;null!=e.assets[t];a++)t="asset:"+n.name+"-"+a++;return r(t),{assets:be(be({},e.assets),{},g()({},t,n))}}))},DeleteAsset:function(e,t){return we(e,(function(e){var n=be({},e.assets);return delete n[t],{assets:n}}))},ReorderAsset:function(e,t){var n=t.assetKey,r=t.newIndex;if(e.overlay.assets)return we(e,(function(e){var t=e.assets[n],a=Object.entries(e.assets);return{assets:a.reduce((function(e,i,o){var l=m()(i,2),s=l[0],c=l[1];return o==r&&(e[n]=t),n!=s&&(e[s]=c),o==a.length-1&&r>o&&(e[n]=t),e}),{})}}))},CreateScript:function(e,t){return function(n){if(!e.overlay.scripts||!(t&&e.overlay.scripts[t])){if(t||(t="script.js"),e.overlay.scripts){for(var r=t,a=1;null!=e.overlay.scripts[r];a++)r="(".concat(a,") ").concat(t);t=r}n("CreateScriptInternal",{name:t,content:me[t]||""})}n("SelectListTab","scripts"),n("OpenEditor",{type:"script",params:{scriptKey:t}})}},CreateScriptInternal:function(e,t){var n=t.name,r=t.content;return we(e,(function(e){return{scripts:be(be({},e.scripts),{},g()({},n,r))}}))},DeleteScript:function(e,t){var n=we(e,(function(e){var n=be({},e.scripts);return delete n[t],{scripts:n}})),r=e.editors.findIndex((function(e){return"script"==e.type&&e.params.scriptKey==t}));return r>-1&&(n.editors=e.editors.filter((function(e,t){return t!=r}))),n},UpdateScript:function(e,t){var n=t.scriptKey,r=t.content;if(e.overlay.scripts)return we(e,(function(e){return{scripts:be(be({},e.scripts),{},g()({},n,r))}}))},ReorderScript:function(e,t){var n=t.scriptKey,r=t.newIndex;if(e.overlay.scripts)return we(e,(function(e){var t=e.scripts[n],a=Object.entries(e.scripts);return{scripts:a.reduce((function(e,i,o){var l=m()(i,2),s=l[0],c=l[1];return o==r&&(e[n]=t),n!=s&&(e[s]=c),o==a.length-1&&r>o&&(e[n]=t),e}),{})}}))},UpdateScriptKey:function(e,t){var n=t.scriptKey,r=t.newScriptKey;if(e.overlay.scripts&&n!=r){if(e.overlay.scripts[r])return function(e){e("ShowToast",{id:Math.random(),icon:"error",intent:"danger",message:"The specified script name is already in use.",timeout:5e3})};var a=we(e,(function(e){return{scripts:Object.entries(e.scripts).reduce((function(e,t){var a=m()(t,2),i=a[0],o=a[1];return i==n?e[r]=o:e[i]=o,e}),{})}})),i=e.editors.findIndex((function(e){return e.key==n&&"script"==e.type}));if(i>-1){a.editors=u()(e.editors);var o=be({},a.editors[i]);o.key=r,o.params=be(be({},o.params),{},{scriptKey:r}),a.editors[i]=o}return e.selectedEditorTab==n&&(a.selectedEditorTab=r),a}},ExecuteScript:function(e){return e.isExecutingScript?{isExecutingScript:!1}:{isExecutingScript:!0}},SetScriptState:function(e,t){return{scriptState:be({},t)}},UpdateScriptSettings:function(e,t){return we(e,(function(e){return{settings:be(be({},e.settings),t)}}))},CreateLayers:function(e,t){var n=[],r=we(e,(function(r){var a,i=r.layers?u()(r.layers):[],o=i.map((function(e){return e.id})).reduce(C.e,1),l=ye(t);try{var s=function(){var t=a.value,r=e.elements[t.elementName];if(!r)return"continue";var l,s=be({},t.config||{}),c=ye(r.manifest.parameters);try{for(c.s();!(l=c.n()).done;){var u=l.value;void 0===s[u.name]&&(void 0!==u.defaultValue&&(s[u.name]=u.defaultValue))}}catch(e){c.e(e)}finally{c.f()}var p={id:++o,elementName:t.elementName,label:t.label||r.manifest.name,config:s,effects:t.effects||(r.manifest.defaultEffects?be({},r.manifest.defaultEffects):null),style:be(be({},r.manifest.defaultStyle),t.style)};t.animations&&(p.animations=t.animations);var f=p.label;f.match(/\#\d+$/)&&(f=f.substr(0,f.lastIndexOf("#")-1));for(var d=2;i.findIndex((function(e){return e.label==p.label}))>-1;d++)p.label=f+" #"+d;i.unshift(p),n.push(p.id)};for(l.s();!(a=l.n()).done;)s()}catch(e){l.e(e)}finally{l.f()}return{layers:i}}));return r.selectedLayerIds=n,r.selectedListTab="layers",r.selectedPropertyTab="element",r},CreateLayerFromAsset:function(e,t){return function(n){var r=e.overlay.assets[t];if(r){var a=je(r.type,null);if(a){if(a.getLayer){var i=a.getLayer(t),o=e.elements[i.elementName];if(o)i.name=r.name,(o.manifest.getNaturalDimensions?o.manifest.getNaturalDimensions(i.config,g()({},t,r)):o.manifest.width&&o.manifest.height?Promise.resolve({width:o.manifest.width,height:o.manifest.height}):Promise.resolve()).then((function(e){e&&(i.style=be(be({},i.style),{},{top:"0px",left:"0px",width:e.width+"px",height:e.height+"px"})),n("CreateLayers",[i])}));else console.log("Tried to create layer for unknown element:"+i.elementName)}}else console.log("Could not get contentTypeHandler for type:",r.type)}else console.log("Could not find asset.",t)}},SelectLayer:function(e,t){var n=t.id,r=t.append,a=t.selectBetween;if(null!=n||0!=e.selectedLayerIds.length){var i;if(n)if(r||a)if(a)if(0==e.selectedLayerIds.length)i=[n];else{var o=e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]})),l=e.overlay.layers.findIndex((function(e){return e.id==n}));if(o>l){var s=l;l=o,o=s}i=[];for(var c=o;c<=l;c++){var p=e.overlay.layers[c];i.push(p.id)}}else(i=u()(e.selectedLayerIds)).includes(n)?i=i.filter((function(e){return e!=n})):i.push(n);else i=[n];else i=[];return{selectedLayerIds:i}}},SelectLayers:function(e,t){return{selectedLayerIds:t}},UpdateLayers:function(e,t){var n=t.layers;return we(e,(function(e){var t,r=u()(e.layers),a=ye(n);try{var i=function(){var e=t.value,n=r.findIndex((function(t){return t.id==e.id}));if(-1==n)return"continue";r[n]=be(be({},r[n]),e)};for(a.s();!(t=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}return{layers:r}}))},DeleteLayers:function(e,t){var n=we(e,(function(e){return{layers:e.layers.filter((function(e){return!t.includes(e.id)}))}}));return n.selectedLayerIds=e.selectedLayerIds.filter((function(e){return!t.includes(e)})),n},ReorderLayer:function(e,t){var n=t.id,r=t.newIndex;return we(e,(function(e){var t=u()(e.layers);return Ee(t,n,r),{layers:t}}))},DeleteSelection:function(e){if(0!=e.selectedLayerIds.length){var t=we(e,(function(t){return{layers:t.layers.filter((function(t){return!e.selectedLayerIds.includes(t.id)}))}}));return t.selectedLayerIds=[],t}},CopySelectedLayersToClipboard:function(e){if(0!=e.selectedLayerIds.length){var t=e.overlay.layers.filter((function(t){return e.selectedLayerIds.includes(t.id)}));Object(C.b)(JSON.stringify({objectType:"layers",data:t}))}},CenterSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox;if(0!=n.length){var a=e.width/2-(r.left+r.width/2),i=e.height/2-(r.top+r.height/2);return Oe(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t)return{top:t.top+i+"px",left:t.left+a+"px",height:t.height+"px",width:t.width+"px"}}))}},FullscreenSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox;if(0!=n.length){var a=-r.left,i=-r.top,o=e.width/r.width,l=e.height/r.height;return Oe(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t)return{top:(t.top+i)*l+"px",left:(t.left+a)*o+"px",width:t.width*o+"px",height:t.height*l+"px"}}))}},ResetSelectedLayers:function(e){if(0!=e.selectedLayerIds.length)return function(){var t=f()(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.selectedLayerIds.map((function(t){var n=e.overlay.layers.find((function(e){return e.id==t})),r=e.elements[n.elementName];return r.manifest.getNaturalDimensions?r.manifest.getNaturalDimensions(n.config,e.overlay.assets).then((function(e){return be({id:n.id},e)})):Promise.resolve({})})));case 2:r=t.sent,n("ResetSelectedLayers_Complete",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ResetSelectedLayers_Complete:function(e,t){return Oe(e,(function(e,n){var r=t.find((function(e){return e.id==n.id}));if(r)return{top:0,left:0,width:r.width+"px",height:r.height+"px"}}))},RaiseSelectedLayers:function(e,t){if(0!=e.selectedLayerIds.length){var n=[];e.overlay.layers.forEach((function(t,r){e.selectedLayerIds.includes(t.id)&&n.push({index:r,layer:t})}));var r=n.map((function(e){return e.index})).reduce((function(e,t){return Math.min(e,t)}),1e4);if(0!=r)return t&&(r=1),we(e,(function(e){var t=u()(e.layers);return n.forEach((function(e,a){var i=r-1+a;Ee(t,n[a].layer.id,i)})),{layers:t}}))}},LowerSelectedLayers:function(e,t){if(0!=e.selectedLayerIds.length){var n=[];e.overlay.layers.forEach((function(t,r){e.selectedLayerIds.includes(t.id)&&n.push({index:r,layer:t})}));var r=n.map((function(e){return e.index})).reduce((function(e,t){return Math.max(e,t)}),0);if(r!=e.overlay.layers.length-1)return t&&(r=e.overlay.layers.length-2),we(e,(function(e){var t=u()(e.layers);return n.forEach((function(e,a){var i=r+2-a;Ee(t,n[a].layer.id,i)})),{layers:t}}))}},ScaleSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox,a=t.direction,i=t.precise;if(0!=n.length){var o=i?1.1:1.2;return"down"==a&&(o=1/o),Oe(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t){var a=t.top-r.top,i=t.left-r.left;return{top:t.top+a*(o-1)+"px",left:t.left+i*(o-1)+"px",width:t.width*o+"px",height:t.height*o+"px"}}}))}},NudgeSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox,a=t.direction,i=t.precise,o=t.toEdge;if(0!=n.length){var l=i?1:5;return Oe(e,(function(t){var i=n.find((function(e){return e.layerid==t.id}));if(i)switch(a){case"left":return{left:(o?i.left-r.left:i.left-l)+"px"};case"right":return{left:(o?i.left+(e.width-r.right):i.left+l)+"px"};case"up":return{top:(o?i.top-r.top:i.top-l)+"px"};case"down":return{top:(o?i.top+(e.height-r.bottom):i.top+l)+"px"}}}))}},UpdateLayerConfig:function(e,t){var n=t.id,r=t.config;return xe(e,n,(function(e){return{config:be(be({},e.config),r)}}))},CreateLayerEffect:function(e,t){var n=t.id,r=t.effectName,a=k.b[r];if(a){var i,o={},l=ye(a.parameters);try{for(l.s();!(i=l.n()).done;){var s=i.value;null!=s.defaultValue&&(o[s.name]=s.defaultValue)}}catch(e){l.e(e)}finally{l.f()}return xe(e,n,(function(e){if(!e.effects||!e.effects[r])return{effects:be(be({},e.effects),{},g()({},r,o))}}))}},UpdateLayerEffect:function(e,t){var n=t.id,r=t.effectName,a=t.config;return xe(e,n,(function(e){if(e.effects&&e.effects[r]){var t=be(be({},e.effects[r]),a);return{effects:be(be({},e.effects),{},g()({},r,t))}}}))},DeleteLayerEffect:function(e,t){var n=t.id,r=t.effectName;return xe(e,n,(function(e){var t=be({},e.effects);return delete t[r],{effects:t}}))},UpdateSelectedLayersConfig:function(e,t){var n=t.config;if(0!=e.selectedLayerIds.length)return Se(e,e.selectedLayerIds,(function(e){return{config:be(be({},e.config),n)}}))},UpdateSelectedLayersEffect:function(e,t){var n=t.effectName,r=t.config;if(0!=e.selectedLayerIds.length)return Se(e,e.selectedLayerIds,(function(e){if(e.effects&&e.effects[n]){var t=be({},e.effects);return r?t[n]=be(be({},t[n]),r):delete t[n],{effects:t}}}))},SelectNextLayer:function(e,t){var n=[];if(0==e.selectedLayerIds.length)e.overlay.layers.length>0&&(n=[e.overlay.layers[0].id]);else{var r=(e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]}))+e.overlay.layers.length+(t?-1:1))%e.overlay.layers.length;n=[e.overlay.layers[r].id]}return{selectedLayerIds:n}},SelectAllLayers:function(e){return{selectedLayerIds:e.overlay.layers.map((function(e){return e.id}))}},UpdateSelectionStyle:function(e,t){return Oe(e,t)},CreateAnimation:function(e,t){var n,r=t.layerid,a=t.animation;n=e.overlay.animations?e.overlay.animations.reduce((function(e,t){return t.id>e&&(e=t.id),e}),1):0,a=be({id:n+1,delay:0,duration:500},a);var i=we(e,(function(e){var t=e.animations?u()(e.animations):[];return t.push(a),{animations:t,layers:e.layers.map((function(e){return e.id==r&&((e=be({},e)).animations=e.animations?u()(e.animations):[],e.animations.push(a.id)),e}))}}));return i.selectedAnimations=[a.id],i.selectedPropertyTab="animation",i},UpdateAnimation:function(e,t){return we(e,(function(e){return{animations:e.animations.map((function(e){return e.id==t.id?t:e}))}}))},DeleteAnimation:function(e,t){return we(e,(function(e){return{animations:e.animations.filter((function(e){return e.id!=t})),layers:e.layers.map((function(e){var n=e.animations?e.animations.findIndex((function(e){return e.id==t})):-1;return n>0&&((e=be({},e)).animations=u()(e.animations),e.animations.splice(n,1)),e}))}}))},SelectAnimation:function(e,t){var n,r=t.id;if(t.additive){var a=(n=u()(e.selectedAnimations)).findIndex((function(e){return e==r}));a>-1?n.splice(a,1):n.push(r)}else n=[r];return{selectedAnimations:n,selectedPropertyTab:"animation"}},UpdateSelectedAnimations:function(e,t){return we(e,(function(n){return{animations:n.animations.map((function(n){return e.selectedAnimations.includes(n.id)&&(n=be(be({},n),t)),n}))}}))},AddTransition:function(e,t){var n=de.a[t];return Se(e,e.selectedLayerIds,(function(e){if(!e.transitions||!e.transitions[t])return{transitions:be(be({},e.transitions),{},g()({},t,be({delay:0,duration:500,easing:"linear"},n.initialConfig)))}}))},DeleteTransition:function(e,t){return Se(e,e.selectedLayerIds,(function(e){if(e.transitions&&e.transitions[t]){var n=be({},e.transitions);return delete n[t],{transitions:n}}}))},UpdateTransition:function(e,t){var n=t.transitionName,r=t.transitionConfig,a=de.a[n];return Se(e,e.selectedLayerIds,(function(e){var t=be({},e.transitions);if(t[n]){for(var i=be({},t[n]),o=0,l=Object.entries(r);o<l.length;o++){var s=m()(l[o],2),c=s[0],u=s[1];"DELETE"==u?delete i[c]:i[c]=u}t[n]=i}else t[n]=be({delay:0,duration:500,easing:"linear"},a.initialConfig);return{transitions:t}}))},HandlePaste:function(e,t){return function(){var n=f()(s.a.mark((function n(r){var a,i,o,l,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=function(e){r("CreateLayers",e)},i=function(e){r("ShowToast",{id:Math.random(),icon:"error",intent:"danger",message:e,timeout:5e3})},o=ye(t),n.prev=3,c=s.a.mark((function t(){var n,r,o,c,u,p,f,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("text/plain"==(n=l.value).type){t.next=3;break}return t.abrupt("return","continue");case 3:return t.next=5,new Promise((function(e){return n.getAsString(e)}));case 5:if(!(r=t.sent).startsWith("{")){t.next=12;break}try{o=JSON.parse(r)}catch(e){}if(!o){t.next=12;break}if("layers"!=o.objectType){t.next=12;break}return a(o.data),t.abrupt("return","continue");case 12:if(!r.startsWith("http")){t.next=36;break}return t.next=15,ke(r);case 15:if(c=t.sent,u=je(c,r)){t.next=20;break}return i("Unsupported file type '".concat(c,"'.")),t.abrupt("return","continue");case 20:if(!u.getLayer){t.next=35;break}if(p=u.getLayer(r),!(f=e.elements[p.elementName])){t.next=34;break}if(!f.manifest.getDimensions){t.next=32;break}return t.next=27,f.manifest.getDimensions(p.config,{});case 27:d=t.sent,p.width=d.width,p.height=d.height,t.next=34;break;case 32:p.width=f.manifest.width,p.height=f.manifest.height;case 34:a([p]);case 35:return t.abrupt("return","continue");case 36:return i("Unsupported paste data format."),t.abrupt("return","continue");case 38:case"end":return t.stop()}}),t)})),o.s();case 6:if((l=o.n()).done){n.next=13;break}return n.delegateYield(c(),"t0",8);case 8:if("continue"!==n.t0){n.next=11;break}return n.abrupt("continue",11);case 11:n.next=6;break;case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(3),o.e(n.t1);case 18:return n.prev=18,o.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[3,15,18,21]])})));return function(e){return n.apply(this,arguments)}}()},HandleFileUpload:function(e,t){var n=t.files,r=t.onComplete,a=t.autoCreateLayers;return function(t){var i,o=function(e,n){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:n/e.size,timeout:0})},l=function(e,n){t("ShowToast",{id:e.name,icon:"error",intent:"danger",message:n.toString(),timeout:5e3})},s=[],c=ye(n);try{var u=function(){var n=i.value,r=je(n.type,null);if(!r)return l(n,"".concat(n.name,": Unsupported file type '").concat(n.type,"'.")),"continue";!function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:0,timeout:0,onCancel:function(){e.cancel&&e.cancel()}})}(n);var a=function(t,n){return e.onUpload?e.onUpload(t,n).then((function(e){return e?{name:t.name,src:e}:null})):Promise.reject("Uploading disabled: onUpload has not been provided.")}(n,o).then((function(e){return function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:1,timeout:500})}(n),e?e.src?(e.type=r.assetType,new Promise((function(n){t("CreateAsset",{asset:e,onCreated:n},!1)}))):(l(n,"Upload failed: asset.src is null."),null):null})).catch((function(e){l(n,e)}));s.push(a)};for(c.s();!(i=c.n()).done;)u()}catch(e){c.e(e)}finally{c.f()}Promise.all(s).then((function(e){var n,i=ye(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o&&(a&&t("CreateLayerFromAsset",o),r&&r(o))}}catch(e){i.e(e)}finally{i.f()}}))}},ShowToast:function(e,t){var n=!1,r=e.toasts.map((function(e){return e.id!=t.id?e:(n=!0,t)}));return n||r.push(t),{toasts:r}},DismissToast:function(e,t){return t.onCancel&&t.onCancel(),{toasts:e.toasts.filter((function(e){return e!=t}))}}},Le={width:1920,height:1080,onOverlayChanged:null,onUpload:null,elements:N.a,overlay:{layers:[],assets:[],scripts:[]},stageTool:Y.moveAndResize,stageZoomSelection:{zoom:1,autoFitZoom:1,isAuto:!0},stageTransform:{zoom:1,panning:[0,0],width:1920,height:1080},animationContext:{phase:j.a.STATIC},isExecutingScript:!1,selectedLayerIds:[],selectedAnimations:[],overlayDomElement:null,scriptState:null,preferences:{leftPanelWidth:380,bottomPanelSize:300,consolePanelSize:500,bottomPanelMinimized:!1,transitionEditorSize:300},editors:[],selectedListTab:"layers",selectedPropertyTab:null,selectedEditorTab:null,toasts:[]},Ae=function(e){var t=e.overlay,n=e.width,r=e.height,a=e.onOverlayChanged,l=e.onUpload,s=e.elements,c=e.children,u=Object(i.useRef)();if(!u.current){u.current=E(Le,Ne,(function(e,t){if(!t.overlay||e.overlay==t.overlay)return null;var n={},r=!1;return t.overlay.layers&&e.overlay.layers!=t.overlay.layers&&(n.layers=t.overlay.layers,r=!0),t.overlay.assets&&e.overlay.assets!=t.overlay.assets&&(n.assets=t.overlay.assets,r=!0),t.overlay.animations&&e.overlay.animations!=t.overlay.animations&&(n.animations=t.overlay.animations,r=!0),r?n:null}),(function(e,t){e.overlay=be(be({},e.overlay),t)}))}return Object(i.useMemo)((function(){u.current.dispatch("SetOptions",{width:n,height:r,onOverlayChanged:a,onUpload:l,elements:s})}),[n,r,a,l,s]),Object(i.useEffect)((function(){u.current.dispatch("SetOverlay",t)}),[t]),o.a.createElement(ve.Provider,{value:u.current},c)},Pe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(i.useContext)(ve);if(0==t.length)return r.dispatch;var a=Object(i.useState)((function(){return r.select(t)})),o=m()(a,2),l=o[0],s=o[1];return Object(i.useEffect)((function(){function e(){var e=r.select(t);s((function(t){for(var n=0;n<t.length;n++)if(t[n]!=e[n])return e;return t}))}return r.subscribe(e),function(){return r.unsubscribe(e)}}),[]),[l,r.dispatch]};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=o.a.createContext(),Me={};function ze(){var e=Pe((function(e){return e.overlay.layers}),(function(e){return e.selectedLayerIds}),(function(e){return e.elements})),t=m()(e,2),n=m()(t[0],3),r=n[0],a=n[1],i=n[2];t[1];return r?r.reduce((function(e,t){if(a.includes(t.id)){var n=i[t.elementName];if(!e)return{mergedElement:{element:n,elementName:t.elementName,config:t.config},mergedEffects:t.effects?De({},t.effects):Me,allowedStyles:n.manifest.allowedStyles?u()(n.manifest.allowedStyles):[],mergedStyle:t.style?De({},t.style):Me,mergedTransitions:t.transitions?De({},t.transitions):Me};if(e.mergedElement&&e.mergedElement.elementName!=t.elementName&&(e.mergedElement=null),e.mergedEffects!=Me)if(t.effects&&0!=t.effects.length)for(var r=0,o=Object.keys(e.mergedEffects);r<o.length;r++){var l=o[r];t.effects[l]||delete e.mergedEffects[l]}else e.mergedEffects=Me;if(e.allowedStyles.length>0){var s=n.manifest.allowedStyles;s&&0!=s.length?e.allowedStyles=e.allowedStyles.filter((function(e){return s.includes(e)})):e.allowedStyles=[]}if(e.mergedStyle&&t.style)for(var c=0,p=Object.entries(t.style);c<p.length;c++){var f=m()(p[c],2),d=f[0],y=f[1];e.mergedStyle[d]!=y&&delete e.mergedStyle[d]}if(e.mergedTransitions&&t.transitions)for(var g=0,h=Object.entries(e.mergedTransitions);g<h.length;g++){var b=m()(h[g],2),v=b[0];b[1];t.transitions[v]||delete e.mergedTransitions[v]}}return e}),null):{}}var Fe=function(e){return o.a.createElement(Ie.Provider,A()({value:ze()},e))},Re=function(){return Object(i.useContext)(Ie)},Be={};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ke=o.a.createContext();function He(){var e,t=Pe((function(e){return e.overlay.animations}),(function(e){return e.selectedAnimations})),n=m()(t,2),r=m()(n[0],2),a=r[0],i=r[1];n[1];return i.length>0&&(e=a.reduce((function(e,t){return i.includes(t.id)&&(null==e?e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t):function(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var a=m()(r[n],2),i=a[0],o=a[1];t[i]!=o&&(e[i]=Be)}}(e,t)),e}),null)),{mergedAnimation:e}}var Ge=function(e){return o.a.createElement(Ke.Provider,A()({value:He()},e))},Ve=n(199),We=n.n(Ve),Ye=n(92),Ze=function(e){e.props;var t=Pe((function(e){return e.toasts})),n=m()(t,2),r=m()(n[0],1)[0],a=n[1];return o.a.createElement(Z.Toaster,{position:Ye.a.BOTTOM,usePortal:!1,className:"app-toaster"},r.map((function(e){var t;return t=null!=e.progress?o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.ProgressBar,{intent:e.progress<1?"primary":"success",stripes:e.progress<1,value:e.progress}),o.a.createElement("div",null,e.message)):e.message,o.a.createElement(Z.Toast,A()({key:e.id},e,{message:t,onDismiss:function(){return a("DismissToast",e)}}))})))},_e=n(200),Je=n(20),Xe=n(11),$e=n.n(Xe);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nt=o.a.createContext(),rt=function(e){var t=e.parameterValues,n=e.onParameterValuesChanged,r=e.onHandleUpload,a=e.reportAllValues,l=$e()(e,["parameterValues","onParameterValuesChanged","onHandleUpload","reportAllValues"]),s=Object(i.useRef)(null);if(!s.current){var c=[],u=t;s.current={subscribe:function(e){c.push(e)},unsubscribe:function(e){c=c.filter((function(t){return t!=e}))},getValue:function(e){return u[e.name]},notifyForChanges:function(e){u=e;var t,n=et(c);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(e){n.e(e)}finally{n.f()}},onParameterValueChanged:function(e,t,n){var r=a?Qe(Qe({},u),{},g()({},e.name,t)):g()({},e.name,t);s.current.onParameterValuesChanged(r,n)}}}return Object(i.useMemo)((function(){return s.current.onParameterValuesChanged=n,n}),[n]),Object(i.useMemo)((function(){return s.current.onHandleUpload=r,r}),[r]),Object(i.useEffect)((function(){s.current.notifyForChanges(t)}),[t]),o.a.createElement(nt.Provider,A()({value:s.current},l))},at=function(e){var t=Object(i.useContext)(nt),n=Object(i.useState)((function(){return t.getValue(e)})),r=m()(n,2),a=r[0],o=r[1],l=Object(i.useCallback)((function(){var n=t.getValue(e);o((function(e){return e!=n?n:e}))}),[t]);return Object(i.useEffect)((function(){return t.subscribe(l),function(){return t.unsubscribe(l)}}),[t,l]),[a,t.onParameterValueChanged,t.onHandleUpload]};n(560);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e){switch(e){case"flex-start":return"left";case"flex-end":return"right";case"center":return"center";default:return null}},st=/^rgba\((\d+),(\d+),(\d+),(\d*(?:\.\d+)?)\)$/i,ct=function(e){var t=e.parameter,n=at(t),r=m()(n,2),a=r[0],l=r[1],s=Object(i.useState)(),c=m()(s,2),u=c[0],p=c[1],f=Object(i.useRef)(a);Object(i.useEffect)((function(){f.current=a}),[a]);var d,y,h=Object(i.useCallback)((function(e){l(t,ot(ot({},f.current),{},{fontFamily:e.target.value}),!0)}),[]),b=Object(i.useCallback)((function(e){p(e.target.value)}),[]),v=Object(i.useCallback)((function(e){var n=e.target.value;n.match(/[0-9]+(pt|px|em)/)||(n=n.replace(/^[0-9]\./g,"")+"pt"),l(t,ot(ot({},f.current),{},{fontSize:n}),!0),p(null)}),[]),w=Object(i.useCallback)((function(e){"Enter"==e.key&&(e.preventDefault(),e.target.blur())}),[]),x=Object(i.useCallback)((function(e){var n=e.target.closest(".font-size").querySelector("input").value,r=e.clientY,a=parseInt(n);if(!isNaN(a)){var i=n,o=function(e){var n=r-e.clientY,o=Math.max(1,a+n);i=o.toString()+"px",l(t,ot(ot({},f.current),{},{fontSize:i}),!1)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(n){l(t,ot(ot({},f.current),{},{fontSize:i}),!0),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)}))}}),[]),S=Object(i.useCallback)((function(e){l(t,ot(ot({},f.current),{},{color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")}),!1)}),[]),O=Object(i.useCallback)((function(e){l(t,ot(ot({},f.current),{},{color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")}),!0)}),[]),E=Object(i.useCallback)((function(e,n){l(t,ot(ot({},f.current),{},"justifyContent"==e?{justifyContent:n,textAlign:lt(n)}:g()({},e,n)),!0)}),[]);return o.a.createElement("div",{className:"font-style-editor"},o.a.createElement(Z.ControlGroup,{fill:!0},o.a.createElement(Z.HTMLSelect,{value:a.fontFamily||"",onChange:h,options:Je.a.GetFontNames(),className:"font-family",fill:!0}),o.a.createElement(Z.InputGroup,{fill:!0,type:"text",value:u||a.fontSize||"",rightElement:o.a.createElement(Z.Tag,{minimal:!0,onMouseDown:x},"px"),onChange:b,onBlur:v,onKeyDown:w,className:"font-size"}),o.a.createElement(Z.Popover,{boundary:"window",className:"font-color"},o.a.createElement(Z.Button,{className:"font-color",style:{backgroundColor:a.color},text:""}),o.a.createElement(_e.SketchPicker,{color:(d=a.color,y=d.match(st),y?{r:y[1],g:y[2],b:y[3],a:y[4]}:""),onChange:S,onChangeComplete:O}))),o.a.createElement(Z.ButtonGroup,{fill:!0,className:"button-row-2"},o.a.createElement(Z.Button,{icon:"bold",active:"bold"==a.fontWeight,onClick:function(){return E("fontWeight","bold"==a.fontWeight?"DELETE":"bold")}}),o.a.createElement(Z.Button,{icon:"italic",active:"italic"==a.fontStyle,onClick:function(){return E("fontStyle","italic"==a.fontStyle?"DELETE":"italic")}}),o.a.createElement(Z.Button,{icon:"underline",active:"underline"==a.textDecoration,onClick:function(){return E("textDecoration","underline"==a.textDecoration?"DELETE":"underline")}}),o.a.createElement(Z.Button,{icon:"align-left",active:"flex-start"==a.justifyContent,onClick:function(){return E("justifyContent","flex-start"==a.justifyContent?"DELETE":"flex-start")}}),o.a.createElement(Z.Button,{icon:"align-center",active:"center"==a.justifyContent,onClick:function(){return E("justifyContent","center"==a.justifyContent?"DELETE":"center")}}),o.a.createElement(Z.Button,{icon:"align-right",active:"flex-end"==a.justifyContent,onClick:function(){return E("justifyContent","flex-end"==a.justifyContent?"DELETE":"flex-end")}})),o.a.createElement(Z.ButtonGroup,{fill:!0},o.a.createElement(Z.Switch,{checked:"pre-wrap"==a.whiteSpace,label:"Text Wrap",onChange:function(){return E("whiteSpace","pre-wrap"==a.whiteSpace?"pre":"pre-wrap")},className:"text-wrap"}),o.a.createElement(Z.Button,{icon:"alignment-top",active:"flex-start"==a.alignItems,onClick:function(){return E("alignItems","flex-start"==a.alignItems?"DELETE":"flex-start")}}),o.a.createElement(Z.Button,{icon:"alignment-horizontal-center",active:"center"==a.alignItems,onClick:function(){return E("alignItems","center"==a.alignItems?"DELETE":"center")}}),o.a.createElement(Z.Button,{icon:"alignment-bottom",active:"flex-end"==a.alignItems,onClick:function(){return E("alignItems","flex-end"==a.alignItems?"DELETE":"flex-end")}})))},ut=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},pt=function(e){return"#".concat(ut(e.r)).concat(ut(e.g)).concat(ut(e.b)).concat(ut(Math.floor(255*e.a)))},ft=function(e){var t=e.parameter,n=at(t),r=m()(n,2),a=r[0],l=r[1],s=Object(i.useState)(null),c=m()(s,2),u=c[0],p=c[1],f=Object(i.useCallback)((function(e){var n=pt(e.rgb);p(n),t.immediate&&l(t,n,!1)}),[]),d=Object(i.useCallback)((function(e){p(null),l(t,pt(e.rgb),!0)}),[]),y=null!==u?u:a;return o.a.createElement(Z.Popover,{boundary:"window"},o.a.createElement(Z.Button,{style:{backgroundColor:y},text:""}),o.a.createElement(_e.SketchPicker,{color:y,onChange:f,onChangeComplete:d}))},dt=function(e){var t=e.parameter,n=at(t),r=m()(n,2),a=r[0],l=r[1],s=Object(i.useCallback)((function(e){l(t,e.target.checked,!0)}),[]);return o.a.createElement(Z.Switch,{checked:a,onChange:s,label:0!=t.compact?t.displayName:null})},mt=function(e){var t="function"==typeof e,n=Object(i.useState)((function(){return t?[]:null})),r=m()(n,2),a=r[0],o=r[1];return Object(i.useEffect)((function(){t&&Promise.resolve(e()).then(o)}),[]),a||e||[]},yt=function(e){var t=e.parameter,n=at(t),r=m()(n,2),a=r[0],l=r[1],s=mt(t.options),c=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]);return o.a.createElement(Z.HTMLSelect,{value:a,onChange:c,fill:!0,options:s})},gt=function(e){var t=e.parameter,n=at(t),r=m()(n,2),a=r[0],l=r[1],s=mt(t.options),c=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]);return o.a.createElement(Z.RadioGroup,{selectedValue:a,onChange:c},s.map((function(e){return o.a.createElement(Z.Radio,{key:e.value,label:e.label,value:e.value})})))},ht=function(e){var t=e.parameter,n=at(t),r=m()(n,2),a=r[0],l=r[1],s=mt(t.options),c=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]);return o.a.createElement(Z.ButtonGroup,null,s.map((function(e){return o.a.createElement(Z.Button,{text:e.label,key:e.value,active:a==e.value,onClick:function(){return c(e.value)}})})))},bt=function(e){var t=e.parameter,n=at(t),r=m()(n,2),a=r[0],l=r[1],s=Object(i.useState)(null),c=m()(s,2),u=c[0],p=c[1],f=Object(i.useCallback)((function(e){p(e),t.immediate&&l(t,e,!1)}),[]),d=Object(i.useCallback)((function(e){p(null),l(t,e,!0)}),[]),y=null!==u?u:a;return o.a.createElement(Z.Slider,{value:y,onChange:f,onRelease:d,min:t.min||0,max:t.max||100,stepSize:t.step,labelStepSize:t.labelStepSize||(t.max||100)/2})},vt=function(e){var t=e.parameter,n=at(t),r=m()(n,3),a=r[0],l=r[1],c=r[2],u=Object(i.useState)(),p=m()(u,2),d=p[0],y=p[1],g=Object(i.useCallback)((function(e){y(e.target.value)}),[]),h=Object(i.useCallback)((function(e){y(e.target.value)}),[]),b=Object(i.useCallback)((function(e){l(t,e.target.value,!0),y(null)}),[]),v=Object(i.useCallback)(function(){var e=f()(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.h)(t.accept);case 2:r=e.sent,c(r,(function(e){l(t,e,!0)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t.accept]),w=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),c(e.dataTransfer.files,(function(e){l(t,e,!0)}))}),[]),x=o.a.createElement(Z.Button,{icon:"cloud-upload",minimal:!0,onClick:v});return o.a.createElement(Z.InputGroup,{value:null!=d?d:a||"",type:"text",onFocus:g,onChange:h,onBlur:b,fill:!0,onDrop:w,dropeffect:"copy",overridedrop:"true",rightElement:x})},wt=function(e){var t,n=e.parameter,r=e.valueOverride,a=at(n),l=m()(a,2),s=l[0],c=l[1],u=Object(i.useState)(),p=m()(u,2),f=p[0],d=p[1],y=Object(i.useCallback)((function(e){d(e.target.value)}),[]),g=Object(i.useCallback)((function(e){d(e.target.value),n.immediate&&c(n,e.target.value,!1)}),[]),h=Object(i.useCallback)((function(e){c(n,e.target.value,!0),d(null)}),[]);return t=null!=f?f:null!=r?r:null!=s?s:"",o.a.createElement(Z.TextArea,{value:t,onFocus:y,onChange:g,onBlur:h,fill:!0,growVertically:!0})},xt=function(e){var t,n,r=e.parameter,a=e.valueOverride,l=at(r),s=m()(l,2),c=s[0],u=s[1],p=Object(i.useState)(),f=m()(p,2),d=f[0],y=f[1],g=Object(i.useCallback)((function(e){y(e.target.value)}),[]),h=Object(i.useCallback)((function(e){y(e.target.value),r.immediate&&u(r,e.target.value,!1)}),[]),b=Object(i.useCallback)((function(e){y(null);var t=e.target.value;"number"==r.type&&(t=parseFloat(t),isNaN(t))||u(r,t,!0)}),[]),v=Object(i.useCallback)((function(e){var t=e.target.closest(".bp3-input-group").querySelector("input"),n=e.clientY,a=parseFloat(t.value),i=r.step||1,o=function(e){var t=a+(n-e.clientY)*(e.ctrlKey?5:1)*i;return void 0!==r.min&&(t=Math.max(r.min,t)),void 0!==r.max&&(t=Math.min(r.max,t)),t},l=function(e){var t=o(e);y(t),r.immediate&&u(r,t,!1)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",(function e(t){y(null),u(r,o(t),!0),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",e)}))}),[]);return r.tag&&(t=o.a.createElement(Z.Tag,{minimal:!0,onMouseDown:"number"==r.type?v:null},r.tag)),n=null!=d?d:null!=a?a:null!=c?c:"",o.a.createElement(Z.InputGroup,{value:n,type:r.type,min:r.min,max:r.max,onFocus:g,onChange:h,onBlur:b,fill:!0,rightElement:t})};function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=function(e){var t=e.parameter,n=at(t),r=m()(n,2),a=r[0],l=r[1],s=Object(i.useState)(),c=m()(s,2),u=c[0],p=c[1],f=Object(i.useCallback)((function(e){var n=e.target,r=e.clientY;n.classList.add("changing");var a=parseFloat(n.getAttribute("data-value"));!isNaN(a)&&a||(a=0);var i=a,o=function(e){i=a+(e.clientY-r),e.ctrlKey||(i=i>0?15*parseInt(i/15)+(i%15>=7.5?15:0):15*parseInt(i/15)-(i%15<=7.5?15:0)),p(i),t.immediate&&l(t,i,!1)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(r){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e),n.classList.remove("changing"),p(null),l(t,i,!0)}))}),[]),d=(null!=u?u:a)||0;return o.a.createElement("div",{className:"angle-input"},o.a.createElement("svg",{className:"widget",onMouseDown:f,"data-value":d,style:{transform:"rotate("+d+"deg)"},version:"1.1",viewBox:"0 0 133.05 133.05",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"m66.524 0a66.524 66.524 0 0 0-66.524 66.524 66.524 66.524 0 0 0 66.524 66.524 66.524 66.524 0 0 0 66.524-66.524 66.524 66.524 0 0 0-66.524-66.524zm-7.1815 13.777v52.747c3e-6 2.5657 1.369 4.9364 3.591 6.2193 2.222 1.2829 4.9595 1.2829 7.1815 0 2.222-1.2829 3.591-3.6535 3.591-6.2193v-52.747a53.295 53.295 0 0 1 46.113 52.747 53.295 53.295 0 0 1-53.295 53.294 53.295 53.295 0 0 1-53.294-53.294 53.295 53.295 0 0 1 46.113-52.747z",style:{paintOrder:"normal"}})),o.a.createElement(xt,{parameter:Ot(Ot({},t),{},{type:"number"}),valueOverride:d}))},kt=[{label:"Linear",value:"linear",points:[0,0,1,1]},{label:"Ease",value:"ease",points:[.25,.1,.25,1]},{label:"Ease In",value:"ease-in",points:[.42,0,1,1]},{label:"Ease Out",value:"ease-out",points:[0,0,.58,1]},{label:"Ease In/Out",value:"ease-in-out",points:[.42,0,.58,1]},{label:"Custom",value:"custom"}],Ct=/cubic\-bezier\(\s*(-?[\d\.]+)\s*,\s*(-?[\d\.]+)\s*,\s*(-?[\d\.]+)\s*,\s*(-?[\d\.]+)\s*\)/,jt=function(e){return[(e[0]-30)/40,(70-e[1])/40,(e[2]-30)/40,(70-e[3])/40]},Nt=function(e){return"cubic-bezier(".concat(e[0],",").concat(e[1],",").concat(e[2],",").concat(e[3],")")},Lt=function(e,t){var n=e.target.closest("svg").getBoundingClientRect(),r=n.width/100,a=n.height/100,i=e.clientX,o=e.clientY,l=parseFloat(e.target.getAttribute("x")),s=parseFloat(e.target.getAttribute("y")),c=l,u=s,p=function(e){var n=(e.clientX-i)/r,p=(e.clientY-o)/a;c=Math.min(70,Math.max(30,l+n)),t(c,u=s+p,!1)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",(function e(n){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",e),t(c,u,!0)}))},At=function(e){var t=e.value,n=e.onChange,r=Object(i.useState)(),a=m()(r,2),l=a[0],s=a[1],c=Object(i.useMemo)((function(){var e,n,r=kt.find((function(e){return e.value==t}));if(r)e=r.points;else{var a=t.match(Ct);if(!a)return[0,0,1,1];e=[parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),parseFloat(a[4])]}return[30+40*(n=e)[0],70-40*n[1],30+40*n[2],70-40*n[3]]}),[t]),u=Object(i.useCallback)((function(e){Lt(e,(function(e,t,r){if(r){s(null);var a=jt([e,t,c[2],c[3]]);n(Nt(a))}else s([e,t,c[2],c[3]])}))}),[c]),p=Object(i.useCallback)((function(e){Lt(e,(function(e,t,r){if(r){s(null);var a=jt([c[0],c[1],e,t]);n(Nt(a))}else s([c[0],c[1],e,t])}))}),[c]),f=l||c;return o.a.createElement("div",{className:"custom-easing-editor"},o.a.createElement("svg",{version:"1.1",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{x:"30",y:"30",width:"40",height:"40",fill:"#fff",stroke:"#000",strokeWidth:"1"}),o.a.createElement("path",{d:"M 30 70 C ".concat(f[0]," ").concat(f[1],", ").concat(f[2]," ").concat(f[3],", 70 30"),stroke:"#000",strokeWidth:"1",fillOpacity:"0"}),o.a.createElement("line",{x1:"30",y1:"70",x2:f[0],y2:f[1],stroke:"red",strokeWidth:"1"}),o.a.createElement("line",{x1:"70",y1:"30",x2:f[2],y2:f[3],stroke:"red",strokeWidth:"1"}),o.a.createElement("rect",{x:f[0]-3,y:f[1]-3,width:"6",height:"6",fill:"#000",className:"handle",onMouseDown:u}),o.a.createElement("rect",{x:f[2]-3,y:f[3]-3,width:"6",height:"6",fill:"#000",className:"handle",onMouseDown:p})))},Pt=function(e){var t,n=e.parameter,r=at(n),a=m()(r,2),l=a[0],s=a[1],c=Object(i.useState)(!1),u=m()(c,2),p=u[0],f=u[1],d=Object(i.useCallback)((function(e){"custom"==e.target.value?(s(n,"cubic-bezier(0.50, -0.5, 0.5, 1.5)",!0),f(!0)):s(n,e.target.value,!0)}),[]),y=Object(i.useCallback)((function(e){s(n,e,!0)}),[]);p&&(t=o.a.createElement(At,{value:l,onChange:y}));var g=l&&l.indexOf("cubic-bezier")>-1?"custom":l;return o.a.createElement("div",{className:"easing-input"},o.a.createElement(Z.ButtonGroup,{fill:!0},o.a.createElement(Z.HTMLSelect,{value:g,onChange:d,fill:!0,options:kt}),o.a.createElement(Z.Popover,{position:"right",boundary:"window",isOpen:p,onInteraction:f},o.a.createElement(Z.Button,{icon:"caret-right"}),o.a.createElement("div",{className:"popover-body"},t))))},Tt=(n(562),function(e){var t,n=e.parameter;if(void 0!==n.min&&"number"!=typeof n.min)return console.log("min must be a number",n),null;if(void 0!==n.max&&"number"!=typeof n.max)return console.log("max must be a number",n),null;if(void 0!==n.step&&"number"!=typeof n.step)return console.log("step must be a number",n),null;switch(n.type){case"font":t=o.a.createElement(ct,{parameter:n});break;case"color":t=o.a.createElement(ft,{parameter:n});break;case"checkbox":t=o.a.createElement(dt,{parameter:n});break;case"select":t=o.a.createElement(yt,{parameter:n});break;case"radiogroup":t=o.a.createElement(gt,{parameter:n});break;case"buttongroup":t=o.a.createElement(ht,{parameter:n});break;case"slider":t=o.a.createElement(bt,{parameter:n});break;case"assetUrl":t=o.a.createElement(vt,{parameter:n});break;case"textarea":t=o.a.createElement(wt,{parameter:n});break;case"angle":t=o.a.createElement(Et,{parameter:n});break;case"easing":t=o.a.createElement(Pt,{parameter:n});break;case"text":default:t=o.a.createElement(xt,{parameter:n})}var r="checkbox"==n.type&&0!=n.compact?null:n.displayName;return o.a.createElement(Z.FormGroup,{key:n.name,label:r,"label-for":n.name,inline:n.inline},t)}),Dt=function(e){var t=e.parameter,n=t.displayName?o.a.createElement("label",{className:"bp3-label"},t.displayName):null,r=t.items.map((function(e){var t=e.width?{flexShrink:0,flexGrow:0,flexBasis:e.width+"%",width:e.width+"%"}:null;return o.a.createElement("div",{key:e.name,className:"group-item",style:t},o.a.createElement(Tt,{parameter:e}))}));return o.a.createElement("div",{className:"group "+(t.className||"")},n,o.a.createElement("div",{className:"group-items"},r))},It=function(e){var t,n=e.parameters,r=e.parameterValues,a=e.onParameterValuesChanged,i=e.onHandleUpload,l=e.reportAllValues;return n&&(t=n.map((function(e,t){return"group"==e.type?o.a.createElement(Dt,{key:t,parameter:e}):o.a.createElement(Tt,{key:t,parameter:e})}))),o.a.createElement(rt,{parameterValues:r,onParameterValuesChanged:a,onHandleUpload:i,reportAllValues:l},o.a.createElement("div",{className:"configuration-form"},t))},Mt=(n(564),function(e){var t,n=e.label,r=e.defaultIsOpen,a=e.rightElement,l=e.disabled,s=e.title,c=e.children,u=Object(i.useState)(r),p=m()(u,2),f=p[0],d=p[1];return Object(i.useEffect)((function(){d(r)}),[r]),c&&"function"==typeof c&&(c=f?c():null),t=l?"minus":f?"caret-down":"caret-right",o.a.createElement("div",{className:"collapsible-panel"},o.a.createElement("div",{className:"panel-header",onClick:function(){return d(!f)},title:s},o.a.createElement(Z.Icon,{icon:t,iconSize:"16"}),o.a.createElement("label",null,n),a),o.a.createElement(Z.Collapse,{isOpen:f},c))}),zt=/(rgba?\([\. ,0-9]+\)|(?:#[0-9A-Fa-f]{3,8})) (\-?[\.0-9]+)px (\-?[\.0-9]+)px \-?([\.0-9]+)px/,Ft=/(rgba?\([\. ,0-9]+\)|(?:#[0-9A-Fa-f]{3,8})) (\-?[\.0-9]+)px (\-?[\.0-9]+)px (\-?[\.0-9]+)px(?: (\-?[\.0-9]+)px)?/,Rt=/polygon\(([0-9\.]+)px 0px, calc\(100% - ([0-9\.]+)px\) 0px, 100% ([0-9\.]+)px, 100% calc\(100% - ([0-9\.]+)px\), calc\(100% - ([0-9\.]+)px\) 100%, ([0-9\.]+)px 100%, 0px calc\(100% - ([0-9\.]+)px\), 0px ([0-9\.]+)px, ([0-9\.]+)px 0px\)/,Bt=/blur\(([0-9\.]+)px\)/,Ut=/brightness\(([0-9\.]+)\)/,Kt=/contrast\(([0-9\.]+)\)/,Ht=/saturate\(([0-9\.]+)\)/,Gt=/hue-rotate\(([0-9\.]+)deg\)/,Vt=/invert\(([0-9\.]+)\)/,Wt=/sepia\(([0-9\.]+)\)/,Yt=/perspective\(([0-9\.]+)px\) translate3d\((\-?[0-9\.]+)px, (\-?[0-9\.]+)px, (\-?[0-9\.]+)px\) rotate3d\(1, 0, 0, (\-?[0-9\.]+)deg\) rotate3d\(0, 1, 0, (\-?[0-9\.]+)deg\) rotate\((\-?[0-9\.]+)deg\) scale\(([0-9\.]+), ([0-9\.]+)\)/,Zt={rect:{displayName:"Size & Position",properties:["left","top","height","width"],permanent:!0,parameters:[{type:"group",className:"size-and-position",items:[{name:"left",displayName:"Left",type:"number",width:50,inline:!0,tag:"px"},{name:"top",displayName:"Top",type:"number",width:50,inline:!0,tag:"px"}]},{type:"group",className:"size-and-position",items:[{name:"width",displayName:"Width",type:"number",width:50,inline:!0,tag:"px"},{name:"height",displayName:"Height",type:"number",width:50,inline:!0,tag:"px"}]}],initialConfig:{left:0,top:0,height:400,width:400},extract:function(e){return e.width||e.height?{left:Object(C.f)(e.left),top:Object(C.f)(e.top),width:Object(C.f)(e.width),height:Object(C.f)(e.height)}:null},apply:function(e){var t=e.left,n=e.top,r=e.width,a=e.height,i={};return void 0!==t&&(i.left=t+"px"),void 0!==n&&(i.top=n+"px"),void 0!==r&&(i.width=r+"px"),void 0!==a&&(i.height=a+"px"),i}},font:{displayName:"Font",properties:["fontFamily","fontStyle","fontSize","color","fontWeight","fontSize","textDecoration","justifyContent","alignItems","whiteSpace","textAlign"],permanent:!0,parameters:[{name:"font",displayName:null,type:"font"}],initialConfig:{font:{fontFamily:"Arial",fontSize:"60px",color:"rgba(255,255,255,1)"}},extract:function(e){return{font:{fontFamily:e.fontFamily,fontSize:parseFloat(e.fontSize),color:e.color,fontWeight:e.fontWeight,fontStyle:e.fontStyle,textDecoration:e.textDecoration,justifyContent:e.justifyContent,alignItems:e.alignItems,whiteSpace:e.whiteSpace}}},apply:function(e){return e.font}},letterSpacing:{displayName:"Letter Spacing",properties:["letterSpacing"],parameters:[{name:"amount",type:"slider",displayName:null,min:-100,max:100}],initialConfig:{amount:0},extract:function(e){return e.letterSpacing?{amount:parseFloat(e.letterSpacing)}:null},apply:function(e){var t=e.amount;return{letterSpacing:"".concat(void 0===t?0:t,"px")}}},lineHeight:{displayName:"Line Height",properties:["lineHeight"],parameters:[{name:"amount",type:"slider",displayName:null,min:0,max:200,labelStepSize:50}],initialConfig:{amount:0},extract:function(e){return e.lineHeight?{amount:parseInt(e.lineHeight)}:null},apply:function(e){var t=e.amount;return{lineHeight:"".concat(void 0===t?0:t,"px")}}},textStroke:{displayName:"Text Stroke",properties:["WebkitTextStrokeWidth","WebkitTextStrokeColor"],parameters:[{type:"group",items:[{name:"width",type:"number",tag:"Width",width:85,min:0,step:.1},{name:"color",type:"color",width:15}]}],initialConfig:{width:0,color:"#FFFFFF"},extract:function(e){var t=e.WebkitTextStrokeWidth||e["-webkit-text-stroke-width"],n=e.WebkitTextStrokeColor||e["-webkit-text-stroke-color"];return t||n?{width:parseFloat(t),color:n}:null},apply:function(e){var t=e.width;return{WebkitTextStrokeWidth:t?t+"px":null,WebkitTextStrokeColor:e.color}}},textShadow:{displayName:"Text Shadow",properties:["textShadow"],parameters:[{type:"group",items:[{name:"offsetx",type:"number",tag:"X",width:25},{name:"offsety",type:"number",tag:"Y",width:25},{name:"size",type:"number",tag:"Size",width:35,min:0},{name:"color",type:"color",width:15}]}],initialConfig:{offsetx:0,offsety:0,size:5,color:"#000000"},extract:function(e){var t=e.textShadow;if(!t)return null;var n=t.match(zt);return n?{color:n[1],offsetx:parseFloat(n[2]),offsety:parseFloat(n[3]),size:parseFloat(n[4])}:null},apply:function(e){var t=e.offsetx,n=void 0===t?0:t,r=e.offsety,a=void 0===r?0:r,i=e.size,o=void 0===i?5:i,l=e.color;return{textShadow:"".concat(void 0===l?"#000000":l," ").concat(n,"px ").concat(a,"px ").concat(o,"px")}}},backgroundColor:{displayName:"Background Color",properties:["backgroundColor"],parameters:[{name:"color",type:"color",displayName:null}],initialConfig:{color:"#FFFFFF"},extract:function(e){return e.backgroundColor?{color:e.backgroundColor}:null},apply:function(e){var t=e.color;return{backgroundColor:void 0===t?"#FFFFFF":t}}},opacity:{displayName:"Opacity",properties:["opacity"],parameters:[{name:"amount",type:"slider",min:0,max:100}],initialConfig:{amount:100},extract:function(e){return void 0===e.opacity?null:{amount:100*parseFloat(e.opacity)}},apply:function(e){var t=e.amount;return{opacity:"".concat((void 0===t?100:t)/100)}}},border:{displayName:"Border",properties:["borderWidth","borderStyle","borderColor","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],parameters:[{type:"group",displayName:"Style",items:[{name:"width",type:"number",tag:"Width",width:55,min:0},{name:"style",type:"select",width:30,options:[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"}]},{name:"color",type:"color",width:15}]},{type:"group",displayName:"Corner Radius",items:[{name:"tl",type:"number",width:25,tag:"TL",min:0},{name:"tr",type:"number",width:25,tag:"TR",min:0},{name:"br",type:"number",width:25,tag:"BR",min:0},{name:"bl",type:"number",width:25,tag:"BL",min:0}]}],initialConfig:{width:0,style:"solid",color:"#FFFFFF",tl:0,tr:0,br:0,bl:0},extract:function(e){return e.borderStyle?{width:parseFloat(e.borderWidth),style:e.borderStyle,color:e.borderColor,tl:parseFloat(e.borderTopLeftRadius),tr:parseFloat(e.borderTopRightRadius),br:parseFloat(e.borderBottomRightRadius),bl:parseFloat(e.borderBottomLeftRadius)}:null},apply:function(e){var t=e.width,n=e.style,r=e.color,a=e.tl,i=e.tr,o=e.br,l=e.bl,s={};return s.borderWidth=null!=t?t+"px":null,s.borderStyle=null!=n?n:null,s.borderColor=null!=r?r:null,s.borderTopLeftRadius=null!=a?a+"px":null,s.borderTopRightRadius=null!=i?i+"px":null,s.borderBottomRightRadius=null!=o?o+"px":null,s.borderBottomLeftRadius=null!=l?l+"px":null,s}},shadow:{displayName:"Shadow",properties:["boxShadow"],parameters:[{type:"group",items:[{name:"offsetx",type:"number",tag:"X",width:25},{name:"offsety",type:"number",tag:"Y",width:25},{name:"size",type:"number",tag:"Size",width:35,min:0,step:.5},{name:"color",type:"color",width:15}]}],initialConfig:{color:"#000000FF",offsetx:0,offsety:0,size:0},extract:function(e){if(!e.boxShadow)return null;var t=e.boxShadow.match(Ft);return t?{color:t[1],offsetx:parseFloat(t[2]),offsety:parseFloat(t[3]),size:parseFloat(t[4])}:null},apply:function(e){var t=e.offsetx,n=void 0===t?0:t,r=e.offsety,a=void 0===r?0:r,i=e.size,o=void 0===i?0:i,l=e.color;return{boxShadow:"".concat(void 0===l?"#000000":l," ").concat(n,"px ").concat(a,"px ").concat(o,"px")}}},cornerClip:{displayName:"Corner Clip",properties:["clipPath"],parameters:[{type:"group",items:[{name:"tl",type:"number",width:25,tag:"TL",min:0},{name:"tr",type:"number",width:25,tag:"TR",min:0},{name:"br",type:"number",width:25,tag:"BR",min:0},{name:"bl",type:"number",width:25,tag:"BL",min:0}]}],initialConfig:{tl:0,tr:0,br:0,bl:0},extract:function(e){var t=e.clipPath;if(!t)return null;var n=t.match(Rt);return n?{tl:parseFloat(n[1]),tr:parseFloat(n[2]),br:parseFloat(n[4]),bl:parseFloat(n[6])}:null},apply:function(e){var t=e.tl,n=void 0===t?0:t,r=e.tr,a=void 0===r?0:r,i=e.br,o=void 0===i?0:i,l=e.bl,s=void 0===l?0:l;return{clipPath:"polygon(".concat(n,"px 0px, calc(100% - ").concat(a,"px) 0px, 100% ").concat(a,"px, 100% calc(100% - ").concat(o,"px), calc(100% - ").concat(o,"px) 100%, ").concat(s,"px 100%, 0px calc(100% - ").concat(s,"px), 0px ").concat(n,"px, ").concat(n,"px 0px)")}}},padding:{displayName:"Padding",properties:["paddingTop","paddingRight","paddingBottom","paddingLeft"],parameters:[{type:"group",items:[{name:"t",type:"number",width:25,tag:"T",min:0},{name:"r",type:"number",width:25,tag:"R",min:0},{name:"b",type:"number",width:25,tag:"B",min:0},{name:"l",type:"number",width:25,tag:"L",min:0}]}],initialConfig:{t:0,r:0,b:0,l:0},extract:function(e){return e.paddingTop||e.paddingRight||e.paddingBottom||e.paddingLeft?{t:parseFloat(e.paddingTop),r:parseFloat(e.paddingRight),b:parseFloat(e.paddingBottom),l:parseFloat(e.paddingLeft)}:null},apply:function(e){var t=e.t,n=e.r,r=e.b,a=e.l;return{paddingTop:null!=t?t+"px":null,paddingRight:null!=n?n+"px":null,paddingBottom:null!=r?r+"px":null,paddingLeft:null!=a?a+"px":null}}},filters:{displayName:"Filters",properties:["filter"],parameters:[{name:"blur",displayName:"Blur",type:"slider",inline:!0,immediate:!1},{name:"brightness",displayName:"Brightness",type:"slider",inline:!0,immediate:!1},{name:"contrast",displayName:"Contrast",type:"slider",inline:!0,immediate:!1},{name:"saturation",displayName:"Saturation",type:"slider",inline:!0,immediate:!1},{name:"hue",displayName:"Hue",type:"slider",inline:!0,immediate:!1},{name:"invert",displayName:"Invert",type:"slider",inline:!0,immediate:!1},{name:"sepia",displayName:"Sepia",type:"slider",inline:!0,immediate:!1}],initialConfig:{blur:0,brightness:50,contrast:50,saturation:50,hue:0,invert:0,sepia:0},extract:function(e){var t=e.filter;if(!t)return null;var n=t.match(Bt),r=t.match(Ut),a=t.match(Kt),i=t.match(Ht),o=t.match(Gt),l=t.match(Vt),s=t.match(Wt);return{blur:n?parseFloat(n[1]):0,brightness:r?50*parseFloat(r[1]):50,contrast:a?50*parseFloat(a[1]):50,saturation:i?50*parseFloat(i[1]):50,hue:o?parseFloat(o[1])/3.6:0,invert:l?parseFloat(l[1]):0,sepia:s?parseFloat(s[1]):0}},apply:function(e){var t=e.blur,n=void 0===t?0:t,r=e.brightness,a=void 0===r?50:r,i=e.contrast,o=void 0===i?50:i,l=e.saturation,s=void 0===l?50:l,c=e.hue,u=void 0===c?0:c,p=e.invert,f=void 0===p?0:p,d=e.sepia,m=void 0===d?0:d,y="";if(0!=n&&(y+=" blur(".concat(n,"px)")),50!=a&&(y+=" brightness(".concat(a/50,")")),50!=o&&(y+=" contrast(".concat(o/50,")")),50!=s&&(y+=" saturate(".concat(s/50,")")),0!=u&&(y+=" hue-rotate(".concat(3.6*u,"deg)")),0!=f&&(y+=" invert(".concat(f,")")),0!=m&&(y+=" sepia(".concat(m,")")),y)return{filter:y}}},autoFit:{displayName:"Auto Fit",properties:["objectFit","objectPosition"],parameters:[{type:"group",items:[{name:"fit",type:"select",defaultValue:"fill",width:30,options:[{label:"Fill",value:"fill"},{label:"Contain",value:"contain"},{label:"Cover",value:"cover"}]},{name:"position",tag:"Pos.",type:"text",width:70}]}],initialConfig:{fit:"fill",position:"center center"},extract:function(e){return{fit:e.objectFit,position:e.objectPosition}},apply:function(e){var t=e.fit,n=void 0===t?"fill":t,r=e.position;return{objectFit:n,objectPosition:void 0===r?"center center":r}}},"3dtransform":{displayName:"3D Transform",properties:["transform"],parameters:[{type:"group",displayName:"Transform",items:[{name:"tx",type:"number",width:33.333,tag:"X"},{name:"ty",type:"number",width:33.333,tag:"Y"},{name:"tz",type:"number",width:33.333,tag:"Z"}]},{type:"group",displayName:"Rotate",items:[{name:"rx",type:"angle",width:33.333,tag:"X °"},{name:"ry",type:"angle",width:33.333,tag:"Y °"},{name:"rz",type:"angle",width:33.333,tag:"Z °"}]},{type:"group",displayName:"Scale",items:[{name:"sx",type:"number",width:33.333,tag:"X%",min:0,step:5},{name:"sy",type:"number",width:33.333,tag:"Y%",min:0,step:5}]},{name:"perspective",displayName:"Perspective",type:"number",defaultValue:"1000",inline:!0,tag:"px",min:1}],initialConfig:{perspective:1e3,tx:0,ty:0,tz:0,rx:0,ry:0,rz:0,sx:100,sy:100},extract:function(e){var t=e.transform;if(!t)return null;var n=t.match(Yt);return n?{perspective:parseFloat(n[1]),tx:parseFloat(n[2]),ty:parseFloat(n[3]),tz:parseFloat(n[4]),rx:parseFloat(n[5]),ry:parseFloat(n[6]),rz:parseFloat(n[7]),sx:100*parseFloat(n[8]),sy:100*parseFloat(n[9])}:null},apply:function(e){var t=e.perspective,n=e.tx,r=void 0===n?0:n,a=e.ty,i=void 0===a?0:a,o=e.tz,l=void 0===o?0:o,s=e.rx,c=void 0===s?0:s,u=e.ry,p=void 0===u?0:u,f=e.rz,d=void 0===f?0:f,m=e.sx,y=void 0===m?100:m,g=e.sy,h=void 0===g?100:g;return{transform:"perspective(".concat(t,"px) translate3d(").concat(r,"px, ").concat(i,"px, ").concat(l,"px) rotate3d(1, 0, 0, ").concat(c,"deg) rotate3d(0, 1, 0, ").concat(p,"deg) rotate(").concat(d,"deg) scale(").concat(y/100,", ").concat(h/100,")")}}}};n(566);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qt=[{type:"group",items:[{name:"delay",displayName:"Delay",type:"number",tag:"ms",width:25,step:10,immediate:!1},{name:"duration",displayName:"Duration",type:"number",tag:"ms",width:25,step:10,min:0,immediate:!1},{name:"easing",displayName:"Easing",type:"easing",width:50}]}],Qt=function(e){var t,n=e.styleName,r=e.style,a=e.onStyleChanged,l=Zt[n],s=[],c=Xt(l.properties);try{for(c.s();!(t=c.n()).done;){var u=t.value;s.push(r[u])}}catch(e){c.e(e)}finally{c.f()}var p,f=Object(i.useMemo)((function(){var e=Object.keys(r).some((function(e){return l.properties.includes(e)}));return{hasData:e,parameterValues:e?l.extract(r):l.initialConfig}}),s),d=f.hasData,m=f.parameterValues,y=Object(i.useCallback)((function(e,t){a(l.apply(Jt(Jt({},m),e)),t)}),[d,m]),g=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t,n={},r=Xt(l.properties);try{for(r.s();!(t=r.n()).done;){n[t.value]="DELETE"}}catch(e){r.e(e)}finally{r.f()}a(n,!0)}),[l]);return!l.permanent&&d&&(p=o.a.createElement(Z.Button,{icon:"trash",minimal:!0,onClick:g})),o.a.createElement(Mt,{label:l.displayName,defaultIsOpen:d,rightElement:p},(function(){return o.a.createElement(It,{parameters:l.parameters,parameterValues:m,onParameterValuesChanged:y,reportAllValues:!1})}))},en=function(e){var t=e.element,n=e.config,r=e.onHandleUpload,a=e.onChanged;return o.a.createElement("div",{className:"element-config-editor"},o.a.createElement(It,{parameters:t.manifest.parameters,parameterValues:n,onParameterValuesChanged:a,onHandleUpload:r,reportAllValues:!0}))},tn=function(e){var t=e.style,n=e.onHandleUpload,r=e.onStyleChanged,a=Re().allowedStyles;return a&&0!=a.length?a.map((function(e){return o.a.createElement(Qt,{key:e,styleName:e,style:t,onStyleChanged:r,onHandleUpload:n})})):o.a.createElement("div",null,"The selection has no common style properties.")},nn=function(e){var t,n=e.transitionName,r=e.transition,a=e.transitionConfig,l=e.onUpdate,s=e.isPlaying,c=e.onTogglePlaying,u=Object(i.useCallback)((function(e){l(n,e)}),[]);return r.isCustom?t=o.a.createElement("div",{className:"custom-transition-form"},o.a.createElement(tn,{style:a,onStyleChanged:u})):r.parameters&&(t=o.a.createElement("div",{className:"transition-config-form"},o.a.createElement(It,{parameters:r.parameters,parameterValues:a,onParameterValuesChanged:u,reportAllValues:!1}))),o.a.createElement("div",{className:"transition-editor"},o.a.createElement("h5",{className:"bp3-heading"},r.displayName,o.a.createElement(Z.Button,{icon:s?"pause":"play",intent:s?"warning":"success",minimal:!0,onClick:c})),t,o.a.createElement("div",{className:"timing-form"},o.a.createElement(It,{parameters:qt,parameterValues:a,onParameterValuesChanged:u,reportAllValues:!1})))},rn=function(e){var t=e.transitionName,n=e.transition,r=e.transitionConfig,a=e.isEditing,i=e.onEdit,l=e.onAdd,s=e.onDelete,c=e.onUpdate,u=e.isPlaying,p=e.onTogglePlaying,f=r?"primary":null,d=o.a.createElement(Z.Button,{small:!0,icon:r?"trash":"plus",intent:f,onClick:function(e){r?s(t):l(t,!e.ctrlKey),p()}}),m=o.a.createElement(Z.Button,{small:!0,fill:!0,alignText:"left",text:n.displayName,disabled:!r,rightIcon:r?"cog":null,intent:f,onClick:function(){return i(n)}});return a&&(m=o.a.createElement(Z.Popover,{position:"right",boundary:"window",fill:!0,isOpen:!0,onInteraction:function(e){return i(null)}},m,o.a.createElement(nn,{transitionName:t,transition:n,transitionConfig:r||n.initialConfig,onUpdate:c,isPlaying:u,onTogglePlaying:p}))),o.a.createElement("div",{className:"transition-item"},o.a.createElement(Z.ButtonGroup,{fill:!0},d,m))},an=function(e){var t=e.phase,n=e.transitionConfigs,r=e.transitionBeingEdited,a=e.animationContext,l=e.onEdit,s=e.onAdd,c=e.onDelete,u=e.onUpdate,p=e.onTogglePlaying,f=Object(i.useCallback)((function(e,n){u(e,n),p(t)}),[t]),d=Object(i.useCallback)((function(){p(t)}),[t]),y=a.playing&&a.phase==t,g=Object.entries(de.a).reduce((function(e,a){var i=m()(a,2),u=i[0],p=i[1];if(p.phase==t.key){var g=n[u],h=r==p;e.push(o.a.createElement(rn,{key:u,transitionName:u,transition:p,transitionConfig:g,isEditing:h,onEdit:l,onAdd:s,onDelete:c,onUpdate:f,isPlaying:y,onTogglePlaying:d}))}return e}),[]);return o.a.createElement("div",{className:"phase"},o.a.createElement("div",{className:"header"},t.displayName,o.a.createElement(Z.Button,{minimal:!0,small:!0,icon:y?"pause":"play",intent:y?"warning":"success",onClick:d})),o.a.createElement("div",{className:"item-list"},g))},on=function(e){var t=e.animationContext,n=e.dispatch,r=[j.a.ENTRY,j.a.EXIT],a=Re(),l=a.allowedStyles,s=a.mergedTransitions;if(!l||0==l.length)return o.a.createElement("div",null,"The selection contains one or more layers that do not support transitions.");var c=Object(i.useState)(),u=m()(c,2),p=u[0],f=u[1],d=Object(i.useCallback)((function(e,t){n("AddTransition",e),t&&f(de.a[e])}),[]),y=Object(i.useCallback)((function(e){n("DeleteTransition",e)}),[]),g=Object(i.useCallback)((function(e,t){n("UpdateTransition",{transitionName:e,transitionConfig:t})}),[]),h=Object(i.useCallback)((function(e,t){n("ToggleAnimationPlaying",{phase:e,duration:t})}),[]);return o.a.createElement("div",{className:"transitions-panel"},o.a.createElement("div",{className:"phases-wrapper"},r.map((function(e){return o.a.createElement(an,{key:e.key,phase:e,transitionConfigs:s,transitionBeingEdited:p,animationContext:t,onEdit:f,onAdd:d,onDelete:y,onUpdate:g,onTogglePlaying:h})}))))},ln=function(){var e,t=Pe((function(e){return e.selectedPropertyTab}),(function(e){return e.selectedLayerIds}),(function(e){return e.animationContext})),n=m()(t,2),r=m()(n[0],3),a=r[0],l=r[1],s=r[2],c=n[1],u=Re(),p=Object(i.useCallback)((function(e){c("SelectPropertyTab",e)}),[]),f=Object(i.useCallback)((function(e,t){c("HandleFileUpload",{files:e,onComplete:t,autoCreateLayers:!1})}),[]),d=Object(i.useCallback)((function(e,t){c("UpdateSelectedLayersConfig",{config:e},t)}),[]),y=Object(i.useCallback)((function(e,t){c("UpdateSelectionStyle",e,t)}),[]);if(!u)return o.a.createElement("div",{className:"no-content"},"No layers are selected");var g,h,b="Config";if(u.mergedElement&&u.mergedElement.element.manifest.parameters&&u.mergedElement.element.manifest.parameters.length>0&&(e=o.a.createElement(en,{element:u.mergedElement.element,config:u.mergedElement.config,onHandleUpload:f,onChanged:d}),b=u.mergedElement.element.manifest.name),l.length>0&&(g=o.a.createElement(tn,{style:u.mergedStyle,onHandleUpload:f,onStyleChanged:y}),h=o.a.createElement(on,{animationContext:s,onHandleUpload:f,dispatch:c})),!e&&!g&&!h)return o.a.createElement("div",{className:"no-content"},"No layers are selected");var v=a||"element";return"element"!=v||e||(v="style"),"style"!=v||g||(v="transitions"),o.a.createElement(Z.Tabs,{id:"property-tabs",onChange:p,selectedTabId:v,animate:!1,className:"normal-tabs"},o.a.createElement(Z.Tab,{id:"element",panel:e,disabled:!e},o.a.createElement("div",{className:"title",title:e?null:"Not Available"},b)),o.a.createElement(Z.Tab,{id:"style",panel:g,disabled:!g},o.a.createElement("div",{className:"title",title:g?null:"Not Available"},"Style")),o.a.createElement(Z.Tab,{id:"transitions",panel:h,disabled:!h},o.a.createElement("div",{className:"title",title:h?null:"Not Available"},"Transitions")))};function sn(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fn=[{value:1,label:"100%"},{value:.666666667,label:"67%"},{value:.5,label:"50%"},{value:.25,label:"25%"}],dn=function(e){var t=e.zoomSelection,n=e.onZoomSelectionChanged,r=$e()(e,["zoomSelection","onZoomSelectionChanged"]),a=Object(i.useCallback)((function(e){n&&("auto"==e.target.value?n(pn(pn({},t),{},{isAuto:!0})):n(pn(pn({},t),{},{zoom:parseFloat(e.target.value),isAuto:!1})))}),[t]),l=[];t.isAuto||(-1!=fn.findIndex((function(e){return e.value==t.zoom}))||l.push({label:"".concat(Math.round(100*t.zoom),"%"),value:t.zoom}));l.push({label:"Auto (".concat(Math.round(100*t.autoFitZoom),"%)"),value:"auto"});var s,c=sn(fn);try{for(c.s();!(s=c.n()).done;){var u=s.value;l.push(u)}}catch(e){c.e(e)}finally{c.f()}return o.a.createElement(Z.HTMLSelect,A()({},r,{onChange:a,options:l,value:t.isAuto?"auto":t.zoom}))},mn=(n(568),function(e){We()(e);var t=Pe((function(e){return e.stageZoomSelection})),n=m()(t,2),r=m()(n[0],1)[0],a=n[1],l=Object(i.useCallback)((function(e){a("SetStageZoomSelection",e)}),[]),s=Object(i.useCallback)((function(){a("ResetStageZoom")}),[]);return o.a.createElement("div",{className:"main-toolbar"},o.a.createElement(Z.ButtonGroup,{minimal:!0},o.a.createElement(Z.Tooltip,{content:"Reset Zoom"},o.a.createElement(Z.Button,{icon:"search",onClick:s})),o.a.createElement("div",{className:"bp3-button",style:{padding:0}},o.a.createElement(dn,{minimal:!0,large:!1,zoomSelection:r,onZoomSelectionChanged:l}))))}),yn=(n(570),function(e){var t=e.edge,n=e.defaultSize,r=e.canResize,a=void 0===r||r,l=e.minimum,s=e.maximum,c=e.onSizeChanged,u=$e()(e,["edge","defaultSize","canResize","minimum","maximum","onSizeChanged"]),p=Object(i.useState)(),f=m()(p,2),d=f[0],y=f[1],g="top"==t||"bottom"==t,h=Object(i.useCallback)((function(e){if(a){var r=g?e.clientY:e.clientX,i=n,o=function(e){var a=n+(g?"top"==t?r-e.clientY:e.clientY-r:"right"==t?e.clientX-r:r-e.clientX);(void 0===l||a>l)&&(void 0===s||a<=s)&&(i=a,y(a))};window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(t){c(i),y(null),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)}))}}),[n,a]),b=o.a.createElement("div",{className:"resize-bar "+t+(a?" can-resize":"")},o.a.createElement("div",{className:"inner",onMouseDown:h})),v=d||n;switch(t){case"top":return o.a.createElement(o.a.Fragment,null,b,o.a.createElement("div",{className:"resizable",style:{height:v+"px"}},o.a.createElement("div",u)));case"bottom":return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"resizable",style:{height:v+"px"}},o.a.createElement("div",u)),b);case"left":return o.a.createElement(o.a.Fragment,null,b,o.a.createElement("div",{className:"resizable",style:{width:v+"px"}},o.a.createElement("div",u)));case"right":return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"resizable",style:{width:v+"px"}},o.a.createElement("div",u)),b);default:return null}}),gn=function(e){var t=e.value,n=e.onConfirm,r=e.onCancel,a=Object(i.useState)(t),l=m()(a,2),s=l[0],c=l[1],u=Object(i.useCallback)((function(e){e.target&&c(e.target.value)}),[]),p=Object(i.useCallback)((function(e){e.stopPropagation(),"Enter"!=e.key?"Escape"!=e.key||r():n(e.target.value)}),[]),f=Object(i.useCallback)((function(e){n(e.target.value)}),[]),d=Object(i.useCallback)((function(e){e.target.select()}),[]),y=Object(i.useCallback)((function(e){console.log("got drag start"),e.stopPropagation(),e.preventDefault()}),[]);return o.a.createElement(Z.InputGroup,{value:s,onChange:u,onKeyDown:p,onBlur:f,onFocus:d,onDragStart:y,autoFocus:!0})},hn=function(e){var t,n=e.value,r=e.onChange,a=($e()(e,["value","onChange"]),Object(i.useState)(!1)),l=m()(a,2),s=l[0],c=l[1],u=Object(i.useCallback)((function(){c(!0)}),[]),p=Object(i.useCallback)((function(e){r(e),c(!1)}),[]),f=Object(i.useCallback)((function(){c(!1)}),[]);return t=s?o.a.createElement(gn,{value:n,onConfirm:p,onCancel:f}):n,o.a.createElement("span",{className:"label-editor",onDoubleClick:u},t)},bn="openoverlay/layer",vn="openoverlay/script",wn="openoverlay/asset",xn=function(e,t){return!(!e.dataTransfer.types||0==e.dataTransfer.types.length)&&e.dataTransfer.types.includes(t)},Sn=(n(572),function(e){var t=e.index,n=e.dragging,r=e.onDragStart,a=e.child,l=Object(i.useCallback)((function(e){r?r(e,a.key,t):e.preventDefault()}),[r,a.key,t]);return o.a.createElement("div",{className:"item","data-id":a.key,"data-index":t,dragging:n,draggable:!0,onDragStart:l},a)}),On=function(e){var t=e.itemType,n=e.onReorderItem,r=e.children,a=Object(i.useState)(null),l=m()(a,2),s=l[0],c=l[1],u=Object(i.useState)(null),p=m()(u,2),f=p[0],d=p[1],y=Object(i.useCallback)((function(e){window.removeEventListener("dragend",y),c(null),d(null)}),[]),g=Object(i.useCallback)((function(e,n,r){"INPUT"!=e.target.name?(window.addEventListener("dragend",y),e.dataTransfer.setData(t,n),c(r),d(n)):e.preventDefault()}),[]),h=Object(i.useCallback)((function(e){if(xn(e,t))if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",e.target.matches(".reorderable-list"))s!=r.length&&c(r.length);else{var n=e.target.closest(".item");if(n){var a=parseInt(n.getAttribute("data-index"));if("true"==n.getAttribute("dragging"))return;var i=n.getBoundingClientRect(),o=e.nativeEvent.clientY>i.top+i.height/2?a+1:a;s!=o&&c(o)}}}),[s]),b=Object(i.useCallback)((function(e){if(xn(e,t)){e.preventDefault(),e.stopPropagation();var r=e.dataTransfer.getData(t);n(r,s),c(null),d(null)}}),[s]),v=null;if(null!=f){var w=r.find((function(e){return e.key==f}));v=o.a.createElement(Sn,{key:f,index:s,child:w,dragging:"true"})}var x=r.reduce((function(e,t,n){return n==s&&e.push(v),t.key!=f&&e.push(o.a.createElement(Sn,{key:t.key,index:n,child:t,onDragStart:g})),n==r.length-1&&s>n&&e.push(v),e}),[]);return o.a.createElement("div",{className:"reorderable-list",onDragOver:h,onDrop:b},x)},En=function(e){var t=Pe();return o.a.createElement(Z.Popover,{position:Ye.a.RIGHT_BOTTOM,interactionKind:Z.PopoverInteractionKind.CLICK,boundary:"window"},e.children,o.a.createElement(Z.Menu,null,Object.entries(k.a).map((function(n){return o.a.createElement(Z.MenuItem,{key:n[0],text:n[0],popoverProps:{openOnTargetFocus:!1}},n[1].map((function(n){var r=k.b[n];return o.a.createElement(Z.MenuItem,{key:n,text:r.displayName,onClick:function(r){return t("CreateLayerEffect",{id:e.layer.id,effectName:n})}})})))}))))},kn=(n(574),function(e){var t=e.layer,n=e.effect,r=e.effectName,a=e.config,l=e.dispatch,s=Object(i.useCallback)((function(){l("DeleteLayerEffect",{id:t.id,effectName:r})}),[]),c=Object(i.useCallback)((function(){l("UpdateLayerEffect",{id:t.id,effectName:r,config:{hidden:!a.hidden}})}),[t.id,r,a.hidden]);Object(i.useCallback)((function(){l("DeleteLayerEffect",{id:t.id,effectName:r})}),[t.id,r]);return o.a.createElement("div",{className:"effect"},o.a.createElement(Z.Button,{icon:"eye-open",minimal:!0,intent:a.hidden?"danger":"success",title:"Show/Hide",onClick:c}),o.a.createElement("div",{className:"label",style:{opacity:a.hidden?.5:1}},n.displayName),o.a.createElement(Z.Button,{icon:"trash",minimal:!0,title:"Delete",onClick:s}))}),Cn=function(e){var t,n,r=e.layer,a=e.element,l=e.isSelected,s=e.dispatch,c=Object(i.useCallback)((function(e){s("UpdateLayers",{layers:[{id:r.id,label:e}]})}),[r.id]),u=Object(i.useCallback)((function(){s("UpdateLayers",{layers:[{id:r.id,hidden:!r.hidden}]})}),[r.id,r.hidden]),p=Object(i.useCallback)((function(e){s("SelectLayer",{id:r.id,append:e.ctrlKey||e.metaKey,selectBetween:e.shiftKey})}),[r.id]);if(0==a.manifest.effectsAllowed||a.manifest.nonVisual||(t=o.a.createElement(En,{layer:r},o.a.createElement(Z.Button,{icon:"plus",minimal:!0,title:"Add Effect"}))),0!=a.manifest.effectsAllowed&&r.effects){n=[];for(var f=0,d=Object.entries(r.effects);f<d.length;f++){var y=m()(d[f],2),g=y[0],h=y[1],b=k.b[g];n.push(o.a.createElement(kn,{key:g,layer:r,effectName:g,effect:b,config:h,dispatch:s}))}}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"layer-header",isselected:l?"true":null,style:r.hidden?{opacity:.5}:null},o.a.createElement(Z.Button,{icon:"eye-open",minimal:!0,intent:r.hidden?"danger":"success",title:"Toggle Visibility",onClick:u}),o.a.createElement("div",{className:"label",onClick:p},o.a.createElement(hn,{value:r.label,onChange:c,selectAllOnFocus:!0})),t,o.a.createElement(Z.Button,{icon:"trash",title:"Delete",minimal:!0,onClick:function(){return s("DeleteLayers",[r.id])}})),n)},jn=function(){var e=Pe((function(e){return e.elements}),(function(e){return e.overlay.layers}),(function(e){return e.selectedLayerIds}),(function(e){return e.editors})),t=m()(e,2),n=m()(t[0],4),r=n[0],a=n[1],l=n[2],s=(n[3],t[1]),c=(Object(i.useCallback)((function(e){s("CreateLayers",[{elementName:e}])}),[]),Object(i.useCallback)((function(e,t){s("ReorderLayer",{id:parseInt(e),newIndex:t})}),[]));return o.a.createElement("div",{className:"main-list layer-list"},o.a.createElement("div",{className:"list-items"},o.a.createElement(On,{itemType:bn,onReorderItem:c},(a||[]).map((function(e){return o.a.createElement(Cn,{key:e.id,layer:e,element:r[e.elementName],isSelected:l.includes(e.id),dispatch:s})})))))},Nn=n(21);n(576);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pn=function(e,t,n){if(e){var r=e.getBoundingClientRect();return r.height<=0||r.width<=0?1:r.height/r.width<t/n?r.height/t:r.width/n}},Tn=function(e){var t=Pe((function(e){return e.elements}),(function(e){return e.overlay}),(function(e){return e.animationContext}),(function(e){return e.isExecutingScript}),(function(e){return e.stageTool}),(function(e){return e.stageTransform}),(function(e){return e.preferences})),n=m()(t,2),r=m()(n[0],7),a=r[0],l=r[1],s=r[2],c=r[3],u=r[4],p=r[5],f=r[6],d=n[1],y=Object(i.useRef)();Object(i.useEffect)((function(){var e=y.current,t=function(t){d("SetStageAutoFitZoom",Pn(e,p.height,p.width))};return d("SetStageAutoFitZoom",Pn(e,p.height,p.width)),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[f]);var g=Object(i.useCallback)((function(e,t){if(2==(2&e.buttons)){var n=e.clientX,r=e.clientY,a=t.panning,i=function(e){var i=[a[0]+(e.clientX-n)/t.zoom,a[1]+(e.clientY-r)/t.zoom];d("SetStageTransform",An(An({},t),{},{panning:i}))};document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",(function e(t){document.body.removeEventListener("mousemove",i),document.body.removeEventListener("mouseup",e)}))}}),[]),h=Object(i.useCallback)((function(e){g(e,p)}),[p]),b=Object(i.useCallback)((function(e){e.preventDefault()}),[]),v=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"}),[]),w=Object(i.useCallback)((function(e){if(e.preventDefault(),e.stopPropagation(),xn(e,"Files"))d("HandleFileUpload",{files:e.dataTransfer.files,autoCreateLayers:!0});else if(xn(e,wn)){var t=e.dataTransfer.getData(wn);d("CreateLayerFromAsset",t)}else;}),[]),x=Object(i.useCallback)((function(e){e.nativeEvent.intercepted||d("StepZoom",-e.deltaY/100)}),[]),S=Object(i.useCallback)((function(e){d("SetOverlayDomElement",e)}),[]),O=Object(i.useCallback)((function(e){d("SetScriptState",e)}),[]),E=Object(i.useMemo)((function(){return{width:p.width+"px",height:p.height+"px",transform:"scale(".concat(p.zoom,") translate(").concat(p.panning[0],"px, ").concat(p.panning[1],"px)")}}),[p]);return o.a.createElement("div",{className:"stage-container",onWheel:x,onDragOver:v,onDrop:w,onMouseDown:h,onContextMenu:b,ref:y},o.a.createElement("div",{className:"stage",style:E},o.a.createElement(Nn.a,{overlay:l,disableBuiltinElements:!0,elements:a,animationContext:c?null:s,executeScripts:c,onOverlayDomReady:S,onScriptStateChanged:O})),u?o.a.createElement(u.component,null):null)},Dn=function(e){Object(i.useEffect)((function(){function t(t){"INPUT"!=t.target.tagName&&"SELECT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName&&(t.preventDefault(),t.clipboardData.items&&e("HandlePaste",t.clipboardData.items),t.clipboardData.files&&e("HandleFileUpload",{files:t.clipboardData.files,autoCreateLayers:!0}))}document.addEventListener("paste",t)}),[])},In=(n(578),function(e){var t=e.HtmlTag,n=e.asset,r=Object(i.useState)(!1),a=m()(r,2),l=a[0],s=a[1],c=Object(i.useRef)();return l?o.a.createElement(t,{ref:c,autoPlay:!0,controls:!0},o.a.createElement("source",{src:n.src})):o.a.createElement(Z.Icon,{icon:"play",iconSize:100,onClick:function(){return s(!0)}})}),Mn=function(e){var t,n=e.assetKey,r=e.asset,a=e.dispatch,l=Object(i.useCallback)((function(){Object(C.c)(r.name,r.src)}),[]);switch(r.type){case"image":t=o.a.createElement("img",{src:r.src});break;case"video":t=o.a.createElement(In,{HtmlTag:"video",asset:r});break;case"audio":t=o.a.createElement(In,{HtmlTag:"audio",asset:r});break;case"html":t=o.a.createElement(Z.Icon,{icon:"code",iconSize:100});break;case"script":t=o.a.createElement(Z.Icon,{icon:"code-block",iconSize:100})}return o.a.createElement("div",{className:"asset-popover"},o.a.createElement("div",{className:"preview-wrapper"},t),o.a.createElement("div",{className:"preview-actions"},o.a.createElement(Z.Button,{icon:"trash",text:"Delete",intent:"danger",onClick:function(){return a("DeleteAsset",n)}}),o.a.createElement(Z.Button,{icon:"export",text:"Export",onClick:l})))},zn=function(e){var t,n=e.assetKey,r=e.asset,a=e.previewing,i=e.onPreview,l=e.dispatch;switch(r.type){case"image":t="media";break;case"video":t="video";break;case"audio":t="volume-up";break;case"script":t="code-block";break;case"html":t="code";break;default:t="blank"}var s=o.a.createElement(Z.Button,{text:r.name,alignText:"left",fill:!0,icon:t,minimal:!0,active:a,rightIcon:"caret-right",onClick:function(){return i(n)}});return a&&(s=o.a.createElement(Z.Popover,{position:"right",isOpen:!0,fill:!0,minimal:!0,onInteraction:function(){return i(null)},boundary:"window"},s,o.a.createElement(Mn,{assetKey:n,asset:r,dispatch:l}))),o.a.createElement("div",{className:"asset-list-item"},s)},Fn=function(e){var t,n=Pe((function(e){return e.overlay.assets})),r=m()(n,2),a=m()(r[0],1)[0],l=r[1],s=Object(i.useState)(),c=m()(s,2),u=c[0],p=c[1],f=Object(i.useCallback)((function(e){xn(e,"Files")&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy")}),[]),d=Object(i.useCallback)((function(e){xn(e,"Files")&&(e.preventDefault(),e.stopPropagation(),l("HandleFileUpload",{files:e.dataTransfer.files,autoCreateLayers:!1}))}),[]),y=Object(i.useCallback)((function(e,t){l("ReorderAsset",{assetKey:e,newIndex:t})}),[]);return a&&(t=Object.entries(a).map((function(e){var t=m()(e,2),n=t[0],r=t[1];return o.a.createElement(zn,{key:n,assetKey:n,asset:r,previewing:u==n,onPreview:p,dispatch:l})}))),t=t&&t.length>0?o.a.createElement(On,{itemType:wn,onReorderItem:y},t):o.a.createElement("div",{className:"no-asset-message"},o.a.createElement("div",null,o.a.createElement("div",{className:"icon"},o.a.createElement(Z.Icon,{icon:"cloud-upload",iconSize:50})),"Drop files here to upload")),o.a.createElement("div",{className:"asset-list-wrapper"},o.a.createElement("div",{className:"asset-list",onDragOver:f,onDrop:d},t))},Rn=(n(580),function(e){var t,n=e.scriptKey,r=e.dispatch,a=Object(i.useState)(),l=m()(a,2),s=l[0],c=l[1],u=Object(i.useCallback)((function(){r("OpenEditor",{type:"script",params:{scriptKey:n}})}),[]),p=Object(i.useCallback)((function(e){r("UpdateScriptKey",{scriptKey:n,newScriptKey:e})}),[n]),f=Object(i.useCallback)((function(){r("DeleteScript",n)}),[]);switch(n){case"main.js":t="document-open";break;case"settings.json":t="cog";break;default:t="document"}var d=o.a.createElement(Z.Button,{icon:"trash",minimal:!0,title:"Delete",onClick:function(){return c((function(e){return!e}))}});return s&&(d=o.a.createElement(Z.Popover,{isOpen:!0,position:"left",boundary:"window"},d,o.a.createElement("div",{className:"delete-popover-body"},"Deleting this script is permanent and cannot be undone.  Continue?",o.a.createElement("div",{className:"buttons"},o.a.createElement(Z.Button,{icon:"cross",onClick:function(){return c(!1)}},"No, cancel"),o.a.createElement(Z.Button,{icon:"tick",intent:"danger",onClick:f},"Yes, Delete"))))),o.a.createElement("div",{className:"script-list-item"},o.a.createElement(Z.Icon,{icon:t}),o.a.createElement("div",{className:"label",onClick:u},o.a.createElement(hn,{value:n,onChange:p,selectAllOnFocus:!0})),d)}),Bn=function(){var e,t=Pe((function(e){return e.overlay.scripts})),n=m()(t,2),r=m()(n[0],1)[0],a=n[1],l=Object(i.useState)(!1),s=m()(l,2),c=s[0],u=(s[1],Object(i.useCallback)((function(e,t){a("ReorderScript",{scriptKey:e,newIndex:t})}),[]));if(c){e=[];var p=!1;r&&null!=r["main.js"]||(e.push(o.a.createElement(Z.MenuItem,{key:"main.js",icon:"document-share",text:"main.js",intent:"success",onClick:function(){return a("CreateScript","main.js")}})),p=!0),r&&null!=r["settings.json"]||(e.push(o.a.createElement(Z.MenuItem,{key:"settings.json",icon:"cog",text:"settings.json",intent:"success",onClick:function(){return a("CreateScript","settings.json")}})),p=!0),p&&e.push(o.a.createElement(Z.MenuDivider,{key:"sep"})),e.push(o.a.createElement(Z.MenuItem,{key:"new",icon:"document",text:"New Script",onClick:function(){return a("CreateScript")}}))}var f=r?Object.keys(r):[];return o.a.createElement("div",{className:"main-list script-list"},o.a.createElement("div",{className:"list-items"},o.a.createElement(On,{itemType:vn,onReorderItem:u},f.map((function(e){return o.a.createElement(Rn,{key:e,scriptKey:e,dispatch:a})})))))};n(582);function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hn=function(e){var t,n=e.settingsJson,r=Pe((function(e){return e.overlay.settings})),a=m()(r,2),l=m()(a[0],1)[0],s=a[1],c=Object(i.useCallback)((function(e,t){s("HandleFileUpload",{files:e,onComplete:t,autoCreateLayers:!1})}),[]),u=Object(i.useMemo)((function(){try{return JSON.parse(n)}catch(e){return null}}),[n]);if(!u)return o.a.createElement("div",{className:"error"},"Error parsing settings.json.");u.info&&(t=o.a.createElement(Z.Card,null,u.info));var p=Kn(Kn({},u.initial),l);return o.a.createElement("div",{className:"script-settings-panel"},t,o.a.createElement(It,{parameters:u.parameters||[],parameterValues:p,onHandleUpload:c,onParameterValuesChanged:function(e){s("UpdateScriptSettings",e,!1)}}))},Gn=(n(584),function(){var e=Pe((function(e){return e.isExecutingScript}),(function(e){return e.scriptState})),t=m()(e,2),n=m()(t[0],2),r=n[0],a=n[1],i=t[1],l=a&&a.logs?a.logs:[];return o.a.createElement("div",{className:"console-panel"},o.a.createElement("div",{className:"console-header"},o.a.createElement("div",{className:"title"},"Console"),o.a.createElement(Z.Button,{icon:r?"pause":"play",intent:r?"warning":"success",title:"Execute (Ctrl+e)",minimal:!0,onClick:function(){return i("ExecuteScript")}})),o.a.createElement("div",{className:"console-window"},l.map((function(e,t){return o.a.createElement("div",{key:t,className:"log-row"},e.map((function(e){return e.toString()})))}))))}),Vn=(n(586),function(e){We()(e);var t=Pe((function(e){return e.elements}),(function(e){return e.overlay.scripts?e.overlay.scripts["settings.json"]:null}),(function(e){return e.preferences}),(function(e){return e.editors}),(function(e){return e.selectedListTab}),(function(e){return e.selectedEditorTab})),n=m()(t,2),r=m()(n[0],6),a=r[0],l=r[1],c=r[2],u=r[3],p=r[4],d=r[5],y=n[1];Dn(y),B(F.GLOBAL),B(F.LAYERS);var g,h,b,v,w=Object(i.useCallback)((function(e){y("SavePreferences",e)}),[]),x=Object(i.useCallback)((function(e){y("SelectListTab",e)}),[]),S=Object(i.useCallback)((function(e){y("CreateLayers",[{elementName:e}])}),[]),O=Object(i.useCallback)(f()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.h)();case 3:t=e.sent,y("HandleFileUpload",{files:t,autoCreateLayers:!1}),y("SelectListTab","assets"),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]),E=Object(i.useCallback)((function(e){y("CreateScript",e)}),[]);u.length>0&&(g=o.a.createElement(Z.Tabs,{id:"editor-tabs",onChange:function(e){return y("SelectEditor",e)},selectedTabId:d,animate:!1,className:"editor-tabs normal-tabs"},o.a.createElement(Z.Button,{className:"btn-minimize-bottom",icon:c.bottomPanelMinimized?"double-chevron-up":"double-chevron-down",minimal:!0,onClick:function(){return w({bottomPanelMinimized:!c.bottomPanelMinimized})}}),u.map((function(e){var t=fe[e.type],n=t.key(e.params);return d==n&&"script"==e.type&&(b=!0),o.a.createElement(Z.Tab,{key:n,id:n,panel:o.a.createElement(t.component,A()({editorKey:n},e.params))},o.a.createElement(Z.Icon,{icon:t.icon(e.params)}),o.a.createElement("span",{className:"title"},t.title(e.params)),o.a.createElement(Z.Button,{minimal:!0,icon:"cross",title:"Close",small:!0,onClick:function(t){t.stopPropagation(),y("CloseEditor",e.key)}}))}))),b&&(h=o.a.createElement(yn,{edge:"left",defaultSize:c.consolePanelSize,minimum:100,onSizeChanged:function(e){return w({consolePanelSize:e})},className:"console-wrapper"},o.a.createElement(Gn,null))));return l&&(v=o.a.createElement(Z.Tooltip,{content:"Settings"},o.a.createElement(Z.Button,{className:"list-button",active:"settings"==p,text:"Settings",alignText:"left",icon:"settings",onClick:function(){return x("settings")}}))),o.a.createElement("div",{className:"layout-changer"},o.a.createElement(Ze,null),o.a.createElement(yn,{edge:"right",defaultSize:c.leftPanelWidth,minimum:350,maximum:500,onSizeChanged:function(e){return w({leftPanelWidth:e})},className:"leftpanel-wrapper panel-bg"},o.a.createElement(yn,{edge:"bottom",defaultSize:c.layerListSize||300,minimum:100,maximum:800,onSizeChanged:function(e){return w({layerListSize:e})},className:"lists-wrapper"},o.a.createElement(Z.ButtonGroup,{fill:!0,className:"toolbar"},v,o.a.createElement(Z.Tooltip,{content:"Layers"},o.a.createElement(Z.Button,{className:"list-button",active:"layers"==p,text:"Layers",alignText:"left",icon:"layers",onClick:function(){return x("layers")}})),o.a.createElement(Z.Tooltip,{content:"Scripts"},o.a.createElement(Z.Button,{className:"list-button",active:"scripts"==p,text:"Scripts",alignText:"left",icon:"manually-entered-data",onClick:function(){return x("scripts")}})),o.a.createElement(Z.Tooltip,{content:"Assets"},o.a.createElement(Z.Button,{className:"list-button",active:"assets"==p,text:"Assets",alignText:"left",icon:"archive",onClick:function(){return x("assets")}})),o.a.createElement(Z.Popover,{position:"right",boundary:"window",className:"new-object"},o.a.createElement(Z.Tooltip,{content:"New"},o.a.createElement(Z.Button,{icon:"plus",intent:"primary"})),o.a.createElement(Z.Menu,{className:"no-outline"},o.a.createElement(Z.MenuDivider,{title:"Layers"}),Object.entries(a).map((function(e){var t=m()(e,2),n=t[0],r=t[1];return o.a.createElement(Z.MenuItem,{key:n,icon:r.manifest.icon,text:r.manifest.name,onClick:function(){return S(n)}})})),o.a.createElement(Z.MenuDivider,{title:"Scripts"}),o.a.createElement(Z.MenuItem,{key:"main.js",icon:"document-share",text:"main.js",intent:"success",onClick:function(){return E("main.js")}}),o.a.createElement(Z.MenuItem,{key:"settings.json",icon:"cog",text:"settings.json",intent:"success",onClick:function(){return E("settings.json")}}),o.a.createElement(Z.MenuItem,{key:"new",icon:"document",text:"Script File",onClick:function(){return E()}}),o.a.createElement(Z.MenuDivider,null),o.a.createElement(Z.MenuItem,{key:"asset-upload",icon:"cloud-upload",text:"Upload asset...",onClick:O})))),o.a.createElement("div",{className:"lists-panel"},"settings"==p?o.a.createElement(Hn,{settingsJson:l}):null,"layers"==p?o.a.createElement(jn,null):null,"scripts"==p?o.a.createElement(Bn,null):null,"assets"==p?o.a.createElement(Fn,null):null)),o.a.createElement(ln,null)),o.a.createElement("div",{className:"center-wrapper"},o.a.createElement("div",{className:"stage-wrapper",dropeffect:"copy"},o.a.createElement("div",{className:"toolbar-wrapper"},o.a.createElement(mn,null)),o.a.createElement(Tn,null)),g?o.a.createElement(yn,{edge:"top",defaultSize:c.bottomPanelMinimized?29:c.bottomPanelSize,canResize:!c.bottomPanelMinimized,minimum:100,maximum:500,onSizeChanged:function(e){return w({bottomPanelSize:e})},className:"bottom-panel-wrapper panel-bg"},g,h):null))}),Wn=(n(588),function(e){return Object(i.useEffect)((function(){var e=function(e){e.ctrlKey&&(e.stopPropagation(),e.preventDefault())};return window.addEventListener("wheel",e,{passive:!1}),function(){return window.removeEventListener("wheel",e,{passive:!1})}}),[]),o.a.createElement(Ae,e,o.a.createElement(Fe,null,o.a.createElement(Ge,null,o.a.createElement(Vn,null))))});t.default=Wn},7:function(e,t,n){"use strict";t.a={ENTRY:{key:"entry",displayName:"Entry"},EXIT:{key:"exit",displayName:"Exit"},HIDDEN:{key:"hidden",displayName:"Hidden"},STATIC:{key:"static",displayName:"Static"}}}}]);