(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[3],{11:function(e,t,n){"use strict";var a=n(6),r=n.n(a);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var l,c=[(l=["Arial","Arial Black","Comic Sans MS","Courier New","Georgia","Impact","Lucida Sans Unicode","Lucida Console","Tahoma","Trebuchet MS","Times New Roman","Verdana"],{fontNames:l,loadFont:function(e){return l.includes(e)?Promise.resolve():null}}),function(){var e=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Baloo","Baloo Bhai","Baloo Bhaijaan","Baloo Bhaina","Baloo Chettan","Baloo Da","Baloo Paaji","Baloo Tamma","Baloo Tammudu","Baloo Thambi","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Battambang","Baumans","Bayon","Belgrano","Bellefair","Belleza","BenchNine","Bentham","Berkshire Swash","Beth Ellen","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Gothic A1","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Grenze","Griffy","Gruppo","Gudea","Gugi","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Josefin Sans","Josefin Slab","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kumar One","Kumar One Outline","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Muli","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Neucha","Neuton","New Rocker","News Cycle","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Red Hat Display","Red Hat Text","Redressed","Reem Kufi","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Song Myung","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Mono","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trirong","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"];return{fontNames:e,loadFont:function(t){return e.includes(t)?new Promise((function(e,n){var a=document.createElement("link");a.rel="stylesheet",a.href="https://fonts.googleapis.com/css?family="+encodeURIComponent(t),a.addEventListener("load",e),a.addEventListener("abort",n),a.addEventListener("error",n),document.head.appendChild(a)})):null}}}()];t.a=function(){var e=[],t={},n=null;return{GetFontNames:function(){if(!n){n=[];var e,t=i(c);try{for(t.s();!(e=t.n()).done;){var a,o=e.value;(a=n).push.apply(a,r()(o.fontNames))}}catch(e){t.e(e)}finally{t.f()}n=n.sort()}return n},LoadFont:function(n){if(e.includes(n))return null;if(t[n])return t[n];var a,r=i(c);try{for(r.s();!(a=r.n()).done;){var o=a.value.loadFont(n);if(o)return t[n]=o,o.then((function(){e.push(n),delete t[n]})),o}}catch(e){r.e(e)}finally{r.f()}return null}}}()},13:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(0),o=n.n(i);n(11);function l(e){return!!e&&e.startsWith("asset:")}var c={manifest:{name:"Ellipse",width:400,height:400,icon:"circle",primative:!0,parameters:[{name:"fill",type:"color",displayName:"Fill Color",defaultValue:"#FF0000"}]},component:function(e){var t=e.fill,n=void 0===t?"#FF0000":t;return o.a.createElement("svg",{style:{height:"100%",width:"100%"}},o.a.createElement("ellipse",{cx:"50%",cy:"50%",rx:"50%",ry:"50%",fill:n}))}},u={manifest:{name:"Image",width:400,height:400,icon:"media",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"image/*"}],defaultEffects:{autoFit:{fit:"fill",position:"center center"}},preload:function(e){if(!l(e.url))return new Promise((function(e,t){var n=new Image;n.addEventListener("load",e),n.addEventListener("error",e),n.addEventListener("abort",e),n.src=(void 0).props.url}))},referencedAssets:function(e){return l(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=(e.fit,e.offset,e.assets),a=l(t)?n[t]:t;return o.a.createElement("img",{src:a,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}},s={manifest:{name:"Video",width:1280,height:720,icon:"video",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"video/*"},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0},{name:"loop",type:"checkbox",displayName:"Loop",defaultValue:!1},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100}],defaultEffects:{autoFit:{fit:"fill",position:"center center"}},referencedAssets:function(e){return l(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.playing,a=void 0===n||n,r=e.loop,c=void 0!==r&&r,u=e.volume,s=void 0===u?100:u,f=(e.fit,e.assets),p=Object(i.useRef)();Object(i.useEffect)((function(){p.current.load()}),[t]),Object(i.useEffect)((function(){p.current.currentTime=0,a?p.current.play():p.current.pause()}),[a]),Object(i.useEffect)((function(){p.current.volume=s/100}),[s]);var d=Object(i.useCallback)((function(e){a&&p.current.play().catch((function(e){console.log(e.message)}))}),[]),m=l(t)?f[t]:t;return o.a.createElement("video",{ref:p,onLoadedData:d,loop:c,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}},o.a.createElement("source",{src:m}))}},f={manifest:{name:"Audio",nonVisual:!0,animatable:!1,primative:!0,icon:"volume-up",parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"audio/*"},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0},{name:"loop",type:"checkbox",displayName:"Loop",defaultValue:!1},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100}],referencedAssets:function(e){return l(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.playing,a=void 0===n||n,r=e.loop,c=void 0!==r&&r,u=e.volume,s=void 0===u?100:u,f=e.assets,p=Object(i.useRef)();Object(i.useEffect)((function(){p.current.load()}),[t]),Object(i.useEffect)((function(){a?p.current.play():p.current.pause()}),[a]),Object(i.useEffect)((function(){p.current.volume=s/100}),[s]);var d=Object(i.useCallback)((function(e){a&&p.current.play().catch((function(e){console.log(e.message)}))}),[]),m=l(t)?f[t]:t;return o.a.createElement("audio",{ref:p,onLoadedData:d,loop:c},o.a.createElement("source",{src:m}))}},p={manifest:{name:"Iframe",width:1280,height:720,icon:"globe-network",primative:!0,preserveAspect:!1,parameters:[{name:"url",type:"assetUrl",displayName:"Url/Asset",accept:"text/html"}],referencedAssets:function(e){return l(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.assets,a=l(t)?n[t]:t;return o.a.createElement("iframe",{src:a,style:{border:"0",height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}};var d={manifest:{name:"Knockout",description:"Punches holes in the overlay",icon:"heat-grid",width:400,height:400,preserveAspect:!1,animatable:!1,parameters:[{name:"radius",displayName:"Corner Radius",type:"text"}]},component:function(e){var t=e.radius,n=e.layer,a=e.store;return Object(i.useEffect)((function(){return a.actions.RegisterKnockout(n.id,function(e,t){var n;return null!=t&&t.length>0&&(n=parseInt(t)),n&&!isNaN(n)?(n=Math.min(Math.min(n,e.height/2),e.width/2),"M".concat(e.left," ").concat(e.top+n," L").concat(e.left," ").concat(e.top+e.height-n," A").concat(n," ").concat(n," 90 0 0 ").concat(e.left+n," ").concat(e.top+e.height," L").concat(e.left+e.width-n," ").concat(e.top+e.height," A").concat(n," ").concat(n," 90 0 0 ").concat(e.left+e.width," ").concat(e.top+e.height-n," L").concat(e.left+e.width," ").concat(e.top+n," A").concat(n," ").concat(n," 90 0 0 ").concat(e.left+e.width-n," ").concat(e.top," L").concat(e.left+n," ").concat(e.top," A").concat(n," ").concat(n," 90 0 0 ").concat(e.left," ").concat(e.top+n)):"M".concat(e.left," ").concat(e.top," L").concat(e.left," ").concat(e.top+e.height," L").concat(e.left+e.width," ").concat(e.top+e.height," L").concat(e.left+e.width," ").concat(e.top," L").concat(e.left," ").concat(e.top)}(n,t)),function(){return a.actions.UnregisterKnockout(n.id)}}),[n,t]),null}},m=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i;var h={manifest:{name:"Youtube",description:"Customizable YouTube player",width:1280,height:720,icon:"star",preserveAspect:!0,parameters:[{name:"url",type:"text",displayName:"Url",inline:!0},{name:"start",type:"text",displayName:"Start (s)",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,compact:!1}],preload:function(e){return window.onYouTubeIframeAPIReadyPromise||(window.onYouTubeIframeAPIReadyPromise=new Promise((function(e){if(window.YT)e();else{var t=document.createElement("script");t.type="text/javascript",t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=e}}))),window.onYouTubeIframeAPIReadyPromise}},component:function(e){var t=e.url,n=e.start,a=void 0===n?0:n,l=e.volume,c=void 0===l?100:l,u=e.playing,s=void 0===u||u,f=Object(i.useRef)(),p=Object(i.useState)(),d=r()(p,2),h=d[0],y=d[1],g=Object(i.useState)(),v=r()(g,2),b=v[0],x=v[1];return Object(i.useEffect)((function(){var e=new YT.Player(f.current,{width:"100%",height:"100%",playerVars:{controls:0,modestbranding:1},events:{onReady:function(t){y(e)},onStateChange:function(e){var t=e.data;x(t)}}})}),[]),Object(i.useEffect)((function(){h&&h.loadVideoByUrl(function(e){if(!e)return"";var t=e.match(m);if(null==t||t.length<2||0==t[1].length)return"";var n=t[1];return"http://www.youtube.com/v/".concat(n,"?version=3")}(t))}),[h,t]),Object(i.useEffect)((function(){h&&b&&-1==b&&h.seekTo(a)}),[h,b,a]),Object(i.useEffect)((function(){h&&b&&h.seekTo(a)}),[h,a]),Object(i.useEffect)((function(){h&&(s?h.playVideo():h.pauseVideo())}),[h,s]),Object(i.useEffect)((function(){h&&h.setVolume(c)}),[h,c]),o.a.createElement("div",{style:{overflow:"hidden",height:"100%",width:"100%",display:null!=t&&t.length>0?"block":"none"}},o.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),o.a.createElement("div",{ref:f}))}},y={manifest:{name:"External Script",description:"External Javascript resource",nonVisual:!0,animatable:!1,icon:"manually-entered-data",parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"text/javascript"}],referencedAssets:function(e){return l(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.assets,a=e.store;return console.log({url:t,assets:n,store:a}),Object(i.useEffect)((function(){var e=function(e,t){if(l(e)){var n=t[e];if(n.length<=28)return void console.log("Asset data was malformed.");var a=atob(n.substr(28));return Promise.resolve(a)}return fetch(e).then((function(e){return e.text()})).catch((function(t){console.log("Could not fetch ".concat(e,": ").concat(t))}))}(t,n);return a.actions.RegisterScript(t,e),function(){return a.actions.UnregisterScript(t)}}),[t]),null}};t.a={rectangle:{manifest:{name:"Rectangle",icon:"square",width:640,height:360,preserveAspect:!1,primative:!0,parameters:[],defaultEffects:{backgroundColor:{color:"#FF0000"}}},component:function(e){return null}},text:{manifest:{name:"Text",width:400,height:400,icon:"new-text-box",preserveAspect:!1,primative:!0,parameters:[{name:"text",displayName:null,type:"textarea",defaultValue:"text"}],defaultEffects:{font:{font:{fontFamily:"Arial",fontSize:"144pt",color:"rgba(255,255,255,1)"}}}},component:function(e){return e.text}},ellipse:c,image:u,video:s,audio:f,iframe:p,knockout:d,youtube:h,script:y}},22:function(e,t,n){"use strict";n.r(t),n.d(t,"entry",(function(){return i})),n.d(t,"exit",(function(){return o})),n.d(t,"active",(function(){return l})),n.d(t,"animations",(function(){return c}));var a=n(9),r=n.n(a),i=["animSlide","animSlideUp","animSlideDown","animSlideLeft","animSlideRight","animWipeLeftIn","animWipeRightIn","animWipeUpIn","animWipeDownIn","animFadeIn","animScaleIn","animBlurIn","animCustomEntry"],o=["animSlide","animSlideUpExit","animSlideDownExit","animSlideLeftExit","animSlideRightExit","animWipeLeftExit","animWipeRightExit","animWipeDownExit","animWipeUpExit","animScaleOutExit","animFadeOutExit","animBlurOutExit","animCustomExit"],l=["animSlide","animCustomActive","animRotateActive"];var c={animSlide:{phase:"entry",displayName:"Slide",parameters:[{name:"startx",type:"text",displayName:"Start X",defaultValue:"-100vh"},{name:"starty",type:"text",displayName:"Start Y",defaultValue:"0"},{name:"endx",type:"text",displayName:"End X",defaultValue:"0"},{name:"endy",type:"text",displayName:"End Y",defaultValue:"0"}],getKeyframesId:function(e){var t=e.startx||"-100vh",n=e.starty||"0",a=e.endx||"0",r=e.endy||"0";return"".concat(t).concat(n).concat(a).concat(r).replace(/[^a-zA-Z0-9\-_]/,"_")},getKeyframesDefinition:function(e){var t=e.startx||"-100vh",n=e.starty||"0",a=e.endx||"0",r=e.endy||"0";return"from { margin-left: ".concat(t,"; margin-top: ").concat(n,"; } to { margin-left: ").concat(a,"; margin-top: ").concat(r,"; }")}},animSlideUp:{phase:"entry",displayName:"Slide Up",getKeyframesDefinition:function(e){return"from { margin-top: 150vh; } to { margin-top: 0; }"}},animSlideDown:{phase:"entry",displayName:"Slide Down",getKeyframesDefinition:function(e){return"from { margin-top: -150vh; } to { margin-top: 0; }"}},animSlideLeft:{phase:"entry",displayName:"Slide Left",getKeyframesDefinition:function(e){return"from { margin-left: 150vw; } to { margin-left: 0; }"}},animSlideRight:{phase:"entry",displayName:"Slide Right",getKeyframesDefinition:function(e){return"from { margin-left: -150vw; } to { margin-left: 0; }"}},animWipeLeftIn:{phase:"entry",displayName:"Wipe Left",getKeyframesDefinition:function(e){return"from { clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%, 100% 0); } to { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0) }"}},animWipeRightIn:{phase:"entry",displayName:"Wipe Right",getKeyframesDefinition:function(e){return"from { clip-path: polygon(0 0, 0 0, 0 100%, 0 100%, 0 0); } to { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0) }"}},animWipeUpIn:{phase:"entry",displayName:"Wipe Up",getKeyframesDefinition:function(e){return"from { clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%, 0 100%); } to { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0) }"}},animWipeDownIn:{phase:"entry",displayName:"Wipe Down",getKeyframesDefinition:function(e){return"from { clip-path: polygon(0 0, 100% 0, 100% 0, 0 0, 0 0); } to { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0) }"}},animFadeIn:{phase:"entry",displayName:"Fade In",getKeyframesDefinition:function(e){return"from { opacity: 0; } to { opacity: 1; }"}},animScaleIn:{phase:"entry",displayName:"Scale In",getKeyframesDefinition:function(e){return"from { transform: scale(10); } to { transform: scale(1); }"}},animBlurIn:{phase:"entry",displayName:"Blur In",parameters:[{name:"amount",type:"number",displayName:"Amount",defaultValue:10}],getKeyframesId:function(e){return(null==e.amount?10:e.amount).toString()},getKeyframesDefinition:function(e){var t=null==e.amount?10:e.amount;return"from { filter: blur(".concat(t,"px); } to { filter: blur(0); }")}},animCustomEntry:{phase:"entry",displayName:"Custom",parameters:[{name:"keyframes",type:"textarea",displayName:"Keyframes",defaultValue:"from { }\nto { }"}],getKeyframesId:function(e){return r()(e.keyframes)},getKeyframesDefinition:function(e){return e.keyframes}},animSlideUpExit:{phase:"exit",displayName:"Slide Up",getKeyframesDefinition:function(e){return"from { margin-top: 0; } to { margin-top: -150vh; }"}},animSlideDownExit:{phase:"exit",displayName:"Slide Down",getKeyframesDefinition:function(e){return"from { margin-top: 0; } to { margin-top: 150vh; }"}},animSlideLeftExit:{phase:"exit",displayName:"Slide Left",getKeyframesDefinition:function(e){return"from { margin-left: 0; } to { margin-left: -150vw; }"}},animSlideRightExit:{phase:"exit",displayName:"Slide Right",getKeyframesDefinition:function(e){return"from { margin-left: 0; } to { margin-left: 150vw; }"}},animWipeLeftExit:{phase:"exit",displayName:"Wipe Left",getKeyframesDefinition:function(e){return"from { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0); } to { clip-path: polygon(0 0, 0 0, 0 100%, 0 100%, 0 0); }"}},animWipeRightExit:{phase:"exit",displayName:"Wipe Right",getKeyframesDefinition:function(e){return"from { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0); } to { clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%, 100% 0); }"}},animWipeDownExit:{phase:"exit",displayName:"Wipe Down",getKeyframesDefinition:function(e){return"from { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0); } to { clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%, 0 100%); }"}},animWipeUpExit:{phase:"exit",displayName:"Wipe Up",getKeyframesDefinition:function(e){return"from { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0); } to { clip-path: polygon(0 0, 100% 0, 100% 0, 0 0, 0 0); }"}},animScaleOutExit:{phase:"exit",displayName:"Scale Out",parameters:[{name:"amount",type:"number",displayName:"Amount",defaultValue:10}],getKeyframesId:function(e){return(null==e.amount?10:e.amount).toString()},getKeyframesDefinition:function(e){return"from { transform: scale(1); } to { transform: scale(".concat(amount,"); }")}},animFadeOutExit:{phase:"exit",displayName:"Fade Out",getKeyframesDefinition:function(e){return"from { opacity: 1; } to { opacity: 0; }"}},animBlurOutExit:{phase:"exit",displayName:"Blur Out",parameters:[{name:"amount",type:"number",displayName:"Amount",defaultValue:10}],getKeyframesId:function(e){return(null==e.amount?10:e.amount).toString()},getKeyframesDefinition:function(e){return"from { filter: blur(0); } to { filter:  blur(".concat(amount,"px); }")}},animCustomExit:{phase:"exit",displayName:"Custom",parameters:[{name:"keyframes",type:"textarea",displayName:"Keyframes",defaultValue:"from { }\nto { }"}],getKeyframesId:function(e){return r()(e.keyframes)},getKeyframesDefinition:function(e){return e.keyframes}},animCustomActive:{phase:"active",displayName:"Custom",parameters:[{name:"keyframes",type:"textarea",displayName:"Keyframes",defaultValue:"from { }\nto { }"}],getKeyframesId:function(e){return r()(e.keyframes)},getKeyframesDefinition:function(e){return e.keyframes}},animRotateActive:{phase:"active",displayName:"Rotate",parameters:[{name:"degrees",type:"number",displayName:"Degrees",defaultValue:360}],getKeyframesId:function(e){return(null==e.degrees?360:e.degrees).toString()},getKeyframesDefinition:function(e){return"from { transform: rotate(0); } to { transform: rotate(${degrees}deg); }"}}}},23:function(e,t,n){"use strict";var a,r=n(7),i=n.n(r),o=n(1),l=n.n(o),c=n(2),u=n.n(c),s=n(0),f=n.n(s),p=n(13),d={ENTRY:"entry",ACTIVE:"active",EXIT:"exit",HIDDEN:"hidden",STATIC:"static"},m=function(e){var t=e.id,n=e.knockoutPaths;return f.a.createElement("svg",{style:{position:"absolute",top:"-99999px"},viewBox:"0 0 1920 1080",xmlns:"http://www.w3.org/2000/svg"},f.a.createElement("defs",null,f.a.createElement("clipPath",{id:t},f.a.createElement("path",{d:"M-10000 -10000 L10000 -10000 L10000 10000 L-10000 10000 L-10000 -10000 "+n.join(" ")+"Z"}))))},h=n(6),y=n.n(h),g=n(4);function v(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={knockouts:[],externalScripts:{},eventHandlers:{},scriptState:null},E="SET_LAYERS",O="REGISTER_KNOCKOUT",C="UNREGISTER_KNOCKOUT",k="REGISTER_SCRIPT",A="UNREGISTER_SCRIPT",N="REGISTER_EVENTHANDLER",D="UNREGISTER_EVENTHANDLER",L="TRIGGER_EVENT",j="RUN_SCRIPT",P="SET_SCRIPT_STATE",T="RESET_SCRIPT",I=Object(g.d)((a={},l()(a,E,(function(e,t){var n=t.layers;return{overlay:w(w({},e.overlay),{},{layers:n})}})),l()(a,O,(function(e,t){var n=t.key,a=t.path;return{knockouts:[].concat(y()(e.knockouts),[{key:n,path:a}])}})),l()(a,C,(function(e,t){var n=t.key;return{knockouts:e.knockouts.filter((function(e){return e.key!=n}))}})),l()(a,k,(function(e,t){var n=t.key,a=t.data;return{externalScripts:w(w({},e.externalScripts),{},l()({},n,a))}})),l()(a,A,(function(e,t){var n=t.key,a=w({},e.externalScripts);return delete a[n],{externalScripts:a}})),l()(a,N,(function(e,t){var n=t.eventName,a=t.callback,r=w({},e.eventHandlers);return r[n]||(r[n]=[]),r[n].push(a),{eventHandlers:r}})),l()(a,D,(function(e,t){var n=t.eventName,a=t.callback,r=w({},e.eventHandlers);if(r[n])return r[n]=r[n].filter((function(e){return e!=a})),{eventHandlers:r}})),l()(a,L,(function(e,t){var n=t.eventName,a=t.eventArgs,r=e.eventHandlers[n];if(r){var i,o=v(r);try{for(o.s();!(i=o.n()).done;){(0,i.value)(a,sourceLayer)}}catch(e){o.e(e)}finally{o.f()}}})),l()(a,j,(function(e,t){var n=t.overlay,a=t.dispatch,r=n.layers.map((function(e){return e.id})).reduce((function(e,t){return t.id>e?t.id:e}),0),i={overlay:n,timeouts:[],intervals:[]},o=y()(i.overlay.layers),l={emit:function(e,t,n){return a(OverlayActions.TriggerEvent)},on:function(e,t){return a(OverlayActions.RegisterEventHandler)},off:function(e,t){return a(OverlayActions.UnregisterEventHandler)},setLayer:function(e,t){var n,a=layerFilterToFunction(e),r=propsOrCallbackToFunction(t),i=0,l=v(o);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(a(c)){var u=r(c);u&&(o[i]=w(w({},o[i]),u))}i++}}catch(e){l.e(e)}finally{l.f()}},cloneLayer:function(e){var t,n=layerFilterToFunction(e),a=v(o);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(n(r))return cloneDeep(r)}}catch(e){a.e(e)}finally{a.f()}return null},addLayer:function(e){e.id=++r,o.push(e)},removeLayer:function(e){var t=layerFilterToFunction(e),n=o.find((function(e){return t(e)}));n&&(o=o.filter((function(e){return e!=n})))},update:function(){a(OverlayActions.SetScriptState(w(w({},i),{},{overlay:w(w({},i.overlay),{},{layers:y()(o)})})))}};function c(e,t){var n=setTimeout(e,t);i.timeouts.push(n)}function u(e,t){var n=setInterval(e,t);i.intervals.push(n)}return Object(g.c)(e.externalScripts).then((function(e){window.Function("return function(overlay, setTimeout, setInterval) { ".concat(e,"\r\n ").concat(n.script," }"))()(l,c,u)})).catch((function(e){console.log("Error executing script: ",e)})),{scriptState:i}})),l()(a,P,(function(e,t){return{scriptState:t.scriptState}})),l()(a,T,(function(e){if(e.scriptState){var t,n=v(e.scriptState.timeouts);try{for(n.s();!(t=n.n()).done;){var a=t.value;clearTimeout(a)}}catch(e){n.e(e)}finally{n.f()}var r,i=v(e.scriptState.intervals);try{for(i.s();!(r=i.n()).done;){var o=r.value;clearInterval(o)}}catch(e){i.e(e)}finally{i.f()}return{scriptState:null}}})),a)),R=function(){var e=Object(s.useReducer)(I,S),t=u()(e,2),n=t[0],a=t[1];return{state:n,actions:Object(s.useMemo)((function(){return function(e){return{SetLayers:function(t){return e({type:E,layers:t})},RegisterKnockout:function(t,n){return e({type:O,key:t,path:n})},UnregisterKnockout:function(t){return e({type:C,key:t})},RegisterScript:function(t,n){return e({type:k,key:t,data:n})},UnregisterScript:function(t){return e({type:A,key:t})},RegisterEventHandler:function(t,n){return e({type:N,eventName:t,callback:n})},UnregisterEventHandler:function(t,n){return e({type:D,eventName:t,callback:n})},TriggerEvent:function(t,n){return e({type:L,eventName:t,eventArgs:n})},RunScript:function(t){return e({type:j,overlay:t,dispatch:e})},SetScriptState:function(t){return e({type:P,scriptState:t})},ResetScript:function(){return e({type:T})}}}(a)}),[a])}},M=n(17),F=n.n(M),z=n(22),B=new function e(){var t=this;F()(this,e),l()(this,"_stylesheet",void 0),l()(this,"_loadedKeyframes",{}),l()(this,"clear",(function(){for(;t._stylesheet.cssRules.length>0;)t._stylesheet.deleteRule(0);t._loadedKeyframes={}})),l()(this,"ensureKeyframes",(function(e,n){var a=z.animations[e];if(!a)return null;var r="openoverlay-"+e+(a.getKeyframesId?a.getKeyframesId(n):"");if(!t._loadedKeyframes[r]){var i=a.getKeyframesDefinition(n),o="@keyframes ".concat(r," { ").concat(i," }");try{t._stylesheet.insertRule(o),t._loadedKeyframes[r]=o}catch(e){console.log("Could not create keyframes rule: "+e)}}return r}));var n=document.createElement("style");n.type="text/css",n.title="openoverlay-animations",document.head.appendChild(n),this._stylesheet=document.styleSheets[document.styleSheets.length-1]},V=n(8);function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){return Object(s.useMemo)((function(){var t={position:{top:e.top+"px",left:e.left+"px",height:e.height+"px",width:e.width+"px",transition:e.transition},style:H({},e.style),entranceAnimation:null,activeAnimation:null,exitAnimation:null},n=[];if(e.rotation&&n.push({rotate:[0,0,e.rotation]}),e.effects&&Object.entries(e.effects).forEach((function(a){var r=u()(a,2),i=r[0],o=r[1],l=V.b[i];if(l)switch(l.type){case"style":l.apply(t.style,o,e);break;case"transform":l.apply(n,o,e)}})),n.length>0&&(t.style.transform=Object(g.f)(n)),e.animations){var a,r=[],i=[],o=[],l=U(e.animations);try{for(l.s();!(a=l.n()).done;){var c=a.value,s=B.ensureKeyframes(c.name,c.config||{});if(s)switch(c.phase){case"entry":r.push(H({key:s},c));break;case"active":i.push(H({key:s},c));break;case"exit":o.push(H({key:s},c))}}}catch(e){l.e(e)}finally{l.f()}r.length>0&&(t.entranceAnimation=Object(g.a)(r)),i.length>0&&(t.activeAnimation=Object(g.a)(i)),o.length>0&&(t.exitAnimation=Object(g.a)(o))}return t}),[e])};n(38);function W(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){var t=e.preloads,n=e.config,a=e.children,r=Object(s.useState)(!0),i=u()(r,2),o=i[0],l=i[1];return Object(s.useEffect)((function(){Promise.all(t).finally((function(e){return l(!1)}))}),[t,n]),o?null:a},$=function e(t){var n=t.knockout,a=t.layers,r=t.childKnockout,o=t.RenderLayer,l=a.map(o);return r&&l.push(f.a.createElement(e,i()({key:"childKnockout"},r,{RenderLayer:o}))),n?f.a.createElement("div",{className:"knockout-container",style:{clipPath:"url(#".concat(n.key,")")}},f.a.createElement(m,{id:n.key,knockoutPaths:[n.path]}),l):l},q=function(e){var t,n=e.layer,a=e.phase,r=e.index,i=e.children,o=_(n);if(n.hidden)return null;switch(a){case d.ENTRY:t=o.entranceAnimation;break;case d.ACTIVE:t=o.standardAnimation;break;case d.EXIT:t=o.exitAnimation;break;case d.STATIC:t=null;break;case d.HIDDEN:return null}var l=J(J({},o.position),{},{zIndex:1e3-r,animation:t});return f.a.createElement("div",{className:"layer-container","data-id":n.id,style:l},f.a.createElement("div",{className:"layer-container-inner",style:o.style},i))};t.a=function(e){var t,n=e.overlay,a=e.elements,r=e.zIndex,o=void 0===r?1e4:r,l=e.hidden,c=void 0!==l&&l,m=e.phase,h=e.ElementRenderer,y=e.executeScripts;void 0===m&&(m=function(e,t){var n=Object(s.useState)(d.HIDDEN),a=u()(n,2),r=a[0],i=a[1];return Object(s.useEffect)((function(){var n;return e?t&&t.exit?(i(d.EXIT),n=setTimeout((function(){i(d.hidden)}),t.exit)):i(d.HIDDEN):t&&t.entry?(i(d.ENTRY),n=setTimeout((function(){i(d.ACTIVE)}),t.entry)):i(d.ACTIVE),function(){return n?clearTimeout(n):null}}),[e,t]),r}(c,n.phases)),void 0===h&&(t=a,h=Object(s.useMemo)((function(){var e=t?J(J({},p.a),t):p.a;return function(t){var n=t.layer,a=t.assets,r=t.store,o=e[n.elementName];if(!o)return null;var l=f.a.createElement(o.component,i()({},n.config,{layer:n,assets:a,store:r})),c=[];if(o.manifest.preload&&c.push(o.manifest.preload(n.config)),n.effects)for(var s=0,p=Object.entries(n.effects);s<p.length;s++){var d=u()(p[s],2),m=d[0],h=d[1],y=V.b[m];y&&y.preload&&c.push(y.preload(h))}return 0==c.length?l:f.a.createElement(X,{preloads:c,config:n.config},l)}}),[t])),void 0===y&&(y=!c);var g=R();Object(s.useEffect)((function(){if(y)return g.actions.RunScript(n),function(){g.actions.ResetScript()}}),[y]);var v,b=g.state.scriptState?g.state.scriptState.overlay:n,x={layers:[]},w=x,S=W(b.layers);try{var E=function(){var e=v.value;"knockout"==e.elementName&&(w.childKnockout={knockout:g.state.knockouts.find((function(t){return t.key==e.id})),layers:[]},w=w.childKnockout),w.layers.push(e)};for(S.s();!(v=S.n()).done;)E()}catch(e){S.e(e)}finally{S.f()}return f.a.createElement("div",{className:"overlay",style:{zIndex:o}},f.a.createElement($,i()({},x,{RenderLayer:function(e,t){return f.a.createElement(q,{key:e.id,layer:e,index:t,phase:m},f.a.createElement(h,{layer:e,assets:n.assets,store:g}))}})))}},284:function(e,t,n){var a=n(285);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},285:function(e,t,n){(t=n(29)(!1)).push([e.i,'.layer-list { height: 100%; display: flex; flex-direction: column; }\r\n.layer-list > .layer-list-layers { margin: 0px 1px 5px 5px; overflow-y: auto; }\r\n.layer-list > .layer-list-layers > .layer { background: #ffffff10; }\r\n.layer-list > .layer-list-layers > .layer[isselected="true"] { background: #137cbd; }\r\n.layer-label { display: flex; justify-content: space-between; align-items: center; }\r\n.layer-label .buttons { display: flex; }\r\n.layer-label .buttons a { padding: 0; min-height: 20px; min-width: 20px; margin-left: 5px; }\r\n.layer-label .buttons a.hideable { display: none; }\r\n.layer-label:hover .buttons a.hideable { display: block; }\r\n.layer-label .buttons .bp3-editable-text:hover { cursor: default; }\r\n.layer-label .buttons .bp3-editable-text:hover::before { content: none; }\r\n.layer-label .buttons a .bp3-icon:first-child:last-child, .layer-label a .bp3-spinner + .bp3-icon:last-child { margin: 2px; }\r\n',""]),e.exports=t},287:function(e,t,n){var a=n(288);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},288:function(e,t,n){(t=n(29)(!1)).push([e.i,".zoom-selector {  }\r\n.zoom-selector select { width: 140px; }",""]),e.exports=t},289:function(e,t,n){var a=n(290);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},290:function(e,t,n){(t=n(29)(!1)).push([e.i,".resizer-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: visible; z-index: 10001; }\r\n.resizer-container .resizer-selector { position: relative; }\r\n.resizer-container .resize-handle { position: absolute; }\r\n.resizer-container .resize-handle-center { cursor: move; top: 0; left: 0; bottom: 0; right: 0; z-index: 2; }\r\n.resizer-container .resize-handle-nw { cursor: nw-resize; border-top: 1px solid Gray; border-left: 1px solid gray; top: -10px; left: -10px; width: 10px; height: 10px; }\r\n.resizer-container .resize-handle-n { cursor: ns-resize; top: -10px; left: 0; right: 0; height: 10px; }\r\n.resizer-container .resize-handle-ne { cursor: ne-resize; border-top: 1px solid Gray; border-right: 1px solid gray; top: -10px; right: -10px; width: 10px; height: 10px; }\r\n.resizer-container .resize-handle-e { cursor: ew-resize; top: 0; right: -10px; bottom: 0; width: 10px; }\r\n.resizer-container .resize-handle-se { cursor: se-resize; border-bottom: 1px solid Gray; border-right: 1px solid gray; bottom: -10px; right: -10px; width: 10px; height: 10px; }\r\n.resizer-container .resize-handle-s { cursor: ns-resize; bottom: -10px; left: 0; right: 0; height: 10px; }\r\n.resizer-container .resize-handle-sw { cursor: sw-resize; border-bottom: 1px solid Gray; border-left: 1px solid gray; bottom: -10px; left: -10px; width: 10px; height: 10px; }\r\n.resizer-container .resize-handle-w { cursor: ew-resize; top: 0; left: -10px; bottom: 0; width: 10px; }\r\n\r\n.resizer-container .resizer-subrect { position: absolute; border: 1px dashed #333; z-index: 1; }\r\n\r\n.resizer-container .resizer-selector-box { position: absolute; border: 1px dashed #ddd; z-index: 1; }",""]),e.exports=t},291:function(e,t,n){var a=n(292);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},292:function(e,t,n){(t=n(29)(!1)).push([e.i,".stage-container {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    line-height: normal;\r\n    z-index: 1;\r\n    background: #111 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIBJREFUeNq01EsKwCAMBFBNV73/YUsLJU2ggkj90MwMzE4eEoxZVdObbN2tW1rLZT1HB4QFF5wCF5wCuyks2C8tLNjHLSy4fi1weIaH4BEehns4BP7CYXCLQ+Eah8MFp8AWzdWXC4Wth7Bg6y0seGX9f8MzPASP8DDcwyGw5xFgACKHOSst2JgZAAAAAElFTkSuQmCC');\r\n}\r\n.stage-container .stage { flex: 0 0 auto; position: relative; overflow: visible;  z-index: 1; background-size: contain; background-position: center center; background-repeat: no-repeat; }\r\n.stage-container .stage > * { height: 100%; width: 100%; background: rgba(0, 0, 0, 0.5); }\r\n.stage-container .stage-view-container { position: absolute; top: 10px; right: 10px; z-index: 10002; display: flex; }",""]),e.exports=t},293:function(e,t,n){var a=n(294);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},294:function(e,t,n){(t=n(29)(!1)).push([e.i,".script-wrapper { display: flex; flex-direction: row; }\r\n.script-wrapper .editor { flex: 1 1 auto; margin: 5px; background: #ffffff10; }\r\n.script-wrapper .button-bar { margin: 0 5px; display: flex; flex-direction: row; justify-content: space-between; }\r\n.script-wrapper .button-bar button { }",""]),e.exports=t},295:function(e,t,n){var a=n(296);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},296:function(e,t,n){(t=n(29)(!1)).push([e.i,'.animations-panel { flex: 1 1 auto; padding: 0; display: flex; flex-direction: row; overflow: hidden; }\r\n.animations-panel .timeline { flex: 1 1 auto; background: #00000020; border: 1px solid #ffffff20; border-radius: 4px; overflow: hidden; display: flex; flex-direction: column; }\r\n.animations-panel .timeline .col-label { width: 20vw; display: flex; align-items: center; }\r\n.animations-panel .timeline-scrubber { display: flex; height: 1.2em; margin: 3px 0; margin-right: 10px; }\r\n.animations-panel .timeline-scrubber .scrubber-labels { flex: 1 1 auto; display: flex; position: relative; border-radius: 4px; background: linear-gradient(#ffffff00, #ffffff20); border: 1px solid #ffffff20; font-size: 0.8em; overflow: hidden; }\r\n.animations-panel .timeline-scrubber .scrubber-labels label { flex: 1 1 auto; text-align: left; border-left: 1px solid #ffffff20; padding: 0 3px; }\r\n.animations-panel .timeline-scrubber .scrubber-labels label:last-child { position: absolute; top: 0; right: 0; height: 100%; border-left: 0; border-right: 1px solid #ffffff20; text-align: right; }\r\n.animations-panel .timeline .timeline-layers { overflow-y: scroll; height: 100%; padding-bottom: 1em; }\r\n.animations-panel .timeline .animation-layer { background: #00000020; }\r\n.animations-panel .timeline .animation-layer[isselected="true"] { background: #137cbd20; }\r\n.animations-panel .timeline .animation-layer .layer-name { padding: 3px; display: flex; }\r\n.animations-panel .timeline .animation-layer .layer-name .ellipsis .bp3-button-text { overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }\r\n.animations-panel .timeline .animation-layer .animation-item { background: #00000080; display: flex; flex-direction: row; }\r\n.animations-panel .timeline .animation-layer .animation-item .animation-name { flex: 1 1 auto; padding: 3px; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-workspace { flex: 1 1 auto; background: #00000020; position: relative; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item { position: absolute; top: 0; height: 100%; background: #ffffff40; border-radius: 2px; cursor: move; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item.changing::before { content: ""; position: absolute; left: 0; top: -100vh; height: 200vh; border-left: 1px dashed #fff; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item.changing::after { content: ""; position: absolute; right: 0; top: -100vh; height: 200vh; border-right: 1px dashed #fff; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item .left-edge { z-index: 1; position: absolute; top: 0; left: 0; width: 3px; height: 100%; cursor: ew-resize; border-top-left-radius: 2px; border-bottom-left-radius: 2px;; background: #ffffff80; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item .right-edge { z-index: 1; position: absolute; top: 0; right: 0; width: 3px; height: 100%; cursor: ew-resize; border-top-right-radius: 2px; border-bottom-right-radius: 2px; background: #ffffff80; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item .center { width: 100%; height: 100%; display: flex; justify-content: center; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item .center .tooltip-handle { position: relative; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item .center .tooltip-content { width: 120px;}\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item .center .tooltip-content .item { margin-bottom: 3px; }\r\n.animations-panel .timeline .animation-layer .animation-item .timeline-item .center .tooltip-content .item .bp3-tag { width: 60px; text-align: right; margin-right: 3px; }\r\n.animations-panel .controls { width: 120px; padding: 5px; }\r\n\r\n\r\n',""]),e.exports=t},297:function(e,t,n){var a=n(298);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},298:function(e,t,n){(t=n(29)(!1)).push([e.i,".collapsible-panel { }\r\n.collapsible-panel > .panel-header { display: flex; align-items: center; background: #00000020; padding: 3px; cursor: pointer; }\r\n.collapsible-panel > .panel-header:hover { background: #ffffff10; }\r\n.collapsible-panel > .panel-header > .bp3-icon { padding: 4px; }\r\n.collapsible-panel > .panel-header > label { flex: 1 1 auto; cursor: inherit; }\r\n.collapsible-panel > .panel-header > .bp3-button { padding: 4px 10px; min-height: 20px; min-width: 20px; }",""]),e.exports=t},299:function(e,t,n){var a=n(300);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},300:function(e,t,n){(t=n(29)(!1)).push([e.i,".layer-coordinates-panel { display: flex; justify-content: flex-start; flex-wrap: wrap; padding: 5px; }\r\n.layer-coordinates-panel .input-group { flex: 0 0 50%; display: flex; align-items: center; margin-bottom: 3px; }\r\n.layer-coordinates-panel .input-group .bp3-label { flex: 0 0 45%; font-size: 0.9em; padding: 0 8px 0 0 !important; margin-bottom: 0; text-align: right; }\r\n.layer-coordinates-panel .input-group .bp3-input-group { flex: 0 0 55%; }\r\n",""]),e.exports=t},301:function(e,t,n){var a=n(302);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},302:function(e,t,n){(t=n(29)(!1)).push([e.i,".overlay-metadata-editor { padding: 5px; display: flex; flex-direction: row; border-bottom: 1px solid #ffffff40; }\r\n.overlay-metadata-editor .left { flex: 1 1 auto; }\r\n.overlay-metadata-editor .right { flex: 0 1 0; display: flex; flex-direction: column; }\r\n.overlay-metadata-editor .overlay-name { font-size: 1.4em; margin-bottom: 4px; }\r\n.overlay-metadata-editor .overlay-name\r\n.overlay-metadata-editor .overlay-author { font-size: 0.9em; }",""]),e.exports=t},38:function(e,t,n){var a=n(39);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},39:function(e,t,n){(t=n(29)(!1)).push([e.i,".knockout-wrapper { position: absolute; width: 100%; height: 100%; }\r\n.layer-container { position: absolute; /*overflow: hidden;*/ }\r\n.layer-container-inner { width: 100%; height: 100%; box-sizing: content-box; display: flex; white-space: pre; }",""]),e.exports=t},4:function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return S}));var a=n(12),r=n.n(a),i=n(18),o=n.n(i),l=n(2),c=n.n(l),u=(n(21),n(1)),s=n.n(u);function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return null==e?t:e}var y=function(e){return function(t,n){var a=e[n.type];if(!a)return t;var r=a(t,n);return r?m(m({},t),r):t}},g=function(e,t){return t>e?t:e};function v(e){var t,n={},a=f(e);try{for(a.s();!(t=a.n()).done;)for(var r=t.value,i=0,o=Object.entries(r);i<o.length;i++){var l=c()(o[i],2),u=l[0],s=l[1];switch(u){case"rotate":case"translate":n[u]||(n[u]=[0,0,0]),n[u][0]+=s[0],n[u][1]+=s[1],n[u][2]+=s[2];break;default:n[u]=s}}}catch(e){a.e(e)}finally{a.f()}var p="";return null!=n.perspective&&(p+=" perspective(".concat(n.perspective,"px)")),n.rotate&&(p+=" rotateX(".concat(n.rotate[0],"deg) rotateY(").concat(n.rotate[1],"deg) rotateZ(").concat(n.rotate[2],"deg)")),n.translate&&(p+=" translate3d(".concat(n.translate[0],"px,").concat(n.translate[1],"px,").concat(n.translate[2],"px)")),null!=n.translateZ&&(p+=" translateZ(".concat(n.translateZ,"px)")),p}function b(e){return e.map((function(e){return"".concat(e.key," ").concat(h(e.duration,500),"ms ").concat(h(e.timing,"ease")," ").concat(h(e.delay,0),"ms ").concat(h(e.iterations,1)," ").concat(h(e.direction,"normal")," ").concat(h(e.fill,"both"))})).join(",")}function x(e){return w.apply(this,arguments)}function w(){return(w=o()(r.a.mark((function e(t){var n,a,i,o,l,u,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(n=Object.entries(t)).length){e.next=3;break}return e.abrupt("return","");case 3:a=[],i=0,o=n;case 5:if(!(i<o.length)){e.next=16;break}return l=c()(o[i],2),u=l[0],s=l[1],a.push("//# sourceURL=".concat(u)),e.t0=a,e.next=11,s;case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:i++,e.next=5;break;case 16:return e.abrupt("return",a.join("\r\n"));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){var t=document.createElement("textarea");t.style.position="absolute",t.style.top="-99999px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),setTimeout((function(){document.body.removeChild(t)}),100)}},466:function(e,t,n){var a=n(467);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},467:function(e,t,n){(t=n(29)(!1)).push([e.i,"/*# sourceURL=FontStyleEditor.css*/\r\n.font-style-editor {  }\r\n.font-style-editor .button-row-2 > * { flex-basis: 16.66666666666667 !important; margin: 1px 0; }\r\n.font-style-editor .font-family { width: 50%; }\r\n.font-style-editor .font-size { width: 33.3333333%; }\r\n.font-style-editor .font-color { width: 16.6666666%; }\r\n.font-style-editor .font-color .bp3-popover-target { width: 100%; border-left: 1px solid #000; }\r\n.font-style-editor .font-color button { width: 100%; }\r\n.font-style-editor .text-wrap { flex: 0 0 50% !important; margin: 8px 1px 3px 0; }\r\n\r\n.font-style-editor .border-input { display: flex; flex-direction: row; justify-content: flex-start; align-items: stretch; height: 100%; }\r\n.font-style-editor .border-input input[type='color'] { width: 2em !important; height: 2em; margin-right: 0.1em; }\r\n.font-style-editor .border-input select { width: 10em !important; margin-right: 0.1em; }\r\n.font-style-editor .border-input input[type='text'] { width: 5em !important; margin-right: 0.1em; }",""]),e.exports=t},468:function(e,t,n){var a=n(469);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},469:function(e,t,n){(t=n(29)(!1)).push([e.i,".group { }\r\n.group-label { flex: 1 1 100%; width: 100%; justify-content: flex-start !important; }\r\n.group-inner { padding: 10px; background: rgba(0,0,0,0.25); border-bottom-left-radius:4px; border-bottom-right-radius:4px; overflow: hidden; }",""]),e.exports=t},470:function(e,t,n){var a=n(471);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},471:function(e,t,n){(t=n(29)(!1)).push([e.i,".configuration-form { margin-bottom: -10px; display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-between; }\r\n.configuration-form > .bp3-form-group { flex: 1 1 100%; }\r\n.configuration-form > .bp3-form-group .bp3-form-content {  }\r\n\r\n.configuration-form > .bp3-form-group.bp3-inline { margin: 3px 10px 4px 10px !important; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-label { flex-basis: 30%; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-form-content { flex-basis: 70%; }\r\n\r\n.configuration-form > .bp3-form-group.width-specified {  }\r\n.configuration-form > .bp3-form-group.width-specified .bp3-form-content { margin: 0 3px; }\r\n\r\n/*.formgroup-slider .bp3-form-content { margin: 3px 10px 4px 10px !important; }*/\r\n\r\n.animation-editor { display: flex; flex-direction: row; }\r\n.animation-editor > * { flex: 1 1 0; }",""]),e.exports=t},472:function(e,t,n){var a=n(473);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},473:function(e,t,n){(t=n(29)(!1)).push([e.i,".layer-config-panel { padding: 5px 0; }\r\n\r\n.layer-config-panel .effect-item { background: rgba(0,0,0,0.1);}\r\n.layer-config-panel .effect-item > .effect-name { background: rgba(0,0,0,0.2); padding: 5px; display: flex; justify-content: space-between; align-items: center; }\r\n.layer-config-panel .effect-item > .effect-name .buttons { display: flex; }\r\n.layer-config-panel .effect-item > .effect-name > .buttons > a { min-height: 20px; min-width: 20px; }\r\n.layer-config-panel .effect-item > .configuration-form { margin: 5px 5px 0 5px; }\r\n.layer-config-panel .effect-item > .configuration-form > .bp3-form-group { margin-bottom: 5px; }\r\n.layer-config-panel .btn-add-effect { background: rgba(0,0,0,0.3) !important; }\r\n\r\n.effect-panel { padding: 5px; background: rgba(0,0,0,0.3); }",""]),e.exports=t},474:function(e,t,n){var a=n(475);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},475:function(e,t,n){(t=n(29)(!1)).push([e.i,".bp3-dark .app-wrapper { background: #293742; }\r\n\r\n.app-wrapper { width: 100%; height: 100%; display: flex; flex-direction: column; overflow: hidden; user-select: none; position: relative; }\r\n.app-wrapper ::-webkit-scrollbar { width: 10px; background: rgba(0,0,0,0.5); }\r\n.app-wrapper ::-webkit-scrollbar-thumb { width: 10px; background: #137cbd; }\r\n\r\n.app-wrapper .leftpanel-wrapper {  z-index: 2; height: 100%; display: flex; flex-direction: column; }\r\n.app-wrapper .script-wrapper {  }\r\n.app-wrapper .center-wrapper { flex: 1 1 auto; display: flex; flex-direction: row; }\r\n.app-wrapper .bottom-bar { padding: 5px 0; flex: 0 0 auto; overflow: hidden; display: flex; flex-direction: column; height: 100%; }\r\n.app-wrapper .bottom-bar .center-buttons { display: flex; flex-direction: row; justify-content: center; margin: 5px 0; }\r\n.app-wrapper .bottom-bar .center-buttons > * { margin-right: 5px; }\r\n.app-wrapper .bottom-bar .center-buttons > *:last-child { margin-right: 0; }\r\n.app-wrapper .bottom-bar .bottom-tabs .bp3-tab-panel { margin-top: 5px; }\r\n.app-wrapper .stage-wrapper { flex: 1 1 auto; position: relative; }\r\n.app-wrapper .rightpanel-wrapper { z-index: 2; height: 100%; display: flex; flex-direction: column; justify-content: flex-start; }\r\n.app-wrapper .new-layer-button-container { padding: 10px 1px 10px 0; text-align: right; }\r\n.app-wrapper .layer-list-wrapper { flex: 1 1 auto; height: 100%; overflow: hidden; }\r\n.app-wrapper .active-layer-editor-wrapper { flex: 0 0 auto; }\r\n.app-wrapper .animation-panel-wrapper { flex: 0 0 auto; }\r\n.app-wrapper .app-toaster { position: absolute !important; }\r\n\r\n\r\n.app-wrapper .animations-toggle { position: relative; overflow: visible; }\r\n.app-wrapper .animations-toggle .inner { position: absolute; left: 0; bottom: 0; width: 100%; display: flex; justify-content: center; z-index:10; }\r\n\r\n\r\n/* disable focus outlines */\r\n.app-wrapper *:focus { outline: none; }",""]),e.exports=t},476:function(e,t,n){var a=n(477);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},477:function(e,t,n){(t=n(29)(!1)).push([e.i,".resize-bar {  position: relative; overflow: visible; }\r\n.resize-bar .inner { position: absolute; top: 0; left: 0; height: 100%; border:0px solid #44505A; z-index: 2; }\r\n.resize-bar.top .inner { height: 4px; cursor: ns-resize; border-bottom-width: 1px; }\r\n.resize-bar.bottom .inner { height: 4px; margin-top: -4px; cursor: ns-resize; border-top-width: 1px; }\r\n.resize-bar.left .inner { width: 4px; margin-left: -4px; cursor: ew-resize; border-right-width: 1px; }\r\n.resize-bar.right .inner { width: 4px; cursor: ew-resize; border-left-width: 1px; }",""]),e.exports=t},481:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(1),o=n.n(i),l=n(0),c=n.n(l),u=n(61),s=n(17),f=n.n(s),p=n(72),d=n.n(p),m=n(65),h=n.n(m),y=n(73),g=n.n(y),v=n(74),b=n.n(v),x=n(75),w=n.n(x);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w()(e);if(t){var r=w()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var E,O,C=function(e){g()(n,e);var t=S(n);function n(){var e;f()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),o()(h()(e),"onKeyDown",(function(e){e.stopPropagation()})),e}return d()(n,[{key:"render",value:function(){return c.a.createElement("span",{onKeyDown:this.onKeyDown},this.props.isEditing?c.a.createElement(u.EditableText,this.props):this.props.value)}}]),n}(c.a.Component),k="overlayjs/layer",A=function(e,t){return!(!e.dataTransfer.types||0==e.dataTransfer.types.length)&&e.dataTransfer.types.includes(t)},N=(n(284),n(7)),D=n.n(N),L=n(94),j=n.n(L),P=n(12),T=n.n(P),I=n(286),R=n.n(I),M=n(18),F=n.n(M),z=n(21),B=n.n(z),V=n(6),U=n.n(V),G=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9\-]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i,K=[{match:function(e){return e.match(/image/i)},getDimensions:(O=F()(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new Image;a.addEventListener("load",(function(){e({width:a.naturalWidth,height:a.naturalHeight})})),a.src=t,setTimeout(n,1e4)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)}),getLayer:function(e){return{elementName:"image",config:{url:e,fit:"cover"}}}},{match:function(e){return e.match(/video/i)},getDimensions:(E=F()(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=document.createElement("video");a.addEventListener("loadeddata",(function(){e({width:a.videoWidth,height:a.videoHeight})}));var r=document.createElement("source");r.src=t,a.appendChild(r),setTimeout(n,1e4)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)}),getLayer:function(e){return{elementName:"video",config:{url:e,fit:"cover"}}}},{match:function(e){return e.match(/audio/i)},getLayer:function(e){return{elementName:"audio",config:{url:e}}}},{match:function(e,t){return e.match(/text\/html/i)&&t&&t.match(G)},getLayer:function(e){var t=e.match(/(?:star)?t=(\d+)/i);return{elementName:"youtube",config:{url:e,start:t&&2==t.length?t[1]:null}}}},{match:function(e){return e.match(/text\/javascript/i)},getLayer:function(e){return{elementName:"script",config:{url:e}}}},{match:function(e){return e.match(/text\/html/i)},getLayer:function(e){var t=e.match(G);return t?{elementName:"youtube",config:{url:e,start:t[2]}}:{elementName:"iframe",config:{url:e}}}}],H=void 0;function _(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Y=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),a=[];return{_state:n,select:function(e){return e.map((function(e){return e(n)}))},subscribe:function(e){a.push(e)},unsubscribe:function(e){a=H._subscriptions.filter((function(t){return t!=e}))},dispatch:function e(r,i){var o=t[r];if(o){var l=o(n,i);if(l)if("function"!=typeof l){n=Object.assign(n,l);var c,u=_(a);try{for(u.s();!(c=u.n()).done;){(0,c.value)()}}catch(e){u.e(e)}finally{u.f()}}else l(e)}else console.log("Unknown reducer method:"+r)}}},J=n(8),X=n(4);function $(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=c.a.createContext();function ne(e,t){return e.filter((function(e){return t.includes(e.id)}))}function ae(e,t,n){var a="function"==typeof t?t(e.overlay):t;if(!a)return null;var r=ee(ee({},e.overlay),a),i={overlay:r};return n&&(i.undoData=fe(e.undoData,r)),i}function re(e,t,n,a){var r=ee(ee({},e.overlay),{},{layers:U()(e.overlay.layers)}),i=r.layers.findIndex((function(e){return e.id==t}));if(-1==i)return null;var o=ee({},r.layers[i]);Object.assign(o,n(o)),r.layers[i]=o;var l={overlay:r};return a&&(l.undoData=fe(e.undoData,r)),r.layers.some((function(t){return e.selectedLayerIds.includes(t.id)}))&&(l.selectedLayers=ne(r.layers,e.selectedLayerIds)),l}function ie(e,t,n,a){var r,i=ee(ee({},e.overlay),{},{layers:U()(e.overlay.layers)}),o=$(t);try{var l=function(){var e=r.value,t=i.layers.findIndex((function(t){return t.id==e}));if(-1==t)return{v:null};var a=ee({},i.layers[t]),o="function"==typeof n?n(a):n;Object.assign(a,o),i.layers[t]=a};for(o.s();!(r=o.n()).done;){var c=l();if("object"===B()(c))return c.v}}catch(e){o.e(e)}finally{o.f()}var u={overlay:i};return a&&(u.undoData=fe(e.undoData,i)),i.layers.some((function(t){return e.selectedLayerIds.includes(t.id)}))&&(u.selectedLayers=ne(i.layers,e.selectedLayerIds)),u}function oe(e){var t,n={top:1e5,left:1e5,right:0,bottom:0},a=$(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;r.top<n.top&&(n.top=r.top),r.left<n.left&&(n.left=r.left),r.top+r.height>n.bottom&&(n.bottom=r.top+r.height),r.left+r.width>n.right&&(n.right=r.left+r.width)}}catch(e){a.e(e)}finally{a.f()}return n.width=n.right-n.left,n.height=n.bottom-n.top,n}function le(e,t,n){var a=e.findIndex((function(e){return e.id==t})),r=e.splice(a,1)[0];n>a&&n--,e.splice(n,0,r)}function ce(e){return ue.apply(this,arguments)}function ue(){return(ue=F()(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith("http")){e.next=2;break}return e.abrupt("return","text/plain");case 2:if(!/\.png/.test(t)){e.next=6;break}return e.abrupt("return","image/png");case 6:if(!/\.jpe?g$/i.test(t)){e.next=10;break}return e.abrupt("return","image/jpeg");case 10:if(!/\.gif$/i.test(t)){e.next=14;break}return e.abrupt("return","image/gif");case 14:if(!/\.mp4$/i.test(t)){e.next=18;break}return e.abrupt("return","video/mp4");case 18:if(!/\.mov$/i.test(t)){e.next=22;break}return e.abrupt("return","video/mov");case 22:if(!/\.mkv$/i.test(t)){e.next=26;break}return e.abrupt("return","video/mkv");case 26:if(!/\.3gp$/i.test(t)){e.next=30;break}return e.abrupt("return","video/3gpp");case 30:if(!/\.ogv$/i.test(t)){e.next=34;break}return e.abrupt("return","video/ogv");case 34:if(!/\.mp3$/i.test(t)){e.next=38;break}return e.abrupt("return","audio/mpeg");case 38:if(!/\.wav$/i.test(t)){e.next=42;break}return e.abrupt("return","audio/wav");case 42:if(!/\.ogg$/i.test(t)){e.next=46;break}return e.abrupt("return","audio/ogg");case 46:if(!/\.js$/i.test(t)){e.next=48;break}return e.abrupt("return","text/javascript");case 48:return e.prev=48,e.next=51,fetch(t,{method:"HEAD",cache:"no-cache"});case 51:return n=e.sent,e.abrupt("return",n.headers.get("Content-Type"));case 55:return e.prev=55,e.t0=e.catch(48),e.abrupt("return","text/html");case 58:case"end":return e.stop()}}),e,null,[[48,55]])})))).apply(this,arguments)}function se(e,t){return K.find((function(n){return n.match(e,t)}))}function fe(e,t){if(e||(e={pointer:0,history:[]}),e.pointer>0){var n=e.history.length-e.pointer;e.history.splice(n,e.pointer),e.pointer=0}return e.history.length>40&&e.history.splice(0,1),e.history.push(ee({},t)),e}function pe(e,t){if(e&&0!=e.history.length){var n=e.pointer+(t?-1:1);if(!(n>e.history.length-1||n<0))return e.pointer=n,{undoData:e,entry:e.history[e.history.length-1-e.pointer]}}}var de={Reset:function(e,t){return t},SetOverlayMetadata:function(e,t){var n=t.name,a=t.author;return{overlay:ee(ee({},e.overlay),{},{name:n,author:a})}},Undo:function(e){var t=pe(e.undoData,!1);if(t)return{undoData:t.undoData,overlay:t.entry,selectedLayers:ne(t.entry.layers,e.selectedLayerIds)}},Redo:function(e){var t=pe(e.undoData,!0);if(t)return{undoData:t.undoData,overlay:t.entry,selectedLayers:ne(t.entry.layers,e.selectedLayerIds)}},SetRendererPhase:function(e,t){return{rendererPhase:t}},SetScript:function(e,t){return ae(e,{script:t})},ExecuteScript:function(e){return e.isExecutingScript?{isExecutingScript:!1}:{isExecutingScript:!0}},SetPhaseDuration:function(e,t){var n=t.phase,a=t.duration;return ae(e,(function(e){return{phases:ee(ee({},e.phases),{},o()({},n,a))}}))},CreateAsset:function(e,t){var n=t.key,a=t.data;return{overlay:ee(ee({},e.overlay),{},{assets:ee(ee({},e.overlay.assets),{},o()({},n,a))})}},CreateLayers:function(e,t){var n=e.overlay.layers.map((function(e){return e.id})).reduce(X.e,1),a=ee({},e.overlay);a.layers=U()(a.layers);var r,i=[],o=$(t);try{var l=function(){var t=r.value,o=e.elements[t.elementName];if(!o)return"continue";var l,c=ee({},t.config||{}),u=$(o.manifest.parameters);try{for(u.s();!(l=u.n()).done;){var s=l.value;c[s.name]||s.defaultValue&&(c[s.name]=s.defaultValue)}}catch(e){u.e(e)}finally{u.f()}var f={id:++n,elementName:t.elementName,label:t.label||o.manifest.name,top:t.top||0,left:t.left||0,width:t.width||o.manifest.width||0,height:t.height||o.manifest.height||0,effects:t.effects||(o.manifest.defaultEffects?ee({},o.manifest.defaultEffects):null),animations:t.animations||[],config:c},p=f.label;p.match(/\#\d+$/)&&(p=p.substr(0,p.lastIndexOf("#")-1));for(var d=2;a.layers.findIndex((function(e){return e.label==f.label}))>-1;d++)f.label=p+" #"+d;a.layers.unshift(f),i.push(f.id)};for(o.s();!(r=o.n()).done;)l()}catch(e){o.e(e)}finally{o.f()}return{overlay:a,selectedLayerIds:i,selectedLayers:a.layers.filter((function(e){return i.includes(e.id)})),undoData:fe(e.undoData,a)}},SelectLayer:function(e,t){var n,a,r=t.id,i=t.append,o=t.selectBetween;if(r)if(i||o)if(o)if(0==e.selectedLayerIds.length)n=[r];else{var l=e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]})),c=e.overlay.layers.findIndex((function(e){return e.id==r}));if(l>c){var u=c;c=l,l=u}n=[],a=[];for(var s=l;s<=c;s++){var f=e.overlay.layers[s];n.push(f.id),a.push(f)}}else(n=U()(e.selectedLayerIds)).includes(r)?n=n.filter((function(e){return e!=r})):n.push(r);else n=[r];else n=[];return a||(a=ne(e.overlay.layers,n)),{selectedLayerIds:n,selectedLayers:a}},UpdateLayer:function(e,t){var n=t.id,a=t.props;return re(e,n,(function(){return a}),t.createUndoHistory)},UpdateLayers:function(e,t){var n=t.layers,a=ae(e,(function(e){var t,a=U()(e.layers),r=$(n);try{var i=function(){var e=t.value,n=a.findIndex((function(t){return t.id==e.id}));n>-1&&(a[n]=ee(ee({},a[n]),e))};for(r.s();!(t=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}return{layers:a}}),t.createUndoHistory),r=n.map((function(e){return e.id}));return e.selectedLayerIds.some((function(e){return r.includes(e)}))&&(a.selectedLayers=ne(a.overlay.layers,e.selectedLayerIds)),a},DeleteLayers:function(e,t){var n=ae(e,(function(n){var a=n.layers.filter((function(e){return!t.includes(e.id)}));return{layers:a,assets:function(e,t,n){if(!e)return e;if(!t||t.length)return{};var a,r,i=[],o=$(t);try{for(o.s();!(a=o.n()).done;){var l=a.value,c=n[l.elementName];if(c&&c.manifest.referencedAssets){var u=c.manifest.referencedAssets(l.config);if(u){var s,f=$(u);try{for(f.s();!(s=f.n()).done;){var p=s.value;i.includes(p)||i.push(p)}}catch(e){f.e(e)}finally{f.f()}}}}}catch(e){o.e(e)}finally{o.f()}for(var d=0,m=Object.keys(e);d<m.length;d++){var h=m[d];i.includes(h)||(r||(r=ee({},e)),delete r[h])}return r||e}(n.assets,a,e.elements)}}),!0);return e.selectedLayerIds.some((function(e){return t.includes(e)}))&&(n.selectedLayerIds=e.selectedLayerIds.filter((function(e){return!t.includes(e)})),n.selectedLayers=ne(n.overlay.layers,n.selectedLayerIds)),n},MoveLayer:function(e,t){var n=t.id,a=t.newIndex;return ae(e,(function(e){var t=U()(e.layers);return le(t,n,a),{layers:t}}),!0)},UpdateSelectedLayers:function(e,t){var n=t.props,a=t.createUndoHistory;if(0!=e.selectedLayerIds.length)return ie(e,e.selectedLayerIds,n,a)},DeleteSelectedLayers:function(e){if(0!=e.selectedLayerIds.length){var t=ae(e,(function(t){return{layers:t.layers.filter((function(t){return!e.selectedLayerIds.includes(t.id)}))}}),!0);return t.selectedLayerIds=[],t.selectedLayers=[],t}},CopySelectedLayersToClipboard:function(e){Object(X.b)(JSON.stringify({objectType:"layers",data:e.selectedLayers}))},CenterSelectedLayers:function(e){if(0!=e.selectedLayers.length){var t=oe(e.selectedLayers),n=e.width/2-(t.left+t.width/2),a=e.height/2-(t.top+t.height/2);return ie(e,e.selectedLayerIds,(function(e){return{top:e.top+a,left:e.left+n}}),!0)}},FullscreenSelectedLayers:function(e){if(0!=e.selectedLayers.length){var t=oe(e.selectedLayers),n=-t.left,a=-t.top,r=e.width/t.width,i=e.height/t.height;return ie(e,e.selectedLayerIds,(function(e){return{top:(e.top+a)*i,left:(e.left+n)*r,width:e.width*r,height:e.height*i}}),!0)}},RaiseSelectedLayers:function(e,t){if(0!=e.selectedLayers.length){var n=e.selectedLayers.map((function(t){return{index:e.overlay.layers.indexOf(t),layer:t}})).sort((function(e,t){return e.index-t.index})),a=n.map((function(e){return e.index})).reduce((function(e,t){return Math.min(e,t)}),1e4);if(0!=a)return t&&(R()("topMostIndex"),a=1),ae(e,(function(e){var t=U()(e.layers);return n.forEach((function(e,r){var i=a-1+r;le(t,n[r].layer.id,i)})),{layers:t}}),!0)}},LowerSelectedLayers:function(e,t){if(0!=e.selectedLayers.length){var n=e.selectedLayers.map((function(t){return{index:e.overlay.layers.indexOf(t),layer:t}})).sort((function(e,t){return e.index-t.index})),a=n.map((function(e){return e.index})).reduce((function(e,t){return Math.max(e,t)}),0);if(a!=e.overlay.layers.length-1)return t&&(R()("bottomMostIndex"),a=e.overlay.layers.length-2),ae(e,(function(e){var t=U()(e.layers);return n.forEach((function(e,r){var i=a+2-r;le(t,n[n.length-1-r].layer.id,i)})),{layers:t}}),!0)}},ScaleSelectedLayers:function(e,t){if(0!=e.selectedLayers.length){var n=oe(e.selectedLayers);return ie(e,e.selectedLayerIds,(function(e){var a=e.top-n.top,r=e.left-n.left;return{top:e.top+a*(t-1),left:e.left+r*(t-1),width:e.width*t,height:e.height*t}}),!0)}},NudgeSelectedLayers:function(e,t){var n=t.direction,a=t.precise,r=t.toEdge;if(0!=e.selectedLayers.length){var i=a?1:5,o=oe(e.selectedLayers);return ie(e,e.selectedLayerIds,(function(t){switch(n){case"left":return{left:r?t.left-o.left:t.left-i};case"right":return{left:r?t.left+e.width-o.right:t.left+i};case"up":return{top:r?t.top-o.top:t.top-i};case"down":return{top:r?t.top+e.height-o.bottom:t.top+i}}}),!0)}},UpdateLayerConfig:function(e,t){var n=t.id,a=t.config;return re(e,n,(function(e){return{config:ee(ee({},e.config),a)}}),t.createUndoHistory)},CreateLayerEffect:function(e,t){var n=t.id,a=t.effectName,r=J.b[a];if(r){var i,l={},c=$(r.parameters);try{for(c.s();!(i=c.n()).done;){var u=i.value;null!=u.defaultValue&&(l[u.name]=u.defaultValue)}}catch(e){c.e(e)}finally{c.f()}return re(e,n,(function(e){if(!e.effects||!e.effects[a])return{effects:ee(ee({},e.effects),{},o()({},a,l))}}),!0)}},UpdateLayerEffect:function(e,t){var n=t.id,a=t.effectName,r=t.config;return re(e,n,(function(e){if(e.effects&&e.effects[a]){var t=ee(ee({},e.effects[a]),r);return{effects:ee(ee({},e.effects),{},o()({},a,t))}}}),t.createUndoHistory)},DeleteLayerEffect:function(e,t){var n=t.id,a=t.effectName;return re(e,n,(function(e){var t=ee({},e.effects);return delete t[a],{effects:t}}),!0)},SelectNextLayer:function(e,t){var n=[];if(0==e.selectedLayerIds.length)e.overlay.layers.length>0&&(n=[e.overlay.layers[0].id]);else{var a=(e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]}))+e.overlay.layers.length+(t?-1:1))%e.overlay.layers.length;n=[e.overlay.layers[a].id]}return{selectedLayerIds:n,selectedLayers:ne(e.overlay.layers,n)}},SelectAllLayers:function(e){return{selectedLayerIds:e.overlay.layers.map((function(e){return e.id})),selectedLayers:U()(e.overlay.layers)}},CreateLayerAnimation:function(e,t){var n=t.id,a=t.phase,r=t.animationName,i=t.defaults;return re(e,n,(function(e){var t=U()(e.animations),n=t.map((function(e){return e.id})).reduce(X.e,1)+1;return t.push(ee({id:n,phase:a,name:r},i)),{animations:t}}),!0)},UpdateLayerAnimation:function(e,t){var n=t.id,a=t.animationId,r=t.props;return re(e,n,(function(e){if(e.animations){var t=U()(e.animations),n=t.findIndex((function(e){return e.id==a}));if(-1!=n)return t[n]=ee(ee({},t[n]),r),{animations:t}}}),t.createUndoHistory)},DeleteLayerAnimation:function(e,t){var n=t.id,a=t.animationId;return re(e,n,(function(e){if(e.animations)return{animations:e.animations.filter((function(e){return e.id!=a}))}}),!0)},HandlePaste:function(e,t){return function(){var e=F()(T.a.mark((function e(n){var a,r,i,o,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(e){n("CreateLayers",e)},r=function(e){n("ShowToast",{id:Math.random(),icon:"error",intent:"danger",message:e,timeout:5e3})},i=$(t),e.prev=3,l=T.a.mark((function e(){var t,n,i,l,c,u,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("text/plain"==(t=o.value).type){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,new Promise((function(e){return t.getAsString(e)}));case 5:if(!(n=e.sent).startsWith("{")){e.next=12;break}try{i=JSON.parse(n)}catch(e){}if(!i){e.next=12;break}if("layers"!=i.objectType){e.next=12;break}return a(i.data),e.abrupt("return","continue");case 12:if(!n.startsWith("http")){e.next=28;break}return e.next=15,ce(n);case 15:if(l=e.sent,c=se(l,n)){e.next=20;break}return r("Unsupported file type '".concat(l,"'.")),e.abrupt("return","continue");case 20:if(u=c.getLayer(n),!c.getDimensions){e.next=27;break}return e.next=24,c.getDimensions(n);case 24:s=e.sent,u.width=s.width,u.height=s.height;case 27:a([u]);case 28:return r("Unsupported paste data format."),e.abrupt("return","continue");case 30:case"end":return e.stop()}}),e)})),i.s();case 6:if((o=i.n()).done){e.next=13;break}return e.delegateYield(l(),"t0",8);case 8:if("continue"!==e.t0){e.next=11;break}return e.abrupt("continue",11);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(3),i.e(e.t1);case 18:return e.prev=18,i.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},HandleFileUpload:function(e,t){var n=t.files,a=t.onComplete;return function(t){var r=function(e,n){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:n/e.size,timeout:0})},i=function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:1,timeout:500})},o=function(e,n){console.log({file:e,error:n}),t("ShowToast",{id:e.name,icon:"error",intent:"danger",message:n.toString(),timeout:5e3})},l=e.onUpload;l||(l=function(n,a){return function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}(n).then((function(a){var r="asset:"+n.name;if(e.overlay.assets)for(var i=1;null!=e.overlay.assets[r];i++)r="asset:"+n.name+"-"+i++;return t("CreateAsset",{key:r,data:a}),{url:r,dataUri:a}}))});var c,u=$(n);try{var s=function(){var e=c.value,n=se(e.type,null);if(!n)return o(e,"".concat(e.name,": Unsupported file type '").concat(e.type,"'.")),"continue";!function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:0,timeout:0,onCancel:function(){e.cancel&&e.cancel()}})}(e),l(e,r).then(function(){var r=F()(T.a.mark((function r(l){var c,u,s,f;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l){r.next=3;break}return o(e,"Upload result was null."),r.abrupt("return");case 3:if(i(e),!a){r.next=7;break}return a(l.url),r.abrupt("return");case 7:if("string"==typeof l?(c=l,u=null):(c=l.url,u=l.dataUri),(s=n.getLayer(c)).name=e.name,!n.getDimensions){r.next=16;break}return r.next=13,n.getDimensions(u||c);case 13:f=r.sent,s.width=f.width,s.height=f.height;case 16:t("CreateLayers",[s]);case 17:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(t){o(e,t)}))};for(u.s();!(c=u.n()).done;)s()}catch(e){u.e(e)}finally{u.f()}}},ShowToast:function(e,t){var n=U()(e.toasts);if(t.id){var a=n.findIndex((function(e){return e.id==t.id}));if(a>-1)return n[a]=ee(ee({},n[a]),t),{toasts:n}}return n.push(t),{toasts:n}},DismissToast:function(e,t){var n=U()(e.toasts),a=n.indexOf(t);if(-1!=a)return n[a].onCancel&&n[a].onCancel(),n.splice(a,1),{toasts:n}}},me=function(e){var t=e.initialState,n=j()(e,["initialState"]),a=Object(l.useRef)(),r=Object(l.useMemo)((function(){return a.current?a.current.dispatch("Reset",t):a.current=Y(t,de),a.current}),[t]);return c.a.createElement(te.Provider,D()({value:r},n))},he=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Object(l.useContext)(te),i=Object(l.useState)((function(){return a.select(t)})),o=r()(i,2),c=o[0],u=o[1];return Object(l.useEffect)((function(){function e(){var e=a.select(t);u((function(t){for(var n=0;n<t.length;n++)if(t[n]!=e[n])return e;return t}))}a.subscribe(e)}),[]),[c,a.dispatch]},ye=function(e){var t=e.layer,n=e.index,a=e.isSelected,i=e.isDragging,o=e.onDragStart,s=e.dispatch,f=Object(l.useState)(!1),p=r()(f,2),d=p[0],m=p[1],h=Object(l.useState)(t.label),y=r()(h,2),g=y[0],v=y[1],b=Object(l.useCallback)((function(e){s("UpdateLayer",{id:t.id,props:{label:e},createUndoHistory:!0})}),[t.id]),x=Object(l.useCallback)((function(){s("UpdateLayer",{id:t.id,props:{hidden:!t.hidden},createUndoHistory:!0})}),[t.id,t.hidden]),w=Object(l.useCallback)((function(e){s("SelectLayer",{id:t.id,append:e.ctrlKey||e.metaKey,selectBetween:e.shiftKey})}),[t.id]),S=Object(l.useCallback)((function(e){o?o(e,t.id):e.preventDefault()}),[o,t.id]);return c.a.createElement("div",{className:"layer",dragging:i,isselected:a?"true":null,"data-index":n},c.a.createElement(u.ButtonGroup,{fill:!0,minimal:!0},c.a.createElement(u.Button,{icon:"eye-open",intent:t.hidden?"danger":"success",title:"Toggle Visibility",onClick:x}),c.a.createElement(u.Button,{alignText:"left",fill:!0,draggable:!0,style:t.hidden?{opacity:.5}:null,onClick:w,onDragStart:S},c.a.createElement("span",{className:"layer-label"},c.a.createElement(C,{selectAllOnFocus:!0,value:g,onChange:v,isEditing:d,onConfirm:function(){b(g),m(!1)},onCancel:function(){b(t.label),m(!1)}}))),c.a.createElement(u.Button,{icon:"edit",title:"Edit Label",onClick:function(){m(!d)}}),c.a.createElement(u.Button,{icon:"trash",title:"Delete",onClick:function(){return s("DeleteLayers",[t.id])}})))},ge=function(e){var t=he((function(e){return e.elements}),(function(e){return e.onUpload}),(function(e){return e.overlay.layers}),(function(e){return e.selectedLayers})),n=r()(t,2),a=r()(n[0],4),i=a[0],o=a[1],u=a[2],s=a[3],f=n[1],p=Object(l.useState)(null),d=r()(p,2),m=d[0],h=d[1],y=Object(l.useState)(null),g=r()(y,2),v=g[0],b=g[1],x=Object(l.useCallback)((function(e){window.removeEventListener("dragend",x),h(null),b(null)}),[]),w=Object(l.useCallback)((function(e,t){if("INPUT"!=e.target.name){window.addEventListener("dragend",x),e.dataTransfer.setData(k,t);var n=u.findIndex((function(e){return e.id==t}));h(n),b(t)}else e.preventDefault()}),[u]),S=Object(l.useCallback)((function(e){if(A(e,k))if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",e.target.matches(".layer-list"))m!=u.length&&h(u.length);else{var t=e.target.closest(".layer");if(t){if("true"==t.getAttribute("dragging"))return;var n=parseInt(t.getAttribute("data-index")),a=t.getBoundingClientRect(),r=e.nativeEvent.clientY>a.top+a.height/2?n+1:n;m!=r&&h(r)}}}),[m]),E=Object(l.useCallback)((function(e){if(e.preventDefault(),e.stopPropagation(),A(e,k)){var t=parseInt(e.dataTransfer.getData(k));f("MoveLayer",{id:t,newIndex:m}),h(null),b(null)}}),[m]),O=null;if(null!=v){var C=u.find((function(e){return e.id==v}));O=c.a.createElement(ye,{key:v,index:m,layer:C,isSelected:!1,isDragging:"true",dispatch:f})}var N=[];return u.forEach((function(e,t){if(!i[e.elementName])return null;t==m&&N.push(O),e.id!=v&&N.push(c.a.createElement(ye,{key:e.id,index:t,layer:e,isSelected:s.includes(e),isDragging:"false",onDragStart:w,onDragEnd:x,onUpload:o,dispatch:f}))})),m==u.length&&N.push(O),c.a.createElement("div",{className:"layer-list",onDragOver:S,onDrop:E},c.a.createElement("div",{className:"layer-list-layers"},N))};n(287);function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w()(e);if(t){var r=w()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var be=function(e){g()(n,e);var t=ve(n);function n(e){var a;return f()(this,n),a=t.call(this,e),o()(h()(a),"onZoomDropDownChanged",(function(e){if(a.props.onZoomChanged){var t=e.target.value;a.props.onZoomChanged(t)}})),a}return d()(n,[{key:"render",value:function(){var e=this,t=n.ZOOM_OPTIONS.map((function(t){return t.isAutoFit?{label:"Fit (".concat(Math.round(100*e.props.autoFitZoom),"%)"),value:n.ZOOM_AUTOFIT_VALUE}:{label:Math.round(100*t.value)+"%",value:t.value}}));return!(this.props.zoom==this.props.autoFitZoom||n.ZOOM_OPTIONS.findIndex((function(t){return t.value==e.props.zoom}))>-1)&&t.unshift({label:"Custom (".concat(Math.round(100*this.props.zoom),"%)"),value:this.props.zoom}),c.a.createElement("div",{className:"zoom-selector"},c.a.createElement(u.HTMLSelect,{onChange:this.onZoomDropDownChanged,options:t,value:this.props.zoom}))}}]),n}(c.a.Component);o()(be,"ZOOM_AUTOFIT_VALUE",-9999),o()(be,"ZOOM_OPTIONS",[{text:"Fit",value:be.ZOOM_AUTOFIT_VALUE,isAutoFit:!0},{text:"100%",value:1},{text:"67%",value:.666666667},{text:"50%",value:.5},{text:"25%",value:.25}]);n(289);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ee={top:!0,left:!0,bottom:!0,right:!0},Oe={top:!1,left:!1,bottom:!1,right:!1},Ce=function(e,t,n){var a=n.top,r=n.left;return a-=e.top,r-=e.left,a-=e.height/2,r-=e.width/2,a/=t.zoom,r/=t.zoom,a-=t.panning.y,r-=t.panning.x,{top:a+=t.height/2,left:r+=t.width/2,height:n.height?n.height/t.zoom:0,width:n.width?n.width/t.zoom:0}},ke=function(e,t,n){var a=n.top,r=n.left;return a-=t.height/2,r-=t.width/2,a+=t.panning.y,r+=t.panning.x,a*=t.zoom,r*=t.zoom,{top:a+=e.height/2,left:r+=e.width/2,height:n.height?n.height*t.zoom:0,width:n.width?n.width*t.zoom:0,transform:n.rotation?"rotate(".concat(n.rotation,"deg)"):null}},Ae=function(e){var t=e.hidden,n=e.stageTransform,a=(e.handleSize,e.selectedRects),i=e.onSelectedRectsChanged,u=e.onSelectAtCoords,s=Object(l.useRef)(),f=Object(l.useState)(),p=r()(f,2),d=p[0],m=p[1],h=Object(l.useState)(),y=r()(h,2),g=y[0],v=y[1],b=Object(l.useMemo)((function(){if(!a||0==a.length)return null;var e,t={},n=we(a);try{for(n.s();!(e=n.n()).done;){var r=e.value;(null==t.top||t.top>r.top)&&(t.top=r.top),(null==t.left||t.left>r.left)&&(t.left=r.left),(null==t.right||t.right<r.right)&&(t.right=r.right),(null==t.bottom||t.bottom<r.bottom)&&(t.bottom=r.bottom),(null==t.preserveAspect||!r.preserveAspect&&t.preserveAspect)&&(t.preserveAspect=r.preserveAspect||!1)}}catch(e){n.e(e)}finally{n.f()}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}),[a]),x=Object(l.useCallback)((function(e,t){var n=e.width/b.width,r=e.height/b.height,o=a.map((function(t){return{id:t.id,top:e.top+(t.top-b.top)*r,left:e.left+(t.left-b.left)*n,width:t.width*n,height:t.height*r,rotation:t.rotation}}));i(o,t)}),[a,b,i]),w=Object(l.useCallback)((function(e){if(1==e.buttons){var t,a,r=s.current.getBoundingClientRect(),i=e.target.getAttribute("data-edge"),l=Ce(r,n,{top:e.clientY,left:e.clientX});s.current.style.cursor=e.target.getAttribute("data-cursor"),t=i?"center"==i?Ee:{top:"nw"==i||"n"==i||"ne"==i,left:"nw"==i||"w"==i||"sw"==i,right:"ne"==i||"e"==i||"se"==i,bottom:"sw"==i||"s"==i||"se"==i}:Oe;var c=a=i?{top:b.top,left:b.left,height:b.height,width:b.width}:{top:l.top,left:l.left,height:0,width:0},f=function(e){var i=Ce(r,n,{top:e.clientY,left:e.clientX}),u=i.left-l.left,s=i.top-l.top,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a);if(t==Oe)s<0&&(f.top=l.top+s,s*=-1),u<0&&(f.left=l.left+u,u*=-1),f.height=s,f.width=u;else if(t==Ee)e.ctrlKey?Math.abs(u/s)>1?f.left+=u:f.top+=s:(f.left+=u,f.top+=s);else{var p,d=-f.height/f.width,h=e.ctrlKey?!b.preserveAspect:b.preserveAspect;if((t.top||t.bottom)&&(t.left||t.right)&&h)p=t.bottom?t.left?(-f.height-s)/(f.width-u):(-f.height-s)/(-f.width-u):t.left?(f.height-s)/(f.width-u):(f.height-s)/(-f.width-u),t.top&&t.left||t.bottom&&t.right?p<-d?s=u*-d:u=s/-d:p>d?s=u*d:u=s/d;t.top&&(f.height-s<0?(f.top=f.top+f.height-1,f.height=1):(f.top+=s,f.height=f.height-s)),t.bottom&&(f.height=Math.max(1,f.height+s)),t.left&&(f.width-u<0?(f.left=f.left+f.width,f.width=1):(f.left+=u,f.width=f.width-u)),t.right&&(f.width=Math.max(1,f.width+u))}c=f,t!=Oe?(x(f,!1),v(f)):m(f)};window.addEventListener("mousemove",f),window.addEventListener("mouseup",(function e(n){s.current.style.cursor="",window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",e),c==a?u(l.left,l.top,l.left,l.top,n.ctrlKey):t==Oe?(u(c.left,c.top,c.left+c.width,c.top+c.height,n.ctrlKey),m(null)):(x(c,!0),v(null))}))}}),[n,a,b,x]),S=[];if(s.current&&!t){var E=s.current.getBoundingClientRect();d&&S.push(c.a.createElement("div",{className:"resizer-selector-box",style:ke(E,n,d),key:"-2"}));var O=g||b;if(O&&S.push(c.a.createElement("div",{className:"resizer-selector",style:ke(E,n,O),key:"-1"},c.a.createElement("div",{className:"resize-handle resize-handle-nw","data-edge":"nw"}),c.a.createElement("div",{className:"resize-handle resize-handle-n","data-edge":"n"}),c.a.createElement("div",{className:"resize-handle resize-handle-ne","data-edge":"ne"}),c.a.createElement("div",{className:"resize-handle resize-handle-e","data-edge":"e"}),c.a.createElement("div",{className:"resize-handle resize-handle-se","data-edge":"se"}),c.a.createElement("div",{className:"resize-handle resize-handle-s","data-edge":"s"}),c.a.createElement("div",{className:"resize-handle resize-handle-sw","data-edge":"sw"}),c.a.createElement("div",{className:"resize-handle resize-handle-w","data-edge":"w"}),c.a.createElement("div",{className:"resize-handle resize-handle-center","data-edge":"center"}))),!g&&a&&a.length>0){var C,k=we(a);try{for(k.s();!(C=k.n()).done;){var A=C.value;S.push(c.a.createElement("div",{className:"resizer-subrect",style:ke(E,n,A),key:A.id}))}}catch(e){k.e(e)}finally{k.f()}}}return c.a.createElement("div",{className:"resizer-container",onMouseDown:w,ref:s},S)},Ne=(n(291),n(23));function De(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te={zoom:be.ZOOM_AUTOFIT_VALUE,autoFitZoom:1,panning:{x:0,y:0},bodyDrag:null};function Ie(e,t){switch(t.type){case"START_BODY_DRAG":return Pe(Pe({},e),{},{bodyDrag:{x:t.x,y:t.y,basePanning:Pe({},e.panning)}});case"UPDATE_BODY_DRAG":var n=e.zoom==be.ZOOM_AUTOFIT_VALUE?e.autoFitZoom:e.zoom;return Pe(Pe({},e),{},{panning:{x:e.bodyDrag.basePanning.x+(t.x-e.bodyDrag.x)/n,y:e.bodyDrag.basePanning.y+(t.y-e.bodyDrag.y)/n}});case"END_BODY_DRAG":return Pe(Pe({},e),{},{bodyDrag:null});case"STEP_ZOOM":var a=e.zoom==be.ZOOM_AUTOFIT_VALUE?e.autoFitZoom:e.zoom,r=t.steps<0?a/(1+.1*-t.steps):a*(1+.1*t.steps);return Pe(Pe({},e),{},{zoom:r});case"SET_ZOOM":return Pe(Pe({},e),{},{zoom:t.zoom});case"SET_AUTOFIT_ZOOM":return Pe(Pe({},e),{},{autoFitZoom:t.autoFitZoom});case"RESET_ZOOM":return Pe(Pe({},e),{},{zoom:be.ZOOM_AUTOFIT_VALUE,panning:Pe({},Te.panning)});default:return e}}var Re=function(e){e.props;var t=he((function(e){return e.width}),(function(e){return e.height}),(function(e){return e.elements}),(function(e){return e.overlay}),(function(e){return e.selectedLayers}),(function(e){return e.rendererPhase}),(function(e){return e.isExecutingScript})),n=r()(t,2),a=r()(n[0],7),i=a[0],o=a[1],u=a[2],s=a[3],f=a[4],p=a[5],d=a[6],m=n[1],h=Object(l.useRef)(),y=Object(l.useReducer)(Ie,Te),g=r()(y,2),v=g[0],b=g[1],x=v.zoom==be.ZOOM_AUTOFIT_VALUE?v.autoFitZoom:v.zoom,w=v.panning;Object(l.useEffect)((function(){var e=function(){if(h.current){var e=h.current.getBoundingClientRect();if(0!=e.height&&0!=e.width){var t,n=o/i;t=e.height/e.width<n?e.height/o:e.width/i,b({type:"SET_AUTOFIT_ZOOM",autoFitZoom:t})}}},t=function(e){"0"==e.key&&e.ctrlKey&&b({type:"RESET_ZOOM"})},n=function(t){e()};return h.current.addEventListener("dragover",(function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"})),h.current.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation(),m("HandleFileUpload",{files:e.dataTransfer.files})})),h.current.addEventListener("mousedown",(function(e){if(2==(2&e.buttons)){var t=function(e){b({type:"UPDATE_BODY_DRAG",x:e.clientX,y:e.clientY})};document.body.addEventListener("mousemove",t),document.body.addEventListener("mouseup",(function e(n){b({type:"END_BODY_DRAG"}),document.body.removeEventListener("mousemove",t),document.body.removeEventListener("mouseup",e)})),b({type:"START_BODY_DRAG",x:e.clientX,y:e.clientY})}})),h.current.addEventListener("contextmenu",(function(e){return e.preventDefault()})),document.addEventListener("keydown",t),window.addEventListener("resize",n),e(),function(){document.removeEventListener("keydown",t),window.removeEventListener("resize",n)}}),[]);var S,E=[],O=De(f);try{for(O.s();!(S=O.n()).done;){var C=S.value,k=u[C.elementName];k.manifest.nonVisual||E.push({id:C.id,top:C.top,left:C.left,height:C.height,width:C.width,right:C.left+C.width,bottom:C.top+C.height,rotation:C.rotation,preserveAspect:k.manifest.preserveAspect})}}catch(e){O.e(e)}finally{O.f()}var A=Object(l.useMemo)((function(){return{height:o,width:i,zoom:x,panning:w,style:{width:i+"px",height:o+"px",transform:"scale(".concat(x,") translate(").concat(v.panning.x,"px, ").concat(v.panning.y,"px)")}}}),[i,o,x,w]);return c.a.createElement("div",{className:"stage-container",onWheel:function(e){b({type:"STEP_ZOOM",steps:-e.deltaY/100})},ref:h},c.a.createElement("div",{className:"stage-view-container"},c.a.createElement(be,{zoom:v.zoom,autoFitZoom:v.autoFitZoom,onZoomChanged:function(e){b({type:"SET_ZOOM",zoom:e})}})),c.a.createElement("div",{className:"stage",style:A.style},c.a.createElement(Ne.a,{overlay:s,disableBuiltinElements:!0,elements:u,phase:p,executeScripts:d})),c.a.createElement(Ae,{hidden:d||"static"!=p,stageTransform:A,handleSize:10,selectedRects:E,preserveAspect:!0,onSelectedRectsChanged:function(e,t){m("UpdateLayers",{layers:e,createUndoHistory:t})},onSetCursor:function(e){h.current.style.cursor=e},onSelectAtCoords:function(e,t,n,a,r){if(n==e||a==t){var i=s.layers.filter((function(n){var a=u[n.elementName];return a&&!a.manifest.nonVisual&&t>n.top&&e>n.left&&t<n.top+n.height&&e<n.left+n.width}));if(0==i.length)return void m("SelectLayer",{id:null,append:!1});if(0==f.length)return void m("SelectLayer",{id:i[0].id,append:r});if(1==i.length||r)return void m("SelectLayer",{id:i[0].id,append:r});var o=f.some((function(e){return i.findIndex((function(t){return t.id==e.id}))>-1}));if(-1==o)return void m("SelectLayer",{id:i[0].id,append:r});o=(o+1)%i.length,m("SelectLayer",{id:i[o].id,append:r})}else{var l=s.layers.filter((function(r){var i=u[r.elementName];return i&&!i.manifest.nonVisual&&t<r.top&&e<r.left&&a>r.top+r.height&&n>r.left+r.width}));r||m("SelectLayer",{id:null,append:!1});var c,p=De(l);try{for(p.s();!(c=p.n()).done;){var d=c.value;m("SelectLayer",{id:d.id,append:!0})}}catch(e){p.e(e)}finally{p.f()}}}}))},Me=n(90),Fe=function(e){e.props;var t=he((function(e){return e.toasts})),n=r()(t,2),a=r()(n[0],1)[0],i=n[1];return c.a.createElement(u.Toaster,{position:Me.a.BOTTOM,usePortal:!1,className:"app-toaster"},a.map((function(e){var t;return t=null!=e.progress?c.a.createElement(c.a.Fragment,null,c.a.createElement(u.ProgressBar,{intent:e.progress<1?"primary":"success",stripes:e.progress<1,value:e.progress}),c.a.createElement("div",null,e.message)):e.message,c.a.createElement(u.Toast,D()({key:e.id},e,{message:t,onDismiss:function(){return i("DismissToast",e)}}))})))},ze=c.a.memo((function(e){var t=he((function(e){return e.elements})),n=r()(t,2),a=r()(n[0],1)[0],i=n[1],o=Object(l.useState)(!1),s=r()(o,2),f=s[0],p=s[1],d=[],m=[];if(f)for(var h=function(){var e=r()(g[y],2),t=e[0],n=e[1];if(n.manifest.hideInMenu)return"continue";var a=c.a.createElement(u.MenuItem,{key:t,icon:n.manifest.icon,text:c.a.createElement("div",null,n.manifest.name,c.a.createElement("div",{style:{fontSize:"0.8em"}},n.manifest.description)),onClick:function(){i("CreateLayers",[{elementName:t}])}});n.manifest.primative?d.push(a):m.push(a)},y=0,g=Object.entries(a);y<g.length;y++)h();return c.a.createElement(u.Popover,{position:"right-bottom",interactionKind:"click",boundary:"window",isOpen:f,onInteraction:p,autoFocus:!1},e.children,c.a.createElement(u.Menu,null,d,c.a.createElement(u.MenuDivider,null),m))})),Be=(n(293),function(e){e.scriptingContext;var t=he((function(e){return e.overlay.script})),n=r()(t,2),a=r()(n[0],1)[0],i=n[1];return c.a.createElement("div",{className:"script-wrapper"},c.a.createElement(u.TextArea,{value:a,className:"editor",onChange:function(e){return i("SetScript",e.target.value)}}))}),Ve=n(22),Ue=(n(295),Object(l.createContext)(null));function Ge(e,t){var n=parseInt(e/t)*t;return e-n>t/2?n+t:n}var Ke=function(e){var t=e.delay,n=e.duration,a=e.minimumDuration,i=e.snapSize,o=e.onAnimationChanged,u=e.phaseContext,s=Object(l.useRef)(),f=Object(l.useState)(null),p=r()(f,2),d=p[0],m=p[1],h=Object(l.useState)(null),y=r()(h,2),g=y[0],v=y[1];Object(l.useEffect)((function(){m(null)}),[t,u.duration]),Object(l.useEffect)((function(){v(null)}),[n,u.duration]),Object(l.useEffect)((function(){var e=function(e){var r=e.target.getAttribute("resize"),l=(s.current.getBoundingClientRect(),s.current.closest(".timeline-workspace").getBoundingClientRect());s.current.classList.add("changing");var c=e.clientX,f=u.duration/l.width,p=t,d=n,h=function(e){var o=e.clientX-c;r?"left"==r?(p=t+o*f,(d=n-o*f)<a?(d=a,p=t+n-a):p<0&&(d=t+n,p=0),d=Ge(d,i),p=Ge(p,i),v(d),m(p)):"right"==r&&((d=n+o*f)<a?d=a:d>u.duration-t&&(d=u.duration-t),d=Ge(d,i),v(d)):((p=t+o*f)<0?p=0:p>u.duration-n&&(p=u.duration-n),p=Ge(p,i),m(p))};window.addEventListener("mousemove",h),window.addEventListener("mouseup",(function e(a){window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",h);var r={};s.current.classList.remove("changing"),null!=p&&t!=p&&(r.delay=p),null!=d&&n!=d&&(r.duration=d),o(r,!0)}))};return s.current.addEventListener("mousedown",e),function(){return s.current.removeEventListener("mousedown",e)}}),[t,n,u]);var b=100*(null==d?t:d)/u.duration+"%",x=100*(null==g?n:g)/u.duration+"%";return c.a.createElement("div",{className:"timeline-item",ref:s,style:{left:b,width:x}},c.a.createElement("div",{className:"left-edge",resize:"left"}),c.a.createElement("div",{className:"right-edge",resize:"right"}))},He=function(e){var t=e.layer,n=e.animation,a=e.phaseContext,i=n.delay||0,o=n.duration||0,s=Ve.animations[n.name]||{displayName:"Unknown Animation"},f=Object(l.useState)(!1),p=r()(f,2),d=p[0],m=p[1],h=Object(l.useCallback)((function(e,r){a.dispatch("UpdateLayerAnimation",{id:t.id,animationId:n.id,props:e,createUndoHistory:r})}),[t.id,n.id]),y=Object(l.useCallback)((function(){a.dispatch("DeleteLayerAnimation",{id:t.id,animationId:n.id})}),[t.id,n.id]),g=c.a.createElement(u.Button,{icon:"cog",minimal:!0,onClick:function(){return m(!0)}});if(d){g=c.a.createElement(u.Popover,{isOpen:!0,onInteraction:function(e){e||m(!1)}},g,c.a.createElement("div",null,"configure timing function, fill mode, easing, and (iterations)?"))}return c.a.createElement("div",{className:"animation-item"},c.a.createElement("div",{className:"col-label"},c.a.createElement(u.Button,{icon:"trash",minimal:!0,onClick:y}),c.a.createElement("div",{className:"animation-name"},s.displayName),g),c.a.createElement("div",{className:"timeline-workspace"},c.a.createElement(Ke,{delay:i,duration:o,minimumDuration:10,snapSize:1,onAnimationChanged:h,phaseContext:a})))},_e=function(e){var t=e.layer,n=e.selected,a=e.phaseContext,i=t.animations?t.animations.filter((function(e){return e.phase==a.name})):[],o=Object(l.useState)(!1),s=r()(o,2),f=s[0],p=s[1],d=Object(l.useCallback)((function(){p(!0)}),[]),m=c.a.createElement(u.Button,{icon:"plus",minimal:!0,onClick:d});if(f){m=c.a.createElement(u.Popover,{isOpen:!0,position:"right",onInteraction:function(e){e||p(!1)}},m,c.a.createElement(u.Menu,null,Ve[a.name].map((function(e){return c.a.createElement(u.MenuItem,{key:e,text:Ve.animations[e].displayName,onClick:function(){return a.dispatch("CreateLayerAnimation",{id:t.id,phase:a.name,animationName:e,defaults:{delay:0,duration:500}})}})}))))}return c.a.createElement("div",{className:"animation-layer",isselected:n?"true":void 0},c.a.createElement("div",{className:"col-label layer-name"},c.a.createElement(u.Button,{className:"ellipsis",icon:"caret-right",minimal:!0,alignText:"left",fill:!0,text:t.label,title:t.label}),m),i.map((function(e,n){return c.a.createElement(He,{key:n,layer:t,animation:e,phaseContext:a})})))},We=function(e){var t,n=e.phaseContext;if("active"!=n.name){t=c.a.createElement(u.FormGroup,{label:"Phase Duration"},c.a.createElement(u.InputGroup,{key:n.name,defaultValue:n.duration||500,onKeyDown:function(e){"Enter"==e.key&&(e.preventDefault(),e.target.blur())},onBlur:function(e){var t=parseInt(e.target.value);isNaN(t)?e.target.value=phaseDuration:(t.toString()!=e.target.value&&(e.target.value=t),n.dispatch("SetPhaseDuration",{phase:n.name,duration:t}))},rightElement:c.a.createElement(u.Tag,{minimal:!0},"ms")}))}return c.a.createElement("div",{className:"controls"},t)},Ze=function(e){for(var t=e.phaseContext.duration/1e3/5,n=[],a=0;a<=5;a++)n.push(c.a.createElement("label",{key:a},(a*t).toFixed(1),"s"));return c.a.createElement("div",{className:"timeline-scrubber"},c.a.createElement("div",{className:"col-label"}),c.a.createElement("div",{className:"scrubber-labels"},n))},Ye=function(e){var t=e.phase,n=e.duration,a=e.layers,r=e.selectedLayers,i=e.elements,o={name:t,duration:n,dispatch:e.dispatch};return c.a.createElement("div",{className:"animations-panel"},c.a.createElement(Ue.Provider,{value:o},c.a.createElement("div",{className:"timeline"},c.a.createElement(Ze,{phaseContext:o}),c.a.createElement("div",{className:"timeline-layers"},a.map((function(e){var t=i[e.elementName];if(t&&0!=t.manifest.animatable){var n=r.includes(e);return c.a.createElement(_e,{key:e.id,layer:e,selected:n,phaseContext:o})}})))),c.a.createElement(We,{phaseContext:o})))},Je=(n(297),function(e){var t=e.label,n=e.rightElement,a=e.children,i=Object(l.useState)(!0),o=r()(i,2),s=o[0],f=o[1];return c.a.createElement("div",{className:"collapsible-panel"},c.a.createElement("div",{className:"panel-header",onClick:function(){return f(!s)}},c.a.createElement(u.Icon,{icon:s?"caret-down":"caret-right",iconSize:"16"}),c.a.createElement("label",null,t),n),c.a.createElement(u.Collapse,{isOpen:s},a))}),Xe=(n(299),/^\-?\d+\.?\d*$/);function $e(e){var t=e.paramName,n=e.onParamChanged,a=e.regex,i=j()(e,["paramName","onParamChanged","regex"]),o=Object(l.useState)(i.value),s=r()(o,2),f=s[0],p=s[1],d=Object(l.useState)(i.value),m=r()(d,2),h=m[0],y=m[1];Object(l.useEffect)((function(){p(i.value)}),[i.value]);return c.a.createElement(u.InputGroup,D()({},i,{value:void 0===f?"":f,onChange:function(e){p(e.target.value)},onFocus:function(e){i.readOnly||y(e.target.value)},onBlur:function(e){if(!i.readOnly){var r=e.target.value;r.match(a)||(r=h);var o=r!=h;n(t,parseFloat(r),o)}}}))}var qe=function(e){var t,n,a,i,s,f,p=he((function(e){return e.selectedLayers})),d=r()(p,2),m=r()(d[0],1)[0],h=d[1];if(0==m.length)t=!0,n="",a="",i="",s="",f="";else if(1==m.length){var y=m[0];t=!1,n=y.left,a=y.top,i=y.width,s=y.height,f=y.rotation}else{var g=m[0];t=!1;for(var v=1;v<m.length;v++)""!=n&&m[v].left!=g.left&&(n=""),""!=a&&m[v].top!=g.top&&(a=""),""!=i&&m[v].width!=g.width&&(i=""),""!=s&&m[v].height!=g.height&&(s=""),""!=f&&m[v].rotation!=g.rotation&&(f="");void 0===n&&(n=g.left),void 0===a&&(a=g.top),void 0===i&&(i=g.width),void 0===s&&(s=g.height),void 0===f&&(f=g.rotation)}var b=Object(l.useCallback)((function(){return function(e,t,n){h("UpdateSelectedLayers",{props:o()({},e,t),createUndoHistory:n})}}),[]);return c.a.createElement(Je,{label:"Size & Position"},c.a.createElement("div",{className:"layer-coordinates-panel"},c.a.createElement("div",{className:"input-group"},c.a.createElement("label",{className:"bp3-label"},"Left"),c.a.createElement($e,{value:n,onParamChanged:b,regex:Xe,paramName:"left",readOnly:t,rightElement:c.a.createElement(u.Tag,{minimal:!0},"px")})),c.a.createElement("div",{className:"input-group"},c.a.createElement("label",{className:"bp3-label"},"Top"),c.a.createElement($e,{value:a,onParamChanged:b,regex:Xe,paramName:"top",readOnly:t,rightElement:c.a.createElement(u.Tag,{minimal:!0},"px")})),c.a.createElement("div",{className:"input-group"},c.a.createElement("label",{className:"bp3-label"},"Width"),c.a.createElement($e,{value:i,onParamChanged:b,regex:Xe,paramName:"width",readOnly:t,rightElement:c.a.createElement(u.Tag,{minimal:!0},"px")})),c.a.createElement("div",{className:"input-group"},c.a.createElement("label",{className:"bp3-label"},"Height"),c.a.createElement($e,{value:s,onParamChanged:b,regex:Xe,paramName:"height",readOnly:t,rightElement:c.a.createElement(u.Tag,{minimal:!0},"px")})),c.a.createElement("div",{className:"input-group"},c.a.createElement("label",{className:"bp3-label"},"Rotation"),c.a.createElement($e,{value:f,onParamChanged:b,regex:Xe,paramName:"rotation",readOnly:t,rightElement:c.a.createElement(u.Tag,{minimal:!0},"")}))))},Qe=(n(301),function(e){var t=he((function(e){return e.overlay.name}),(function(e){return e.overlay.author})),n=r()(t,2),a=r()(n[0],2),i=a[0],o=a[1],s=n[1],f=Object(l.useState)(!1),p=r()(f,2),d=p[0],m=p[1],h=Object(l.useState)(),y=r()(h,2),g=y[0],v=y[1],b=Object(l.useState)(),x=r()(b,2),w=x[0],S=x[1],E=Object(l.useCallback)((function(){m((function(e){return!e})),v(i||""),S(o||"")}),[]),O=Object(l.useCallback)((function(e){v(e.target.value)}),[]),C=Object(l.useCallback)((function(e){S(e.target.value)}),[]),k=Object(l.useCallback)((function(){s("SetOverlayMetadata",{name:g,author:w}),m(!1),v(null),S(null)}),[g,w]),A=Object(l.useCallback)((function(){m(!1),v(null),S(null)}),[]),N=Object(l.useCallback)((function(e){"Enter"==e.key&&(e.preventDefault(),k())}),[k]);return c.a.createElement("div",{className:"overlay-metadata-editor"},c.a.createElement("div",{className:"left"},c.a.createElement("div",{className:"overlay-name"},d?c.a.createElement(u.InputGroup,{value:g,onKeyDown:N,onChange:O,placeholder:"Name"}):i),c.a.createElement("div",{className:"overlay-author"},d?c.a.createElement(u.InputGroup,{value:w,onKeyDown:N,onChange:C,placeholder:"Author"}):o)),c.a.createElement("div",{className:"right"},d?c.a.createElement(c.a.Fragment,null,c.a.createElement(u.Button,{minimal:!0,intent:"success",icon:"tick",title:"Accept",onClick:k}),c.a.createElement(u.Button,{minimal:!0,intent:"danger",icon:"reset",title:"Cancel",onClick:A})):c.a.createElement(u.Button,{minimal:!0,icon:"edit",title:"Edit",onClick:E})))}),et=function(e){var t=he(),n=r()(t,2),a=(n[0],n[1]);return c.a.createElement(u.Popover,{position:Me.a.RIGHT_BOTTOM,interactionKind:u.PopoverInteractionKind.CLICK,boundary:"window",fill:!0},e.children,c.a.createElement(u.Menu,null,Object.entries(J.a).map((function(t){return c.a.createElement(u.MenuItem,{key:t[0],text:t[0],popoverProps:{openOnTargetFocus:!1}},t[1].map((function(t){var n=J.b[t];return c.a.createElement(u.MenuItem,{key:t,text:n.displayName,onClick:function(n){return a("CreateLayerEffect",{id:e.layer.id,effectName:t})}})})))}))))},tt=n(179),nt=n(11);n(466);function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w()(e);if(t){var r=w()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var rt=function(e){g()(n,e);var t=at(n);function n(e){var a;return f()(this,n),a=t.call(this,e),o()(h()(a),"_fontSizeDragOrigin",void 0),o()(h()(a),"onFontFamilyChanged",(function(e){a.onValueChanged({fontFamily:e.target.value},!0,!0)})),o()(h()(a),"onFontSizeChanged",(function(e){a.onValueChanged({fontSize:e.target.value},!1,!1)})),o()(h()(a),"onFontSizeBlurred",(function(e){var t=e.target.value;t.match(/[0-9]+(pt|px|em)/)||(t=t.replace(/^[0-9]\./g,"")+"pt"),a.onValueChanged({fontSize:t},!0,!0)})),o()(h()(a),"onFontSizeMouseDown",(function(e){var t,n;window.addEventListener("mousemove",a.onFontSizeMouseMove),window.addEventListener("mouseup",a.onFontSizeMouseUp);var r=U()(e.target.value.matchAll(/([0-9]+)(pt|px|em)/g));0==r.length?(t=72,n="pt"):(t=parseInt(r[0][1]),n=r[0][2]),a._fontSizeDragData={originY:e.clientY,originalValue:t,originalUnits:n,value:e.target.value}})),o()(h()(a),"onFontSizeMouseUp",(function(e){a._fontSizeDragData&&a.onValueChanged({fontSize:a._fontSizeDragData.value},!0,!0),a._fontSizeDragData=null,window.removeEventListener("mousemove",a.onFontSizeMouseMove),window.removeEventListener("mouseup",a.onFontSizeMouseUp)})),o()(h()(a),"onFontSizeMouseMove",(function(e){if(a._fontSizeDragData){var t=a._fontSizeDragData.originY-e.clientY,n=Math.max(0,a._fontSizeDragData.originalValue+t);a._fontSizeDragData.value=n+a._fontSizeDragData.originalUnits,a.onValueChanged({fontSize:a._fontSizeDragData.value},!0,!1)}})),o()(h()(a),"onFontColorChanged",(function(e){a.onValueChanged({color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")},!0,!1)})),o()(h()(a),"onFontColorCommitted",(function(e){a.onValueChanged({color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")},!0,!0)})),o()(h()(a),"onBoldToggled",(function(e){a.onValueChanged({fontWeight:"bold"!=a.state.value.fontWeight?"bold":""},!0,!0)})),o()(h()(a),"onItalicToggled",(function(e){a.onValueChanged({fontStyle:"italic"!=a.state.value.fontStyle?"italic":""},!0,!0)})),o()(h()(a),"onUnderlineToggled",(function(e){a.onValueChanged({textDecoration:"underline"!=a.state.value.textDecoration?"underline":""},!0,!0)})),o()(h()(a),"onTextAlignToggled",(function(e){a.onValueChanged({justifyContent:a.state.value.justifyContent!=e?e:""},!0,!0)})),o()(h()(a),"onTextWrapChanged",(function(e){a.onValueChanged({whiteSpace:"pre-wrap"!=a.state.value.whiteSpace?"pre-wrap":""},!0,!0)})),o()(h()(a),"onValignToggled",(function(e){a.onValueChanged({alignItems:a.state.value.alignItems!=e?e:""},!0,!0)})),o()(h()(a),"onTextKeyDown",(function(e){"Enter"==e.key&&(e.preventDefault(),e.target.blur())})),o()(h()(a),"parseColor",(function(e){var t=e.match(n.RGBA_COLOR_REGEX);return t?{r:t[1],g:t[2],b:t[3],a:t[4]}:""})),a.state=a.getStateFromProps(a.props.value),a}return d()(n,[{key:"componentDidUpdate",value:function(){this.state.initialValue!=this.props.value&&this.setState(this.getStateFromProps(this.props.value))}},{key:"getStateFromProps",value:function(e){var t=e||{};return{initialValue:e,value:{fontFamily:t.fontFamily||"",fontSize:t.fontSize||"",color:t.color||"",fontWeight:t.fontWeight||"",fontStyle:t.fontStyle||"",textDecoration:t.textDecoration||"",justifyContent:t.justifyContent||"",alignItems:t.alignItems||"",whiteSpace:t.whiteSpace||""}}}},{key:"onValueChanged",value:function(e,t,n){var a=this;this.setState((function(t){return{value:Object.assign({},t.value,e)}}),(function(){t&&a.props.onChange(a.props.param,a.state.value,n)}))}},{key:"render",value:function(){var e=this,t=nt.a.GetFontNames();return c.a.createElement("div",{className:"font-style-editor"},c.a.createElement(u.ControlGroup,{fill:!0},c.a.createElement(u.HTMLSelect,{value:this.state.value.fontFamily,onChange:this.onFontFamilyChanged,options:t,className:"font-family",fill:!0}),c.a.createElement(u.InputGroup,{fill:!0,type:"text",value:this.state.value.fontSize,onChange:this.onFontSizeChanged,onBlur:this.onFontSizeBlurred,onKeyDown:this.onTextKeyDown,onMouseDown:this.onFontSizeMouseDown,className:"font-size"}),c.a.createElement(u.Popover,{boundary:"window",className:"font-color"},c.a.createElement(u.Button,{className:"font-color",style:{backgroundColor:this.state.value.color},text:""}),c.a.createElement(tt.SketchPicker,{color:this.parseColor(this.state.value.color),onChange:this.onFontColorChanged,onChangeComplete:this.onFontColorCommitted}))),c.a.createElement(u.ButtonGroup,{fill:!0,className:"button-row-2"},c.a.createElement(u.Button,{icon:"bold",active:"bold"==this.state.value.fontWeight,onClick:this.onBoldToggled}),c.a.createElement(u.Button,{icon:"italic",active:"italic"==this.state.value.fontStyle,onClick:this.onItalicToggled}),c.a.createElement(u.Button,{icon:"underline",active:"underline"==this.state.value.textDecoration,onClick:this.onUnderlineToggled}),c.a.createElement(u.Button,{icon:"align-left",active:"flex-start"==this.state.value.justifyContent,onClick:function(){return e.onTextAlignToggled("flex-start")}}),c.a.createElement(u.Button,{icon:"align-center",active:"center"==this.state.value.justifyContent,onClick:function(){return e.onTextAlignToggled("center")}}),c.a.createElement(u.Button,{icon:"align-right",active:"flex-end"==this.state.value.justifyContent,onClick:function(){return e.onTextAlignToggled("flex-end")}})),c.a.createElement(u.ButtonGroup,{fill:!0},c.a.createElement(u.Switch,{checked:"pre-wrap"==this.state.value.whiteSpace,label:"Text Wrap",onChange:this.onTextWrapChanged,className:"text-wrap"}),c.a.createElement(u.Button,{icon:"alignment-top",active:"flex-start"==this.state.value.alignItems,onClick:function(){return e.onValignToggled("flex-start")}}),c.a.createElement(u.Button,{icon:"alignment-horizontal-center",active:"center"==this.state.value.alignItems,onClick:function(){return e.onValignToggled("center")}}),c.a.createElement(u.Button,{icon:"alignment-bottom",active:"flex-end"==this.state.value.alignItems,onClick:function(){return e.onValignToggled("flex-end")}})))}}]),n}(c.a.Component);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w()(e);if(t){var r=w()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}o()(rt,"RGBA_COLOR_REGEX",/^rgba\((\d+),(\d+),(\d+),(\d*(?:\.\d+)?)\)$/i);var ct=function(e){g()(n,e);var t=lt(n);function n(e){var a;return f()(this,n),a=t.call(this,e),o()(h()(a),"onTextChanged",(function(e,t){var n={};n[e]=t,a.onValueChanged(n,!1,!1)})),a.state=a.getStateFromProps(e.value),a}return d()(n,[{key:"componentDidUpdate",value:function(){this.state.initialValue!=this.props.value&&this.setState(this.getStateFromProps(this.props.value))}},{key:"getStateFromProps",value:function(e){var t=e||{},n={duration:t.duration,timing:t.timing,delay:t.delay,iterations:t.iterations,direction:t.direction,fill:t.fill};return null==n.duration&&(n.duration=this.props.param.defaultValue.duration),null==n.timing&&(n.timing=this.props.param.defaultValue.timing),null==n.delay&&(n.delay=this.props.param.defaultValue.delay),null==n.iterations&&(n.iterations=this.props.param.defaultValue.iterations),null==n.direction&&(n.direction=this.props.param.defaultValue.direction),null==n.fill&&(n.fill=this.props.param.defaultValue.fill),{initialValue:e,value:n}}},{key:"onValueChanged",value:function(e,t,n){var a=this;this.setState((function(t){return{value:ot(ot({},t.value),e)}}),(function(){if(t){for(var e=ot({},a.state.value),i=0,o=Object.entries(a.state.value);i<o.length;i++){var l=r()(o[i],2),c=l[0];""==l[1]&&delete e[c]}a.props.onChange(a.props.param,e,n)}}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"animation-editor"},c.a.createElement(u.FormGroup,{label:"Duration"},c.a.createElement(u.InputGroup,{value:this.state.value.duration||"",onChange:function(t){return e.onTextChanged("duration",t.target.value)},onBlur:function(t){return e.onValueChanged({duration:t.target.value},!0,!0)}})),c.a.createElement(u.FormGroup,{label:"Timing"},c.a.createElement(u.HTMLSelect,{value:this.state.value.timing||"",onChange:function(t){return e.onValueChanged({timing:t.target.value},!0,!0)}},c.a.createElement("option",{value:""},"Ease"),c.a.createElement("option",{value:"ease-in"},"Ease In"),c.a.createElement("option",{value:"ease-out"},"Ease Out"),c.a.createElement("option",{value:"linear"},"Linear"))),c.a.createElement(u.FormGroup,{label:"Delay"},c.a.createElement(u.InputGroup,{value:this.state.value.delay||"",onChange:function(t){return e.onTextChanged("delay",t.target.value)},onBlur:function(t){return e.onValueChanged({delay:t.target.value},!0,!0)}})),c.a.createElement(u.FormGroup,{label:"Loop"},c.a.createElement(u.HTMLSelect,{value:this.state.value.iterations||"",onChange:function(t){return e.onValueChanged({iterations:t.target.value},!0,!0)}},c.a.createElement("option",{value:""},"1"),c.a.createElement("option",{value:"2"},"2"),c.a.createElement("option",{value:"3"},"3"),c.a.createElement("option",{value:"4"},"4"),c.a.createElement("option",{value:"5"},"5"),c.a.createElement("option",{value:"6"},"6"),c.a.createElement("option",{value:"7"},"7"),c.a.createElement("option",{value:"8"},"8"),c.a.createElement("option",{value:"9"},"9"),c.a.createElement("option",{value:"10"},"10"),c.a.createElement("option",{value:"infinite"},"Infinite"))),c.a.createElement(u.FormGroup,{label:"Direction"},c.a.createElement(u.HTMLSelect,{value:this.state.value.direction||"",onChange:function(t){return e.onValueChanged({direction:t.target.value},!0,!0)}},c.a.createElement("option",{value:""},"Forward"),c.a.createElement("option",{value:"reverse"},"Reverse"),c.a.createElement("option",{value:"alternate"},"Alternate"),c.a.createElement("option",{value:"alternate-reverse"},"Reverse Alternate"))))}}]),n}(c.a.Component);n(468);function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w()(e);if(t){var r=w()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var st=function(e){g()(n,e);var t=ut(n);function n(e){var a;return f()(this,n),a=t.call(this,e),o()(h()(a),"onToggle",(function(e){a.props.islocked||a.setState((function(e){var t=!e.isOpen;return a.props.onToggle&&a.props.onToggle(t),{isOpen:t}}))})),a.state={isOpen:a.props.isOpen||!1},a}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.intent,n=e.label,a=(e.islocked,e.active),r=e.disabled,i=e.draggable,o=e.onDragStart,l=e.onDragEnd,s=e.collapsed,f=j()(e,["intent","label","islocked","active","disabled","draggable","onDragStart","onDragEnd","collapsed"]),p=null;this.props.children&&(p=c.a.createElement(u.Collapse,{isOpen:null!=s?!s:this.state.isOpen},c.a.createElement("div",{className:"group-inner"},this.props.children)));var d="blank";this.props.children&&(d=this.state.isOpen?"caret-down":"caret-right");var m={};return r&&(m.opacity=.5),c.a.createElement("div",D()({className:"group"},f),c.a.createElement(u.ButtonGroup,null,this.props.leftButtons,c.a.createElement(u.Button,{icon:d,onClick:this.onToggle,alignText:"left",style:m,fill:!0,intent:t,active:a,draggable:i,onDragStart:o,onDragEnd:l},n),this.props.rightButtons),p)}}]),n}(c.a.Component);function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w()(e);if(t){var r=w()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var pt=function(e){g()(n,e);var t=ft(n);function n(e){var a;return f()(this,n),a=t.call(this,e),o()(h()(a),"onChangeValue",(function(e){a.props.onChange(a.props.param,e)})),a}return d()(n,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"vertical-align-editor"},c.a.createElement(u.ButtonGroup,null,c.a.createElement(u.Button,{icon:"alignment-top",active:"top"==this.props.value,onClick:function(){return e.onChangeValue("top")}}),c.a.createElement(u.Button,{icon:"alignment-horizontal-center",active:"center"==this.props.value,onClick:function(){return e.onChangeValue("center")}}),c.a.createElement(u.Button,{icon:"alignment-bottom",active:"bottom"==this.props.value,onClick:function(){return e.onChangeValue("bottom")}})))}}]),n}(c.a.Component);function dt(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function mt(e){switch(e){case"0":return 0;case"1":return 1;case"2":return 2;case"3":return 3;case"4":return 4;case"5":return 5;case"6":return 6;case"7":return 7;case"8":return 8;case"9":return 9;case"a":case"A":return 10;case"b":case"B":return 11;case"c":case"C":return 12;case"d":case"D":return 13;case"e":case"E":return 14;case"f":case"F":return 15;default:return null}}function ht(e){if(9!=e.length)return null;for(var t={r:0,g:0,b:0,a:0},n=1;n<e.length;n++)switch(n){case 1:t.r=16*mt(e[n]);break;case 2:t.r+=mt(e[n]);break;case 3:t.g=16*mt(e[n]);break;case 4:t.g+=mt(e[n]);break;case 5:t.b=16*mt(e[n]);break;case 6:t.b+=mt(e[n]);break;case 7:t.a=16*mt(e[n]);break;case 8:t.a+=mt(e[n])}return t.a/=255,t}function yt(e){return"#".concat(dt(e.r)).concat(dt(e.g)).concat(dt(e.b)).concat(dt(Math.floor(255*e.a)))}var gt={rgbaObjectToHexString:yt,interpolate:function(e,t,n){if(null==n)return null;var a=ht(e)||{r:0,g:0,b:0,a:0},r=ht(t)||{r:0,g:0,b:0,a:0};return yt({r:Math.floor(a.r+(r.r-a.r)*n),g:Math.floor(a.g+(r.g-a.g)*n),b:Math.floor(a.b+(r.b-a.b)*n),a:a.a+(r.a-a.a)*n})}};n(470);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w()(e);if(t){var r=w()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var Et=function(e){g()(n,e);var t=St(n);function n(e){var a;return f()(this,n),a=t.call(this,e),o()(h()(a),"onStyleChanged",(function(e,t){if(a.props.onParameterValuesChanged){var n={};n[e.name]=t,a.props.onParameterValuesChanged(n)}})),o()(h()(a),"onStyleCommitted",(function(e,t){if(a.props.onParameterValuesChanged){var n={};n[e.name]=t,a.props.onParameterValuesChanged(n,!0)}})),o()(h()(a),"onFontChanged",(function(e,t,n){if(a.props.onParameterValuesChanged){var r={};r[e.name]=t,a.props.onParameterValuesChanged(r,n)}})),o()(h()(a),"onColorChanged",(function(e,t){if(a.props.onParameterValuesChanged){var n={};n[e.name]=gt.rgbaObjectToHexString(t.rgb),a.props.onParameterValuesChanged(n,!1)}})),o()(h()(a),"onColorCommitted",(function(e,t){if(a.props.onParameterValuesChanged){var n={};n[e.name]=gt.rgbaObjectToHexString(t.rgb),a.props.onParameterValuesChanged(n,!0)}})),o()(h()(a),"onFieldChanged",(function(e){if(a.props.onParameterValuesChanged){var t={};t[e.target.getAttribute("data-param")]=e.target.value,a.props.onParameterValuesChanged(t)}})),o()(h()(a),"onVerticalAlignChanged",(function(e,t){if(a.props.onParameterValuesChanged){var n={};n[e.name]=t,a.props.onParameterValuesChanged(n)}})),o()(h()(a),"onAnimationChanged",(function(e,t,n){if(a.props.onParameterValuesChanged){var r={};r[e.name]=t,a.props.onParameterValuesChanged(r,n)}})),o()(h()(a),"onTextboxFocus",(function(e){a.props.onParameterValuesChanged&&e.target.setAttribute("original-value",e.target.value)})),o()(h()(a),"onTextboxBlur",(function(e){if(a.props.onParameterValuesChanged){var t=e.target.getAttribute("original-value");if(e.target.value!=t){var n={};n[e.target.getAttribute("data-param")]=e.target.value,a.props.onParameterValuesChanged(n,!0)}}})),o()(h()(a),"onRadioGroupChanged",(function(e){if(a.props.onParameterValuesChanged){var t={};t[e.target.getAttribute("data-param")]=e.target.value,a.props.onParameterValuesChanged(t,!0)}})),o()(h()(a),"onButtonGroupChanged",(function(e,t){if(a.props.onParameterValuesChanged){var n={};n[e]=t,a.props.onParameterValuesChanged(n,!0)}})),o()(h()(a),"onSelectChanged",(function(e){if(a.props.onParameterValuesChanged){var t={};t[e.target.getAttribute("data-param")]=e.target.value,a.props.onParameterValuesChanged(t,!0)}})),o()(h()(a),"onCheckboxChanged",(function(e){if(a.props.onParameterValuesChanged){var t={};t[e.target.getAttribute("data-param")]=e.target.checked,a.props.onParameterValuesChanged(t,!0)}})),o()(h()(a),"getOnSliderChangedCallback",(function(e){var t=function(t){if(this.props.onParameterValuesChanged){var n={};n[e]=t,this.props.onParameterValuesChanged(n,!1)}};return t=t.bind(h()(a))})),o()(h()(a),"getOnSliderReleasedCallback",(function(e){var t=function(t){if(this.props.onParameterValuesChanged){var n={};n[e]=t,this.props.onParameterValuesChanged(n,!0)}};return t=t.bind(h()(a))})),o()(h()(a),"onGroupToggle",(function(e){var t=e.target.closest("button");if(t){var n=t.getAttribute("data-group");a.setState((function(e){var t=e.openGroups.indexOf(n);return t>-1?e.openGroups.splice(t,1):e.openGroups.push(n),{openGroups:e.openGroups}}))}})),o()(h()(a),"onAssetUrlDrop",(function(e){e.preventDefault(),e.stopPropagation();var t=e.target.getAttribute("data-param");a.handleUpload(e.dataTransfer.files,t)})),o()(h()(a),"onUploadClick",(function(e){var t=e.target.closest("button").getAttribute("data-param"),n=document.createElement("input");n.type="file",n.style="display: none",n.accept=e.target.getAttribute("accept"),n.addEventListener("change",(function(e){n.files.length>0&&a.handleUpload(n.files,t)})),n.click()})),o()(h()(a),"handleUpload",function(){var e=F()(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.onHandleUpload&&a.props.onHandleUpload(t,(function(e){var t=o()({},n,e);a.props.onParameterValuesChanged(t,!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),o()(h()(a),"renderInputGroup",(function(e,t){switch(null==t&&(t=e.defaultValue?e.defaultValue:"slider"==e.type?e.min:"text"==e.type?"":"select"==e.type&&e.options&&e.options.length>0?e.options[0].value?e.options[0].value:e.options[0]:""),e.type){case"font":return c.a.createElement(rt,{value:t,onChange:a.onFontChanged,param:e});case"valign":return c.a.createElement(pt,{value:t,param:e,onChange:a.onVerticalAlignChanged});case"color":return c.a.createElement(u.Popover,{boundary:"window"},c.a.createElement(u.Button,{style:{backgroundColor:t},text:""}),c.a.createElement(tt.SketchPicker,{color:t,onChange:function(t){return a.onColorChanged(e,t)},onChangeComplete:function(t){return a.onColorCommitted(e,t)}}));case"checkbox":return c.a.createElement(u.Switch,{checked:t,onChange:a.onCheckboxChanged,"data-param":e.name,label:0!=e.compact?e.displayName:null});case"select":var n=e.options;return"function"==typeof n&&(n=a.state.optionsLists[e.name]||[]),c.a.createElement(u.HTMLSelect,{value:t,onChange:a.onSelectChanged,"data-param":e.name,options:n});case"radiogroup":return c.a.createElement(u.RadioGroup,{selectedValue:t,onChange:a.onRadioGroupChanged},e.options.map((function(t){return c.a.createElement(u.Radio,{label:t.label,value:t.value,"data-param":e.name,key:t.value})})));case"buttongroup":return c.a.createElement(u.ButtonGroup,null,e.options.map((function(n){return c.a.createElement(u.Button,{text:n.label,key:n.value,active:t==n.value,onClick:function(){return a.onButtonGroupChanged(e.name,n.value)}})})));case"slider":return c.a.createElement(u.Slider,{value:t,onChange:a.getOnSliderChangedCallback(e.name),onRelease:a.getOnSliderReleasedCallback(e.name),min:e.min||0,max:e.max||100,stepSize:e.step,labelStepSize:e.labelStepSize||(e.max||100)/2});case"animation":return c.a.createElement(ct,{value:t,param:e,onChange:a.onAnimationChanged});case"assetUrl":return c.a.createElement(u.InputGroup,{value:t,type:"text",onChange:a.onFieldChanged,onFocus:a.onTextboxFocus,onBlur:a.onTextboxBlur,"data-param":e.name,fill:!0,onDrop:a.onAssetUrlDrop,dropeffect:"copy",overridedrop:"true",rightElement:c.a.createElement(u.Button,{icon:"cloud-upload",minimal:!0,onClick:a.onUploadClick,"data-param":e.name,accept:e.accept})});case"textarea":return c.a.createElement(u.TextArea,{value:t,onChange:a.onFieldChanged,onFocus:a.onTextboxFocus,onBlur:a.onTextboxBlur,"data-param":e.name,fill:!0,growVertically:!0});case"text":default:return c.a.createElement(u.InputGroup,{value:t,type:e.type,onChange:a.onFieldChanged,onFocus:a.onTextboxFocus,onBlur:a.onTextboxBlur,"data-param":e.name,fill:!0})}})),o()(h()(a),"renderFormGroup",(function(e){var t=null;e.width&&(t={flexShrink:0,flexGrow:0,flexBasis:e.width+"%"});var n="checkbox"==e.type&&0!=e.compact?null:e.displayName;return c.a.createElement(u.FormGroup,{key:e.name,label:n,"label-for":e.name,className:e.width?"width-specified":void 0,inline:e.inline,style:t},a.renderInputGroup(e,a.props.parameterValues[e.name]))})),a.state={optionsLists:{}},a}return d()(n,[{key:"componentDidMount",value:function(){var e,t=this,n=xt(this.props.parameters);try{var a=function(){var n=e.value;n.options&&"function"==typeof n.options&&Promise.resolve(n.options()).then((function(e){t.setState((function(t){return{optionsLists:bt(bt({},t.optionsLists),{},o()({},n.name,e))}}))}))};for(n.s();!(e=n.n()).done;)a()}catch(e){n.e(e)}finally{n.f()}}},{key:"render",value:function(){var e=this,t=(this.props.parameters||[]).map((function(t){return t.group?c.a.createElement(u.FormGroup,{key:t.group},c.a.createElement(st,{label:t.group},t.items.map((function(t){return e.renderFormGroup(t)})))):e.renderFormGroup(t)}));return c.a.createElement("div",{className:"configuration-form"},t)}}]),n}(c.a.Component),Ot=(n(472),function(e){var t=e.layer,n=e.effect,a=e.effectName,r=e.config,i=e.dispatch,o=Object(l.useCallback)((function(e,n){i("UpdateLayerEffect",{id:t.id,effectName:a,config:e,createUndoHistory:n})}),[]),s=Object(l.useCallback)((function(){i("DeleteLayerEffect",{id:t.id,effectName:a})}),[]);return c.a.createElement(Je,{label:n.displayName,rightElement:c.a.createElement(u.Button,{icon:"trash",minimal:!0,onClick:s})},c.a.createElement("div",{className:"effect-panel"},c.a.createElement(Et,{parameters:n.parameters,parameterValues:r,onParameterValuesChanged:o})))}),Ct=function(e){var t,n,a=he((function(e){return e.elements}),(function(e){return e.onUpload}),(function(e){return e.selectedLayers})),i=r()(a,2),o=r()(i[0],3),s=o[0],f=o[1],p=o[2],d=i[1];1!=p.length?(t=null,n=null):n=s[(t=p[0]).elementName];var m=Object(l.useCallback)((function(e,n){d("UpdateLayerConfig",{id:t.id,config:e,createUndoHistory:n})}),[t]);if(!t)return null;var h=null;null!=n.manifest.parameters&&n.manifest.parameters.length>0&&(h=c.a.createElement(Je,{label:n.manifest.name},c.a.createElement("div",{className:"layer-config-panel"},c.a.createElement(Et,{parameters:n.manifest.parameters,parameterValues:t.config,onUpload:f,onParameterValuesChanged:m,onHandleUpload:function(e,t){d("HandleFileUpload",{files:e,onComplete:t})}}))));var y,g=[];if(t.effects)for(var v=0,b=Object.entries(t.effects);v<b.length;v++){var x=r()(b[v],2),w=x[0],S=x[1],E=J.b[w];E&&"animation"!=E.type&&g.push(c.a.createElement(Ot,{key:w,layer:t,effectName:w,effect:E,config:S,dispatch:d}))}return n.manifest.nonVisual||(y=c.a.createElement("div",{className:"panel"},c.a.createElement(et,{layer:t},c.a.createElement(u.Button,{fill:!0,intent:"primary",alignText:"left",icon:"plus",className:"btn-add-effect",text:"Add Property"})))),c.a.createElement(c.a.Fragment,null,h,g,y)},kt=function(e){e.props;var t=he(),n=r()(t,2),a=(n[0],n[1]);return Object(l.useEffect)((function(){function e(e){var t=e.ctrlKey||e.metaKey,n=e.shiftKey;if(!t||"+"!=e.key&&"-"!=e.key&&"0"!=e.key||(e.preventDefault(),e.stopPropagation()),"INPUT"!=e.target.tagName&&"SELECT"!=e.target.tagName&&"TEXTAREA"!=e.target.tagName)switch(e.key){case"z":if(!t)break;e.preventDefault(),a("Undo");break;case"y":if(!t)break;e.preventDefault(),a("Redo");break;case"F2":e.preventDefault();break;case"Delete":e.preventDefault(),a("DeleteSelectedLayers");break;case"a":if(!t)break;e.preventDefault(),a("SelectAllLayers");break;case"c":e.preventDefault(),a(t?"CopySelectedLayersToClipboard":"CenterSelectedLayers");break;case"f":if(t)break;e.preventDefault(),a("FullscreenSelectedLayers");break;case"[":e.preventDefault(),a("RaiseSelectedLayers",t);break;case"]":e.preventDefault(),a("LowerSelectedLayers",t);break;case"+":e.preventDefault(),a("ScaleSelectedLayers",e.shiftKey?1.2:1.1);break;case"-":e.preventDefault(),a("ScaleSelectedLayers",1/(e.shiftKey?1.2:1.1));break;case"ArrowRight":e.preventDefault(),a("NudgeSelectedLayers",{direction:"right",precise:n,toEdge:t});break;case"ArrowLeft":e.preventDefault(),a("NudgeSelectedLayers",{direction:"left",precise:n,toEdge:t});break;case"ArrowDown":e.preventDefault(),a("NudgeSelectedLayers",{direction:"down",precise:n,toEdge:t});break;case"ArrowUp":e.preventDefault(),a("NudgeSelectedLayers",{direction:"up",precise:n,toEdge:t});break;case"Tab":e.preventDefault(),a("SelectNextLayer",n)}}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),null},At=(n(474),n(13)),Nt=function(e){var t=he(),n=r()(t,2),a=(n[0],n[1]);return Object(l.useEffect)((function(){function e(e){"INPUT"!=e.target.tagName&&"SELECT"!=e.target.tagName&&"TEXTAREA"!=e.target.tagName&&(e.preventDefault(),e.clipboardData.items&&a("HandlePaste",e.clipboardData.items),e.clipboardData.files&&a("HandleFileUpload",{files:e.clipboardData.files}))}document.addEventListener("paste",e)}),[]),null},Dt=(n(476),function(e){var t=e.edge,n=e.defaultSize,a=e.minimum,i=e.maximum,o=e.onSizeChanged,u=j()(e,["edge","defaultSize","minimum","maximum","onSizeChanged"]),s=Object(l.useState)(),f=r()(s,2),p=f[0],d=f[1],m="top"==t||"bottom"==t,h=Object(l.useCallback)((function(e){var r=m?e.clientY:e.clientX,l=n,c=function(e){var o=n+(m?"top"==t?r-e.clientY:e.clientY-r:"right"==t?e.clientX-r:r-e.clientX);o>a&&o<=i&&(l=o,d(o))};window.addEventListener("mousemove",c),window.addEventListener("mouseup",(function e(t){o(l),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",e)}))}),[n]),y=c.a.createElement("div",{className:"resize-bar "+t},c.a.createElement("div",{className:"inner",onMouseDown:h})),g=p||n;switch(t){case"top":return c.a.createElement(c.a.Fragment,null,y,c.a.createElement("div",{style:{height:g+"px"}},c.a.createElement("div",u)));case"bottom":return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{height:g+"px"}},c.a.createElement("div",u)),y);case"left":return c.a.createElement(c.a.Fragment,null,y,c.a.createElement("div",{style:{width:g+"px"}},c.a.createElement("div",u)));case"right":return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:g+"px"}},c.a.createElement("div",u)),y);default:return null}});function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=function(e){e.props;var t,n=he((function(e){return e.rendererPhase}),(function(e){return e.isExecutingScript}),(function(e){return e.overlay.phases}),(function(e){return e.overlay.layers}),(function(e){return e.selectedLayers}),(function(e){return e.elements})),a=r()(n,2),i=r()(a[0],6),o=i[0],s=i[1],f=i[2],p=i[3],d=i[4],m=i[5],h=a[1],y=Object(l.useState)("entry"),g=r()(y,2),v=g[0],b=g[1],x="entry"==o,w="active"==o,S="exit"==o,E=f[o]||500;if(Object(l.useEffect)((function(){var e;return"static"!=o&&(e=setTimeout((function(){h("SetRendererPhase","static")}),E)),function(){return e?clearTimeout(e):null}}),[o,E]),"script"!=v){var O=(f?f[v]:null)||500;t=c.a.createElement(Ye,{phase:v,duration:O,layers:p,selectedLayers:d,elements:m,dispatch:h})}else t=c.a.createElement(Be,null);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"center-buttons"},c.a.createElement(u.ButtonGroup,null,c.a.createElement(u.Button,{text:"Entry",active:"entry"==v,onClick:function(){return b("entry")},fill:!0}),c.a.createElement(u.Button,{icon:x?"pause":"play",onClick:function(){return h("SetRendererPhase",x?"static":"entry")}})),c.a.createElement(u.ButtonGroup,null,c.a.createElement(u.Button,{text:"Active",active:"active"==v,onClick:function(){return b("active")},fill:!0}),c.a.createElement(u.Button,{icon:w?"pause":"play",onClick:function(){return h("SetRendererPhase",w?"static":"active")}})),c.a.createElement(u.ButtonGroup,null,c.a.createElement(u.Button,{text:"Exit",active:"exit"==v,onClick:function(){return b("exit")},fill:!0}),c.a.createElement(u.Button,{icon:S?"pause":"play",onClick:function(){return h("SetRendererPhase",S?"static":"exit")}})),c.a.createElement(u.ButtonGroup,null,c.a.createElement(u.Button,{text:"Script",active:"script"==v,onClick:function(){return b("script")},fill:!0}),c.a.createElement(u.Button,{icon:s?"pause":"play",onClick:function(){h("SetRendererPhase","static"),h("ExecuteScript")}}))),t)},Tt=function(e){var t,n=Object(l.useMemo)((function(){var t=e.overlay||{name:"New Overlay",layers:[],phases:{}};return{overlay:t,onOverlayChanged:e.onOverlayChanged,width:e.width||1920,height:e.height||1080,elements:e.disableBuiltinElements?jt({},e.elements):jt(jt({},At.a),e.elements),onUpload:e.onUpload,selectedLayerIds:[],selectedLayers:[],toasts:[],undoData:{pointer:0,history:[jt({},t)]},rendererPhase:"static",isExecutingScript:!1}}),[e.overlay,e.onOverlayChanged,e.width,e.height,e.disableBuiltinElements,e.elements,e.onUpload]),a=Object(l.useState)({leftPanelWidth:350,bottomBarHeight:200,rightPanelWidth:300,animationsVisible:!1}),i=r()(a,2),o=i[0],s=i[1],f=Object(l.useCallback)((function(e){s((function(t){return jt(jt({},t),e)}))}),[]);return o.animationsVisible&&(t=c.a.createElement(Dt,{edge:"top",defaultSize:o.bottomBarHeight,minimum:100,maximum:500,onSizeChanged:function(e){return f({bottomBarHeight:e})},className:"bottom-bar"},c.a.createElement(Pt,null))),c.a.createElement(me,{initialState:n},c.a.createElement(kt,null),c.a.createElement(Nt,null),c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(Fe,null),c.a.createElement("div",{className:"center-wrapper"},c.a.createElement(Dt,{edge:"right",defaultSize:o.leftPanelWidth,minimum:100,maximum:500,onSizeChanged:function(e){return f({leftPanelWidth:e})},className:"leftpanel-wrapper"},c.a.createElement(Qe,null),c.a.createElement("div",{className:"new-layer-button-container"},c.a.createElement(ze,null,c.a.createElement(u.Button,{rightIcon:"caret-right",intent:"primary",text:"New Layer"}))),c.a.createElement("div",{className:"layer-list-wrapper",dropeffect:"move"},c.a.createElement(ge,null))),c.a.createElement("div",{className:"stage-wrapper",dropeffect:"copy"},c.a.createElement(Re,null)),c.a.createElement(Dt,{edge:"left",defaultSize:o.rightPanelWidth,minimum:100,maximum:500,onSizeChanged:function(e){return f({rightPanelWidth:e})},className:"rightpanel-wrapper"},c.a.createElement(qe,null),c.a.createElement(Ct,null))),c.a.createElement("div",{className:"animations-toggle"},c.a.createElement("div",{className:"inner"},c.a.createElement(u.Button,{icon:o.animationsVisible?"caret-down":"caret-up",text:"Animations",onClick:function(){return s((function(e){return jt(jt({},e),{},{animationsVisible:!e.animationsVisible})}))}}))),t))};t.default=Tt},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(11),r={General:["backgroundColor","border","cornerRadius","shadow","blur","opacity","cornerClip","padding","color","autoFit"],Text:["font","textWrap","textStroke","textShadow","letterSpacing","lineHeight","valign"],"3D":["theaterProjection"]},i={backgroundColor:{type:"style",displayName:"Background Color",parameters:[{name:"color",type:"color",displayName:null,defaultValue:"#00000080"}],apply:function(e,t){e.backgroundColor=t.color}},border:{type:"style",displayName:"Border",parameters:[{name:"width",type:"number",displayName:"Thickness",defaultValue:5,width:30},{name:"style",type:"select",displayName:"Type",defaultValue:"solid",width:40,options:[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"}]},{name:"color",type:"color",displayName:"Color",defaultValue:"#FFFFFF",width:30}],apply:function(e,t){e.borderWidth=t.width+"px",e.borderColor=t.color,e.borderStyle=t.style}},cornerRadius:{type:"style",displayName:"Corner Radius",parameters:[{name:"tl",type:"number",defaultValue:15,width:25},{name:"tr",type:"number",defaultValue:15,width:25},{name:"br",type:"number",defaultValue:15,width:25},{name:"bl",type:"number",defaultValue:15,width:25}],apply:function(e,t){e.borderRadius="".concat(t.tl||0,"px ").concat(t.tr||0,"px ").concat(t.br||0,"px ").concat(t.bl||0,"px")}},padding:{type:"style",displayName:"Padding",parameters:[{name:"t",type:"number",defaultValue:0,width:25},{name:"r",type:"number",defaultValue:0,width:25},{name:"b",type:"number",defaultValue:0,width:25},{name:"l",type:"number",defaultValue:0,width:25}],apply:function(e,t){e.padding="".concat(t.t||0,"px ").concat(t.r||0,"px ").concat(t.b||0,"px ").concat(t.l||0,"px")}},shadow:{type:"style",displayName:"Shadow",parameters:[{name:"offsetx",type:"number",displayName:"X",defaultValue:0,width:20},{name:"offsety",type:"number",displayName:"Y",defaultValue:0,width:20},{name:"size",type:"number",displayName:"Radius",defaultValue:5,width:45},{name:"color",type:"color",displayName:"Color",defaultValue:"#00000080",width:15}],apply:function(e,t){e.boxShadow="".concat(t.offsetx,"px ").concat(t.offsety,"px ").concat(t.size,"px ").concat(t.color)}},autoFit:{type:"style",displayName:"Auto Fit",parameters:[{name:"fit",displayName:"Fit",type:"select",defaultValue:"fill",inline:!0,options:[{label:"Fill",value:"fill"},{label:"Contain",value:"contain"},{label:"Cover",value:"cover"}]},{name:"position",displayName:"Position",type:"text",inline:!0}],apply:function(e,t){t.fit&&(e.objectFit=t.fit),t.position&&(e.objectPosition=t.position)}},font:{type:"style",displayName:"Font",parameters:[{name:"font",displayName:null,type:"font",defaultValue:{fontFamily:"Arial",fontSize:"60pt",color:"rgba(255,255,255,1)"}}],apply:function(e,t){t.font&&Object.assign(e,t.font)},preload:function(e){var t=e.font;return t&&t.fontFamily?a.a.LoadFont(t.fontFamily):null}},textWrap:{type:"style",displayName:"Text Wrap",parameters:[{name:"wrap",displayName:null,type:"checkbox",defaultValue:!1}],apply:function(e,t){t.wrap&&(e.whiteSpace="pre-wrap")}},textStroke:{type:"style",displayName:"Text Stroke",parameters:[{name:"width",type:"number",displayName:"Width",defaultValue:5,width:85},{name:"color",type:"color",displayName:"Color",defaultValue:"#000000",width:15}],apply:function(e,t){e.WebkitTextStroke="".concat(t.width,"px ").concat(t.color)}},textShadow:{type:"style",displayName:"Text Shadow",parameters:[{name:"offsetx",type:"number",displayName:"X",defaultValue:0,width:20},{name:"offsety",type:"number",displayName:"Y",defaultValue:0,width:20},{name:"size",type:"number",displayName:"Radius",defaultValue:5,width:45},{name:"color",type:"color",displayName:"Color",defaultValue:"#00000080",width:15}],apply:function(e,t){e.textShadow="".concat(t.offsetx,"px ").concat(t.offsety,"px ").concat(t.size,"px ").concat(t.color)}},valign:{type:"style",displayName:"Vertical Align",parameters:[{name:"valign",displayName:null,type:"valign",defaultValue:"flex-start"}],apply:function(e,t){var n;"top"==t.valign?n="flex-start":"center"==t.valign?n="center":"bottom"==t.valign&&(n="flex-end"),e.alignItems=n}},blur:{type:"style",displayName:"Blur",parameters:[{name:"amount",type:"slider",displayName:null,defaultValue:10}],apply:function(e,t){null==e.filter&&(e.filter=""),e.filter+=" blur(".concat(t.amount,"px)")}},color:{type:"style",displayName:"Color Adjustment",parameters:[{name:"brightness",displayName:"Brightness",type:"slider",defaultValue:50,inline:!0},{name:"contrast",displayName:"Contrast",type:"slider",defaultValue:50,inline:!0},{name:"saturation",displayName:"Saturation",type:"slider",defaultValue:50,inline:!0},{name:"hue",displayName:"Hue",type:"slider",defaultValue:0,inline:!0},{name:"invert",displayName:"Invert",type:"slider",defaultValue:0,inline:!0},{name:"sepia",displayName:"Sepia",type:"slider",defaultValue:0,inline:!0}],apply:function(e,t){null==e.filter&&(e.filter=""),null!=t.brightness&&50!=t.brightness&&(e.filter+=" brightness(".concat(2*t.brightness,"%)")),null!=t.contrast&&50!=t.contrast&&(e.filter+=" contrast(".concat(2*t.contrast,"%)")),null!=t.saturation&&50!=t.saturation&&(e.filter+=" saturate(".concat(2*t.saturation,"%)")),null!=t.hue&&0!=t.hue&&(e.filter+=" hue-rotate(".concat(3.6*t.hue,"deg)")),null!=t.invert&&0!=t.invert&&(e.filter+=" invert(".concat(t.invert,"%)")),null!=t.sepia&&0!=t.sepia&&(e.filter+=" sepia(".concat(t.sepia,"%)"))}},opacity:{type:"style",displayName:"Opacity",parameters:[{name:"amount",type:"slider",displayName:null,defaultValue:100}],apply:function(e,t){e.opacity="".concat(t.amount/100)}},cornerClip:{type:"style",displayName:"Corner Clip",parameters:[{name:"tl",type:"number",displayName:"Top Left",defaultValue:10,width:25},{name:"tr",type:"number",displayName:"Top Right",defaultValue:0,width:25},{name:"br",type:"number",displayName:"Bot. Right",defaultValue:0,width:25},{name:"bl",type:"number",displayName:"Bot. Left",defaultValue:0,width:25}],apply:function(e,t){var n="polygon(".concat(t.tl,"px 0, calc(100% - ").concat(t.tr,"px) 0, 100% ").concat(t.tr,"px, 100% calc(100% - ").concat(t.br,"px), calc(100% - ").concat(t.br,"px) 100%, ").concat(t.bl,"px 100%, 0 calc(100% - ").concat(t.bl,"px), 0 ").concat(t.tl,"px, ").concat(t.tl,"px 0)");e.clipPath=n}},letterSpacing:{type:"style",displayName:"Letter Spacing",parameters:[{name:"amount",type:"slider",displayName:null,defaultValue:0,min:-100,max:100}],apply:function(e,t){e.letterSpacing="".concat(t.amount,"px")}},lineHeight:{type:"style",displayName:"Line Height",parameters:[{name:"amount",type:"slider",displayName:null,defaultValue:0,min:0,max:200,labelStepSize:50}],apply:function(e,t){e.lineHeight="".concat(t.amount,"px")}},theaterProjection:{type:"transform",displayName:"Theater Projection",parameters:[{name:"amount",type:"slider",displayName:"Amount",defaultValue:25,width:50},{name:"mode",type:"select",displayName:"Direction",defaultValue:"both",width:40,options:[{value:"horizontal",label:"Horizontal"},{value:"vertical",label:"Vertical"},{value:"both",label:"Both"}]}],apply:function(e,t,n){var a=0,r=0;"horizontal"!=t.mode&&"both"!=t.mode||(a=(960-(n.left+n.width/2))/1920*(t.amount/50*180));"vertical"!=t.mode&&"both"!=t.mode||(r=(n.top+n.height/2-540)/1080*(t.amount/50*180));e.push({perspective:1e3}),e.push({rotate:[r,a,0]})}}}}}]);