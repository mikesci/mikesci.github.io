(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[3],{11:function(e,t,n){"use strict";t.a={PLAYING:"playing",PAUSED:"paused"}},13:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(2),i=n.n(o),l=n(1),c=n.n(l),s=n(0),u=n.n(s),f=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i;function p(e){return!!e&&e.startsWith("asset:")}function d(e){if(!e||p(e))return null;var t=e.match(f);return t?t[1]:null}var m=["rect"],h=["border","borderRadius","backgroundColor","opacity","padding","shadow","blur","color","cornerClip","3dtransform"],y=["font","letterSpacing","textStroke","textShadow","letterSpacing","lineHeight"],g=["autoFit"],v={manifest:{name:"Rectangle",icon:"square",preserveAspect:!1,primative:!0,parameters:[],allowedStyles:[].concat(c()(m),c()(h)),defaultStyles:{rect:{top:0,left:0,width:640,height:360},backgroundColor:{color:"#FF0000"}}},component:function(e){return null}},b={manifest:{name:"Text",icon:"new-text-box",preserveAspect:!1,primative:!0,parameters:[{name:"text",displayName:null,type:"textarea",defaultValue:"text"}],allowedStyles:[].concat(c()(m),c()(y),c()(h)),defaultStyles:{rect:{top:0,left:0,width:400,height:400},font:{font:{fontFamily:"Arial",fontSize:"60pt",color:"rgba(255,255,255,1)",whiteSpace:"pre"}}}},component:function(e){var t=e.text;return u.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit",whiteSpace:"inherit"}},t)}},w={manifest:{name:"Image",width:400,height:400,icon:"media",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"image/*",inline:!0}],allowedStyles:[].concat(c()(m),c()(g),c()(h)),defaultStyles:{rect:{top:0,left:0,width:400,height:400}},getDimensions:function(e,t){return new Promise((function(n,r){var a=new Image;a.addEventListener("load",(function(){n({width:a.naturalWidth,height:a.naturalHeight})})),a.src=p(e.url)?t[e.url]:e.url,setTimeout(r,500)}))},preload:function(e){var t=e.url;if(!p(t))return new Promise((function(e,n){var r=new Image;r.addEventListener("load",e),r.addEventListener("error",e),r.addEventListener("abort",e),r.src=t}))},referencedAssets:function(e){return p(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.assets,r=p(t)?n[t]:t;return u.a.createElement("img",{src:r,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}},S={manifest:{name:"Video",icon:"video",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"video/*",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,width:50},{name:"loop",type:"checkbox",displayName:"Loop",defaultValue:!1,inline:!0,width:50}],allowedStyles:[].concat(c()(m),c()(g),c()(h)),defaultStyles:{rect:{top:0,left:0,width:1280,height:720}},getDimensions:function(e,t){return new Promise((function(n,r){if(d(e.url))n({width:1280,height:720});else{var a=document.createElement("video");a.addEventListener("loadeddata",(function(){n({width:a.videoWidth,height:a.videoHeight})}));var o=document.createElement("source");o.src=p(e.url)?t[e.url]:e.url,a.appendChild(o),setTimeout(r,500)}}))},referencedAssets:function(e){return p(e.url)?[e.url]:null},preload:function(e){return d(e.url)?(window.onYouTubeIframeAPIReadyPromise||(window.onYouTubeIframeAPIReadyPromise=new Promise((function(e){if(window.YT)e();else{var t=document.createElement("script");t.type="text/javascript",t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=e}}))),window.onYouTubeIframeAPIReadyPromise):null}},YoutubeVideoComponent:function(e){var t=e.videoId,n=e.url,r=e.playing,a=void 0===r||r,o=e.loop,l=void 0!==o&&o,c=e.volume,f=void 0===c?100:c,p=(e.assets,Object(s.useRef)()),d=Object(s.useState)(),m=i()(d,2),h=m[0],y=m[1],g=Object(s.useState)(),v=i()(g,2),b=v[0],w=v[1];return Object(s.useEffect)((function(){if(window.YT)var e=new YT.Player(p.current,{width:"100%",height:"100%",playerVars:{controls:0,modestbranding:1},events:{onReady:function(t){y(e)},onStateChange:function(e){var t=e.data;w(t)}}})}),[window.YT]),Object(s.useEffect)((function(){h&&h.loadVideoByUrl("http://www.youtube.com/v/".concat(t,"?version=3"))}),[h,t]),Object(s.useEffect)((function(){h&&h.setLoop(l)}),[h,l]),Object(s.useEffect)((function(){h&&b&&-1==b&&h.seekTo(0)}),[h,b]),Object(s.useEffect)((function(){h&&(a?h.playVideo():h.pauseVideo())}),[h,a]),Object(s.useEffect)((function(){h&&h.setVolume(f)}),[h,f]),u.a.createElement("div",{style:{overflow:"hidden",height:"100%",width:"100%",display:null!=n&&n.length>0?"block":"none"}},u.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),u.a.createElement("div",{ref:p}))},HTMLVideoComponent:function(e){var t=e.src,n=e.url,r=e.playing,a=void 0===r||r,o=e.loop,i=void 0!==o&&o,l=e.volume,c=void 0===l?100:l,f=(e.assets,Object(s.useRef)());Object(s.useEffect)((function(){f.current.load()}),[n]),Object(s.useEffect)((function(){f.current.currentTime=0,a?f.current.play():f.current.pause()}),[a]),Object(s.useEffect)((function(){f.current.volume=c/100}),[c]);var p=Object(s.useCallback)((function(e){a&&f.current.play().catch((function(e){console.log(e.message)}))}),[]);return u.a.createElement("video",{ref:f,onLoadedData:p,loop:i,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}},u.a.createElement("source",{src:t}))},component:function(e){var t=d(e.url);return t?u.a.createElement(S.YoutubeVideoComponent,a()({videoId:t},e)):u.a.createElement(S.HTMLVideoComponent,a()({src:p(e.url)?e.assets[e.url]:e.url},e))}},x={manifest:{name:"Audio",nonVisual:!0,effectsAllowed:!1,primative:!0,icon:"volume-up",parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"audio/*",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,width:50},{name:"loop",type:"checkbox",displayName:"Looping",defaultValue:!1,inline:!0,width:50}],allowedStyles:[],referencedAssets:function(e){return p(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.playing,r=void 0===n||n,a=e.loop,o=void 0!==a&&a,i=e.volume,l=void 0===i?100:i,c=e.assets,f=Object(s.useRef)();Object(s.useEffect)((function(){f.current.load()}),[t]),Object(s.useEffect)((function(){r?f.current.play():f.current.pause()}),[r]),Object(s.useEffect)((function(){f.current.volume=l/100}),[l]);var d=Object(s.useCallback)((function(e){r&&f.current.play().catch((function(e){console.log(e.message)}))}),[]),m=p(t)?c[t]:t;return u.a.createElement("audio",{ref:f,onLoadedData:d,loop:o},u.a.createElement("source",{src:m}))}},O={manifest:{name:"Iframe",icon:"globe-network",primative:!0,preserveAspect:!1,parameters:[{name:"url",type:"assetUrl",displayName:"Url/Asset",accept:"text/html"}],allowedStyles:[].concat(c()(m),c()(g),c()(h)),defaultStyles:{rect:{top:0,left:0,width:1280,height:720}},referencedAssets:function(e){return p(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.assets,r=p(t)?n[t]:t;return u.a.createElement("iframe",{src:r,style:{border:"0",height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}};var E={manifest:{name:"Knockout",description:"Punches holes in the overlay",icon:"heat-grid",preserveAspect:!1,effectsAllowed:!1,parameters:[{name:"radius",displayName:"Corner Radius",type:"text"}],allowedStyles:c()(m),defaultStyles:{rect:{top:0,left:0,width:1280,height:720}}},component:function(e){var t=e.radius,n=e.layer,r=e.store;return Object(s.useEffect)((function(){return r.actions.RegisterKnockout(n.id,function(e,t){if(!e.styles||!e.styles.rect)return"";var n,r=e.styles.rect;return null!=t&&t.length>0&&(n=parseInt(t)),n&&!isNaN(n)?(n=Math.min(Math.min(n,r.height/2),r.width/2),"M".concat(r.left," ").concat(r.top+n," L").concat(r.left," ").concat(r.top+r.height-n," A").concat(n," ").concat(n," 90 0 0 ").concat(r.left+n," ").concat(r.top+r.height," L").concat(r.left+r.width-n," ").concat(r.top+r.height," A").concat(n," ").concat(n," 90 0 0 ").concat(r.left+r.width," ").concat(r.top+r.height-n," L").concat(r.left+r.width," ").concat(r.top+n," A").concat(n," ").concat(n," 90 0 0 ").concat(r.left+r.width-n," ").concat(r.top," L").concat(r.left+n," ").concat(r.top," A").concat(n," ").concat(n," 90 0 0 ").concat(r.left," ").concat(r.top+n)):"M".concat(r.left," ").concat(r.top," L").concat(r.left," ").concat(r.top+r.height," L").concat(r.left+r.width," ").concat(r.top+r.height," L").concat(r.left+r.width," ").concat(r.top," L").concat(r.left," ").concat(r.top)}(n,t)),function(){return r.actions.UnregisterKnockout(n.id)}}),[n,t]),null}},k={manifest:{name:"External Script",description:"External Javascript resource",nonVisual:!0,effectsAllowed:!1,icon:"manually-entered-data",parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"text/javascript"}],allowedStyles:[],referencedAssets:function(e){return p(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.assets,r=e.store;return console.log({url:t,assets:n,store:r}),Object(s.useEffect)((function(){var e=function(e,t){if(p(e)){var n=t[e];if(n.length<=28)return void console.log("Asset data was malformed.");var r=atob(n.substr(28));return Promise.resolve(r)}return fetch(e).then((function(e){return e.text()})).catch((function(t){console.log("Could not fetch ".concat(e,": ").concat(t))}))}(t,n);return r.actions.RegisterScript(t,e),function(){return r.actions.UnregisterScript(t)}}),[t]),null}};t.a={text:b,rectangle:v,image:w,video:S,audio:x,iframe:O,knockout:E,script:k}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n(8);var r={Effects:["duplicator"]},a={duplicator:{type:"wrapper",displayName:"Duplicator",parameters:[{name:"copies",type:"number",tag:"copies",defaultValue:5,inline:!0},{type:"group",items:[{name:"sx",type:"number",tag:"Δ x",defaultValue:5,width:33.3333},{name:"sy",type:"number",tag:"Δ y",defaultValue:5,width:33.3333},{name:"sz",type:"number",tag:"Δ z",defaultValue:5,width:33.3333}]}],component:function(e){for(var t=e.sx,n=void 0===t?5:t,r=e.sy,a=void 0===r?5:r,o=e.sz,i=void 0===o?5:o,l=e.copies,c=void 0===l?5:l,s=e.children,u=[],f=0;f<c;f++){var p=i<0?c-f-1:f;u.push(React.createElement("div",{key:f,style:{position:"absolute",transformStyle:"preserve-3d",transform:"perspective(1000px) translate3d(".concat(n*p,"px, ").concat(a*p,"px, ").concat(i*p,"px"),width:"100%",height:"100%"}},s))}return React.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},u)}}}},22:function(e,t,n){"use strict";var r=n(1),a=n.n(r);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,c=[(l=["Arial","Arial Black","Comic Sans MS","Courier New","Georgia","Impact","Lucida Sans Unicode","Lucida Console","Tahoma","Trebuchet MS","Times New Roman","Verdana"],{fontNames:l,loadFont:function(e){return l.includes(e)?Promise.resolve():null}}),function(){var e=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Baloo","Baloo Bhai","Baloo Bhaijaan","Baloo Bhaina","Baloo Chettan","Baloo Da","Baloo Paaji","Baloo Tamma","Baloo Tammudu","Baloo Thambi","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Battambang","Baumans","Bayon","Belgrano","Bellefair","Belleza","BenchNine","Bentham","Berkshire Swash","Beth Ellen","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Gothic A1","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Grenze","Griffy","Gruppo","Gudea","Gugi","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Josefin Sans","Josefin Slab","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kumar One","Kumar One Outline","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Muli","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Neucha","Neuton","New Rocker","News Cycle","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Red Hat Display","Red Hat Text","Redressed","Reem Kufi","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Song Myung","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Mono","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trirong","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"];return{fontNames:e,loadFont:function(t){return e.includes(t)?new Promise((function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href="https://fonts.googleapis.com/css?family="+encodeURIComponent(t),r.addEventListener("load",e),r.addEventListener("abort",n),r.addEventListener("error",n),document.head.appendChild(r)})):null}}}()];t.a=function(){var e=[],t={},n=null;return{GetFontNames:function(){if(!n){n=[];var e,t=o(c);try{for(t.s();!(e=t.n()).done;){var r,i=e.value;(r=n).push.apply(r,a()(i.fontNames))}}catch(e){t.e(e)}finally{t.f()}n=n.sort()}return n},LoadFont:function(n){if(e.includes(n))return null;if(t[n])return t[n];var r,a=o(c);try{for(a.s();!(r=a.n()).done;){var i=r.value.loadFont(n);if(i)return t[n]=i,i.then((function(){e.push(n),delete t[n]})),i}}catch(e){a.e(e)}finally{a.f()}return null}}}()},23:function(e,t,n){"use strict";var r,a=n(6),o=n.n(a),i=n(3),l=n.n(i),c=n(2),s=n.n(c),u=n(0),f=n.n(u),p=n(13),d=function(e){var t=e.id,n=e.knockoutPaths;return f.a.createElement("svg",{style:{position:"absolute",top:"-99999px"},viewBox:"0 0 1920 1080",xmlns:"http://www.w3.org/2000/svg"},f.a.createElement("defs",null,f.a.createElement("clipPath",{id:t},f.a.createElement("path",{d:"M-10000 -10000 L10000 -10000 L10000 10000 L-10000 10000 L-10000 -10000 "+n.join(" ")+"Z"}))))},m=n(1),h=n.n(m),y=n(8);function g(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={knockouts:[],externalScripts:{},eventHandlers:{},scriptState:null},x="SET_LAYERS",O="REGISTER_KNOCKOUT",E="UNREGISTER_KNOCKOUT",k="REGISTER_SCRIPT",C="UNREGISTER_SCRIPT",j="REGISTER_EVENTHANDLER",P="UNREGISTER_EVENTHANDLER",A="TRIGGER_EVENT",L="RUN_SCRIPT",D="SET_SCRIPT_STATE",N="RESET_SCRIPT",T=Object(y.d)((r={},l()(r,x,(function(e,t){var n=t.layers;return{overlay:w(w({},e.overlay),{},{layers:n})}})),l()(r,O,(function(e,t){var n=t.key,r=t.path;return{knockouts:[].concat(h()(e.knockouts),[{key:n,path:r}])}})),l()(r,E,(function(e,t){var n=t.key;return{knockouts:e.knockouts.filter((function(e){return e.key!=n}))}})),l()(r,k,(function(e,t){var n=t.key,r=t.data;return{externalScripts:w(w({},e.externalScripts),{},l()({},n,r))}})),l()(r,C,(function(e,t){var n=t.key,r=w({},e.externalScripts);return delete r[n],{externalScripts:r}})),l()(r,j,(function(e,t){var n=t.eventName,r=t.callback,a=w({},e.eventHandlers);return a[n]||(a[n]=[]),a[n].push(r),{eventHandlers:a}})),l()(r,P,(function(e,t){var n=t.eventName,r=t.callback,a=w({},e.eventHandlers);if(a[n])return a[n]=a[n].filter((function(e){return e!=r})),{eventHandlers:a}})),l()(r,A,(function(e,t){var n=t.eventName,r=t.eventArgs,a=e.eventHandlers[n];if(a){var o,i=g(a);try{for(i.s();!(o=i.n()).done;){(0,o.value)(r,sourceLayer)}}catch(e){i.e(e)}finally{i.f()}}})),l()(r,L,(function(e,t){var n=t.overlay,r=t.dispatch,a=n.layers.map((function(e){return e.id})).reduce((function(e,t){return t.id>e?t.id:e}),0),o={overlay:n,timeouts:[],intervals:[]},i=h()(o.overlay.layers),l={emit:function(e,t,n){return r(OverlayActions.TriggerEvent)},on:function(e,t){return r(OverlayActions.RegisterEventHandler)},off:function(e,t){return r(OverlayActions.UnregisterEventHandler)},setLayer:function(e,t){var n,r=layerFilterToFunction(e),a=propsOrCallbackToFunction(t),o=0,l=g(i);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(r(c)){var s=a(c);s&&(i[o]=w(w({},i[o]),s))}o++}}catch(e){l.e(e)}finally{l.f()}},cloneLayer:function(e){var t,n=layerFilterToFunction(e),r=g(i);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(n(a))return cloneDeep(a)}}catch(e){r.e(e)}finally{r.f()}return null},addLayer:function(e){e.id=++a,i.push(e)},removeLayer:function(e){var t=layerFilterToFunction(e),n=i.find((function(e){return t(e)}));n&&(i=i.filter((function(e){return e!=n})))},update:function(){r(OverlayActions.SetScriptState(w(w({},o),{},{overlay:w(w({},o.overlay),{},{layers:h()(i)})})))}};function c(e,t){var n=setTimeout(e,t);o.timeouts.push(n)}function s(e,t){var n=setInterval(e,t);o.intervals.push(n)}return Object(y.c)(e.externalScripts).then((function(e){window.Function("return function(overlay, setTimeout, setInterval) { ".concat(e,"\r\n ").concat(n.script," }"))()(l,c,s)})).catch((function(e){console.log("Error executing script: ",e)})),{scriptState:o}})),l()(r,D,(function(e,t){return{scriptState:t.scriptState}})),l()(r,N,(function(e){if(e.scriptState){var t,n=g(e.scriptState.timeouts);try{for(n.s();!(t=n.n()).done;){var r=t.value;clearTimeout(r)}}catch(e){n.e(e)}finally{n.f()}var a,o=g(e.scriptState.intervals);try{for(o.s();!(a=o.n()).done;){var i=a.value;clearInterval(i)}}catch(e){o.e(e)}finally{o.f()}return{scriptState:null}}})),r)),F=function(){var e=Object(u.useReducer)(T,S),t=s()(e,2),n=t[0],r=t[1];return{state:n,actions:Object(u.useMemo)((function(){return function(e){return{SetLayers:function(t){return e({type:x,layers:t})},RegisterKnockout:function(t,n){return e({type:O,key:t,path:n})},UnregisterKnockout:function(t){return e({type:E,key:t})},RegisterScript:function(t,n){return e({type:k,key:t,data:n})},UnregisterScript:function(t){return e({type:C,key:t})},RegisterEventHandler:function(t,n){return e({type:j,eventName:t,callback:n})},UnregisterEventHandler:function(t,n){return e({type:P,eventName:t,callback:n})},TriggerEvent:function(t,n){return e({type:A,eventName:t,eventArgs:n})},RunScript:function(t){return e({type:L,overlay:t,dispatch:e})},SetScriptState:function(t){return e({type:D,scriptState:t})},ResetScript:function(){return e({type:N})}}}(r)}),[r])}},I=n(9),R=function(e,t,n){var r={};if(e.styles)for(var a=0,o=Object.entries(e.styles);a<o.length;a++){var i=s()(o[a],2),l=i[0],c=i[1],u=I.a[l];if(!u)return void console.log("Unknown style name: "+l);u.apply(r,c)}return void 0!==e.offset&&(r.offset=e.offset),void 0!==e.timing&&(r.easing=e.timing),r},z=(n(38),n(17)),M=n(7),B=n(11);function V(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){return Object(u.useMemo)((function(){var t=e?H(H({},p.a),e):p.a;return function e(n){var r=n.layer,a=n.assets,i=n.store,l=n.wrapperRef,c=Object(u.useState)(),p=s()(c,2),d=p[0],m=p[1],h=t[r.elementName];if(!h)return null;var y=Object(u.useMemo)((function(){return function(e,t){var n=[];if(e.manifest.preload){var r=e.manifest.preload(t.config);r&&n.push(r)}if(t.styles)for(var a=0,o=Object.entries(t.styles);a<o.length;a++){var i=s()(o[a],2),l=i[0],c=i[1],u=I.a[l];if(u&&u.preload){var f=u.preload(c);f&&n.push(f)}}return 0==n.length?null:Promise.all(n)}(h,r)}),[h,r]);if(y&&null==d)return m(!0),y.finally((function(e){return m(!1)})),null;var g=[],v=[];if(r.effects)for(var b=0,w=Object.entries(r.effects);b<w.length;b++){var S=s()(w[b],2),x=S[0],O=S[1],E=z.b[x];E?O.hidden||("style"==E.type?g.push({effect:E,effectConfig:O}):"wrapper"==E.type&&v.push({effect:E,effectConfig:O})):console.log("Unknown effect",x)}for(var k={},C=0,j=g;C<j.length;C++){var P=j[C];k=P.effect.apply(r,k,P.effectConfig)}for(var A=f.a.createElement("div",{"data-id":r.id,className:"layer-wrapper",style:k,ref:l},f.a.createElement(h.component,o()({},r.config,{layer:r,assets:a,store:i,ElementRenderer:e}))),L=0,D=v;L<D.length;L++){var N=D[L];A=f.a.createElement(N.effect.component,o()({},N.effectConfig,{layer:r}),A)}return A}}),[e])},Y=function(e){var t,n=e.overlay,r=e.store,a=e.layer,o=e.index,i=e.animation,l=e.onLayerCreated,c=e.onLayerRemoved,p=e.ElementRenderer,d=Object(u.useRef)(),m=a.hidden||n.hidden;return t=i||function(e,t){var n=Object(u.useState)({phase:M.a.HIDDEN,state:B.a.PLAYING,offset:0}),r=s()(n,2),a=r[0],o=r[1];return Object(u.useEffect)((function(){if(e){var n=t[M.a.EXIT.key];if(n){var r=setTimeout((function(){o((function(e){return H(H({},e),{},{phase:M.a.HIDDEN})}))}),n);return o((function(e){return H(H({},e),{},{phase:M.a.EXIT})})),function(){clearTimeout(r)}}o((function(e){return H(H({},e),{},{phase:M.a.HIDDEN})}))}else o((function(e){return H(H({},e),{},{phase:M.a.ENTRY})}))}),[e,t]),a}(m,n.phases),Object(u.useEffect)((function(){if(l&&l(a,d.current),c)return function(){return c(a,d.current)}}),[]),Object(u.useEffect)((function(){for(var e=function(e,t){var n=R(e);return n.zIndex=1e3-t,n}(a,o),n=function(e){var t={};if(e)for(var n=function(){var e=s()(a[r],2),n=e[0],o=e[1];t[n]={delay:o.delay,duration:o.duration,keyframes:o.keyframes.map((function(e){return R(e,o.delay,o.duration)}))}},r=0,a=Object.entries(e);r<a.length;r++)n();return t}(a.animations),r=d.current,i=0,l=Object.entries(e);i<l.length;i++){var c=s()(l[i],2),u=c[0],f=c[1];r.style[u]=f}r.style.display=m?"none":"block";var p,h=V(r.getAnimations());try{for(h.s();!(p=h.n()).done;){p.value.cancel()}}catch(e){h.e(e)}finally{h.f()}var y=n[t.phase.key];if(y){var g=r.animate(y.keyframes,{delay:y.delay-t.offset,duration:y.duration+1});t.state==B.a.PAUSED?g.pause():g.play()}}),[m,n.phases,a,o,t]),f.a.createElement(p,{key:a.id,layer:a,assets:n.assets,store:r,wrapperRef:d})},Z=function e(t){var n,r=t.knockout,a=t.layers,i=t.childKnockout;return i&&(n=f.a.createElement(e,o()({key:"childKnockout"},i))),r?f.a.createElement("div",{className:"knockout-container",style:{clipPath:"url(#".concat(r.key,")")}},f.a.createElement(d,{id:r.key,knockoutPaths:[r.path]}),a,n):f.a.createElement(f.a.Fragment,null,a,n)};t.a=function(e){var t=e.overlay,n=e.elements,r=e.zIndex,a=void 0===r?1e4:r,o=e.hidden,i=void 0!==o&&o,l=e.animation,c=e.ElementRenderer,s=e.executeScripts,p=e.onLayerCreated,d=e.onLayerRemoved;void 0===c&&(c=K(n)),void 0===s&&(s=!i);var m=t.id||"default",h=Object(u.useRef)(),y=F();Object(u.useEffect)((function(){if(s)return y.actions.RunScript(t),function(){y.actions.ResetScript()}}),[s]);var g,v=y.state.scriptState?y.state.scriptState.overlay:t,b={layers:[]},w=b,S=0,x=V(v.layers);try{var O=function(){var e=g.value;"knockout"==e.elementName&&(w.childKnockout={knockout:y.state.knockouts.find((function(t){return t.key==e.id})),layers:[]},w=w.childKnockout),w.layers.push(f.a.createElement(Y,{key:e.id,overlayId:m,overlay:v,store:y,layer:e,index:S,animation:l,ElementRenderer:c,onLayerCreated:p,onLayerRemoved:d})),S++};for(x.s();!(g=x.n()).done;)O()}catch(e){x.e(e)}finally{x.f()}return f.a.createElement("div",{className:"overlay","data-overlayid":m,ref:h,style:{zIndex:a}},f.a.createElement(Z,b))}},286:function(e,t,n){var r=n(287);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},287:function(e,t,n){(t=n(29)(!1)).push([e.i,".move-and-resize-tool { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: visible; z-index: 10001; }\r\n.move-and-resize-tool .resizer-selector { position: relative; display: inline-block; }\r\n.move-and-resize-tool .resize-handle { position: absolute; }\r\n.move-and-resize-tool .resize-handle-center { cursor: move; top: 0; left: 0; bottom: 0; right: 0; z-index: 2; }\r\n.move-and-resize-tool .resize-handle-nw { cursor: nw-resize; border-top: 1px solid Gray; border-left: 1px solid gray; top: -10px; left: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-n { cursor: ns-resize; top: -10px; left: 0; right: 0; height: 10px; }\r\n.move-and-resize-tool .resize-handle-ne { cursor: ne-resize; border-top: 1px solid Gray; border-right: 1px solid gray; top: -10px; right: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-e { cursor: ew-resize; top: 0; right: -10px; bottom: 0; width: 10px; }\r\n.move-and-resize-tool .resize-handle-se { cursor: se-resize; border-bottom: 1px solid Gray; border-right: 1px solid gray; bottom: -10px; right: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-s { cursor: ns-resize; bottom: -10px; left: 0; right: 0; height: 10px; }\r\n.move-and-resize-tool .resize-handle-sw { cursor: sw-resize; border-bottom: 1px solid Gray; border-left: 1px solid gray; bottom: -10px; left: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-w { cursor: ew-resize; top: 0; left: -10px; bottom: 0; width: 10px; }\r\n.move-and-resize-tool .resizer-subrect { position: absolute; border: 1px dashed #333; z-index: 1; }\r\n.move-and-resize-tool .resizer-selector-box { position: absolute; border: 1px dashed #ddd; z-index: 1; }",""]),e.exports=t},288:function(e,t,n){var r=n(289);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},289:function(e,t,n){(t=n(29)(!1)).push([e.i,'.animation-tool { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: visible; z-index: 10001; }\r\n\r\n.animation-tool > .animation-panel { position: absolute; left: 20px; bottom: 20px; right: 20px; height: 200px; border: 1px solid #ffffff20; z-index: 10002; overflow: hidden; }\r\n\r\n/* .scrubber-height and layer-height used for both layer handles on the left and the timeline on the right */\r\n.animation-tool > .animation-panel .scrubber-height { height: 15px; }\r\n.animation-tool > .animation-panel .layer-height { height: 30px; }\r\n\r\n.animation-tool > .animation-panel .phase-layers { height: 100%; display: flex; flex-direction: column; }\r\n\r\n.animation-tool > .animation-panel .phase-header { flex: 0 0 40px; padding: 0 5px; background: #00000020; display:flex; align-items: center; justify-content: space-between; }\r\n.animation-tool > .animation-panel .phase-header .timing { width: 200px; }\r\n.animation-tool > .animation-panel .phase-header .timing .bp3-control-group { align-items: center; }\r\n.animation-tool > .animation-panel .phase-header .timing .bp3-control-group .bp3-tag { margin: 3px; }\r\n.animation-tool > .animation-panel .phase-header .timing .bp3-control-group .bp3-input { height: 25px; }\r\n\r\n.animation-tool > .animation-panel .scrubber-row { flex: 0 0 15px; margin-left: 200px; background: #00000080; }\r\n.animation-tool > .animation-panel .scrubber-row > .scrubber { flex: 1 1 auto; display: flex; position: relative; background: linear-gradient(#ffffff00, #ffffff20); font-size: 0.8em; margin-right: 1px; }\r\n.animation-tool > .animation-panel .scrubber-row > .scrubber:last-child { margin-right: 0; }\r\n.animation-tool > .animation-panel .scrubber-row > .scrubber .caret { position: absolute; top: 0; border-left: 2px solid #FFFFFF20; height: 100vh; }\r\n.animation-tool > .animation-panel .scrubber-row > .scrubber .caret .bp3-icon { margin-left: -9px; }\r\n.animation-tool > .animation-panel .scrubber-row > .scrubber label { flex: 1 1 auto; text-align: right; border-left: 1px solid #ffffff20; padding: 0 3px; }\r\n\r\n.animation-tool > .animation-panel .scroll-body { flex: 1 1 auto; overflow-x: hidden; overflow-y: auto; display: flex; height: 100%; }\r\n.animation-tool > .animation-panel .scroll-body > .layer-handles { flex: 0 0 auto; width: 200px; }\r\n.animation-tool > .animation-panel .scroll-body > .layer-handles .layer-name { padding: 3px; display: flex; }\r\n.animation-tool > .animation-panel .scroll-body > .layer-handles .layer-name .ellipsis .bp3-button-text { overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline { flex: 1 1 auto; border-left: 1px solid #ffffff20; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline .scrubber label:first-child { border-left: 0; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer { position: relative; width: 100%; overflow: hidden; border-bottom: 1px solid #ffffff20; background: #00000020; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer[editing="true"] { background: #FFFFFF20; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer > .keyframe-handle { position: absolute; top: 0; height: 100%; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer > .keyframe-handle::before { content: ""; position: absolute; top: 10px; width: 100%; height: 8px; background: #00a2ff40; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer > .keyframe-handle .bp3-icon { position: absolute; top: 6px; right: -7px; z-index: 2; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer:not([editing="true"]) > .keyframe-handle:hover::before,\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer > .keyframe-handle.selected::before { background: #00a2ff; }\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer:not([editing="true"]) > .keyframe-handle:hover .bp3-icon,\r\n.animation-tool > .animation-panel .scroll-body > .phase-timeline > .phase-layer > .keyframe-handle.selected .bp3-icon { transform: scale(1.5); }\r\n\r\n',""]),e.exports=t},290:function(e,t,n){var r=n(291);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},291:function(e,t,n){(t=n(29)(!1)).push([e.i,".size-and-position-capture-tool { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: visible; z-index: 10001; cursor: crosshair; }\r\n.size-and-position-capture-tool .selector-box { position: absolute; border: 1px dashed #ddd; z-index: 1; }",""]),e.exports=t},292:function(e,t,n){var r=n(293);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},293:function(e,t,n){(t=n(29)(!1)).push([e.i,'.layer-list { height: 100%; display: flex; flex-direction: column; }\r\n.layer-list > .layer-list-layers { margin: 0px 1px 5px 5px; overflow-y: auto; }\r\n.layer-list > .layer-list-layers > .layer { background: #ffffff10; }\r\n.layer-list > .layer-list-layers > .layer[isselected="true"] { background: #137cbd80; }\r\n.layer-list > .layer-list-layers > .layer > .effect { font-size: 0.9em !important; padding-left: 20px; background: #00000020; }\r\n.layer-list > .layer-list-layers > .layer > .effect .bp3-button { font-size: inherit; min-height: 20px; }\r\n.layer-list > .layer-list-layers > .layer > .effect .label { flex: 1 1 100%; align-self: center; padding: 0 5px; }\r\n.layer-label { display: flex; justify-content: space-between; align-items: center; }\r\n.layer-label .buttons { display: flex; }\r\n.layer-label .buttons a { padding: 0; min-height: 20px; min-width: 20px; margin-left: 5px; }\r\n.layer-label .buttons a.hideable { display: none; }\r\n.layer-label:hover .buttons a.hideable { display: block; }\r\n.layer-label .buttons .bp3-editable-text:hover { cursor: default; }\r\n.layer-label .buttons .bp3-editable-text:hover::before { content: none; }\r\n.layer-label .buttons a .bp3-icon:first-child:last-child, .layer-label a .bp3-spinner + .bp3-icon:last-child { margin: 2px; }\r\n',""]),e.exports=t},294:function(e,t,n){var r=n(295);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},295:function(e,t,n){(t=n(29)(!1)).push([e.i,".stage-container {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    line-height: normal;\r\n    z-index: 1;\r\n    background: #111 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIBJREFUeNq01EsKwCAMBFBNV73/YUsLJU2ggkj90MwMzE4eEoxZVdObbN2tW1rLZT1HB4QFF5wCF5wCuyks2C8tLNjHLSy4fi1weIaH4BEehns4BP7CYXCLQ+Eah8MFp8AWzdWXC4Wth7Bg6y0seGX9f8MzPASP8DDcwyGw5xFgACKHOSst2JgZAAAAAElFTkSuQmCC');\r\n}\r\n.stage-container .stage { flex: 0 0 auto; position: relative; overflow: visible;  z-index: 1; background-size: contain; background-position: center center; background-repeat: no-repeat; }\r\n.stage-container .stage > * { height: 100%; width: 100%; background: rgba(0, 0, 0, 0.5); }\r\n.stage-container .stage-view-container { position: absolute; top: 10px; right: 10px; z-index: 10002; display: flex; }",""]),e.exports=t},296:function(e,t,n){var r=n(297);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},297:function(e,t,n){(t=n(29)(!1)).push([e.i,".script-wrapper { display: flex; flex-direction: row; }\r\n.script-wrapper .editor { flex: 1 1 auto; margin: 5px; background: #ffffff10; }\r\n.script-wrapper .button-bar { margin: 0 5px; display: flex; flex-direction: row; justify-content: space-between; }\r\n.script-wrapper .button-bar button { }",""]),e.exports=t},38:function(e,t,n){var r=n(39);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},39:function(e,t,n){(t=n(29)(!1)).push([e.i,".knockout-wrapper { position: absolute; width: 100%; height: 100%; }\r\n.overlay { animation-delay: 0; animation-play-state: running; }\r\n.overlay * { animation-delay: inherit; animation-play-state: inherit; }\r\n.layer-positioner { position: absolute; transform-style: preserve-3d; }\r\n.layer-wrapper { position: absolute; transform-style: preserve-3d; }\r\n.layer-style { width: 100%; height: 100%; box-sizing: content-box; display: flex; white-space: pre; box-sizing: border-box; }",""]),e.exports=t},461:function(e,t,n){var r=n(462);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},462:function(e,t,n){(t=n(29)(!1)).push([e.i,"/*# sourceURL=FontStyleEditor.css*/\r\n.font-style-editor {  }\r\n.font-style-editor .button-row-2 > * { flex-basis: 16.66666666666667 !important; margin: 1px 0; }\r\n.font-style-editor .font-family { width: 50%; }\r\n.font-style-editor .font-size { width: 33.3333333%; }\r\n.font-style-editor .font-color { width: 16.6666666%; }\r\n.font-style-editor .font-color .bp3-popover-target { width: 100%; border-left: 1px solid #000; }\r\n.font-style-editor .font-color button { width: 100%; }\r\n.font-style-editor .text-wrap { flex: 0 0 50% !important; margin: 8px 1px 3px 0; }\r\n\r\n.font-style-editor .border-input { display: flex; flex-direction: row; justify-content: flex-start; align-items: stretch; height: 100%; }\r\n.font-style-editor .border-input input[type='color'] { width: 2em !important; height: 2em; margin-right: 0.1em; }\r\n.font-style-editor .border-input select { width: 10em !important; margin-right: 0.1em; }\r\n.font-style-editor .border-input input[type='text'] { width: 5em !important; margin-right: 0.1em; }",""]),e.exports=t},463:function(e,t,n){var r=n(464);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},464:function(e,t,n){(t=n(29)(!1)).push([e.i,".configuration-form { display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-between; overflow: hidden; }\r\n\r\n.configuration-form > .group { margin: 3px 14px 4px 10px; }\r\n.configuration-form > .group > label { margin-bottom: 5px; }\r\n.configuration-form > .group > .group-items { display: flex; flex-direction: row; }\r\n.configuration-form > .group > .group-items > .group-item { display: flex; flex-direction: row; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group { margin: 1px 0 2px 0 !important; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group label { padding: 0 8px 0 0px !important; margin: 0; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group .bp3-form-content { margin: 0; padding: 0 2px 0 2px !important; }\r\n\r\n.configuration-form > .bp3-form-group { flex: 1 1 100%; margin-bottom: 10px; margin: 3px 14px 4px 10px !important; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-label { flex-basis: 30%; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-form-content { flex-basis: 70%; }\r\n\r\n/* hide chrome number arrows */\r\n.configuration-form input::-webkit-outer-spin-button,\r\n.configuration-form input::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n/* Firefox */\r\n.configuration-form input[type=number] { -moz-appearance: textfield; }\r\n\r\n/* not sure where else to put this, but i know it doesn't belong here */\r\n.group.size-and-position { margin: 0; }\r\n.group.size-and-position .group-item .bp3-label { flex: 0 0 45%; font-size: 0.9em; text-align: right; }\r\n.group.size-and-position .group-item .bp3-form-content { flex: 0 0 55%; }",""]),e.exports=t},465:function(e,t,n){var r=n(466);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},466:function(e,t,n){(t=n(29)(!1)).push([e.i,".collapsible-panel { }\r\n.collapsible-panel > .panel-header { display: flex; align-items: center; background: #00000020; padding: 3px; cursor: pointer; }\r\n.collapsible-panel > .panel-header:hover { background: #ffffff10; }\r\n.collapsible-panel > .panel-header > .bp3-icon { padding: 4px; }\r\n.collapsible-panel > .panel-header > label { flex: 1 1 auto; cursor: inherit; }\r\n.collapsible-panel > .panel-header > .bp3-button { padding: 4px 10px; min-height: 20px; min-width: 20px; }",""]),e.exports=t},467:function(e,t,n){var r=n(468);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},468:function(e,t,n){(t=n(29)(!1)).push([e.i,".layer-config-panel { padding: 5px 0; }\r\n\r\n.layer-config-panel .effect-item { background: rgba(0,0,0,0.1);}\r\n.layer-config-panel .effect-item > .effect-name { background: rgba(0,0,0,0.2); padding: 5px; display: flex; justify-content: space-between; align-items: center; }\r\n.layer-config-panel .effect-item > .effect-name .buttons { display: flex; }\r\n.layer-config-panel .effect-item > .effect-name > .buttons > a { min-height: 20px; min-width: 20px; }\r\n.layer-config-panel .effect-item > .configuration-form { margin: 5px 5px 0 5px; }\r\n.layer-config-panel .effect-item > .configuration-form > .bp3-form-group { margin-bottom: 5px; }\r\n.layer-config-panel .btn-add-effect { background: rgba(0,0,0,0.3) !important; }\r\n\r\n.effect-panel { padding: 5px; background: rgba(0,0,0,0.3); }",""]),e.exports=t},469:function(e,t,n){var r=n(470);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},470:function(e,t,n){(t=n(29)(!1)).push([e.i,".resizable { flex-shrink: 0; flex-grow: 0; }\r\n.resize-bar {  position: relative; overflow: visible; }\r\n.resize-bar .inner { position: absolute; top: 0; left: 0; height: 100%; border:0px solid #44505A; z-index: 11; }\r\n.resize-bar.top .inner { height: 4px; margin-top: -4px;cursor: ns-resize; border-bottom-width: 1px; width: 100%; }\r\n.resize-bar.bottom .inner { height: 4px; cursor: ns-resize; border-top-width: 1px; width: 100%; }\r\n.resize-bar.left .inner { width: 4px; margin-left: -4px; cursor: ew-resize; border-right-width: 1px; }\r\n.resize-bar.right .inner { width: 4px; cursor: ew-resize; border-left-width: 1px; }",""]),e.exports=t},471:function(e,t,n){var r=n(472);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},472:function(e,t,n){(t=n(29)(!1)).push([e.i,"\r\n.panel-bg { background: #293742; }\r\n\r\n.app-wrapper { width: 100%; height: 100%; display: flex; flex-direction: column; overflow: hidden; user-select: none; position: relative; }\r\n.app-wrapper ::-webkit-scrollbar { width: 10px; background: rgba(0,0,0,0.5); }\r\n.app-wrapper ::-webkit-scrollbar-thumb { width: 10px; background: #137cbd; }\r\n\r\n.app-wrapper .script-wrapper {  }\r\n\r\n.app-wrapper .app-toaster { position: absolute !important; }\r\n.app-wrapper .center-wrapper { flex: 1 1 auto; display: flex; flex-direction: row; overflow: hidden; }\r\n.app-wrapper .bottom-bar { padding: 5px 0; flex: 0 0 auto; overflow: hidden; display: flex; flex-direction: column; height: 100%; }\r\n.app-wrapper .bottom-bar .center-buttons { display: flex; flex-direction: row; justify-content: center; margin: 5px 0; }\r\n.app-wrapper .bottom-bar .center-buttons > * { margin-right: 5px; }\r\n.app-wrapper .bottom-bar .center-buttons > *:last-child { margin-right: 0; }\r\n.app-wrapper .bottom-bar .bottom-tabs .bp3-tab-panel { margin-top: 5px; }\r\n.app-wrapper .leftpanel-wrapper {  z-index: 3; height: 100%; display: flex; flex-direction: column; }\r\n.app-wrapper .layer-list-wrapper { flex: 1 1 auto; height: 100%; overflow: hidden; }\r\n.app-wrapper .stage-wrapper { flex: 1 1 auto; position: relative; }\r\n.app-wrapper .rightpanel-wrapper { z-index: 3; height: 100%; display: flex; flex-direction: column; justify-content: flex-start; overflow-y: auto; overflow-x: hidden; }\r\n\r\n\r\n.app-wrapper .stage-wrapper .toolbar-wrapper { margin-top: -30px; width: 100%; display: flex; justify-content: center; }\r\n.app-wrapper .stage-wrapper .toolbar-wrapper > * { margin-top: 30px; z-index: 2; height: 30px; }\r\n\r\n\r\n.app-wrapper .animations-toggle { position: relative; overflow: visible; }\r\n.app-wrapper .animations-toggle .inner { position: absolute; left: 0; bottom: 0; width: 100%; display: flex; justify-content: center; z-index:10; height: 0; }\r\n.app-wrapper .animations-toggle .inner .bp3-button { margin-top: -2.5em; }\r\n\r\n\r\n/* disable focus outlines */\r\n.app-wrapper *:focus { outline: none; }",""]),e.exports=t},474:function(e,t,n){var r=n(475);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(30)(r,a);r.locals&&(e.exports=r.locals)},475:function(e,t,n){(t=n(29)(!1)).push([e.i,".main-toolbar .bp3-button-group { border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; background: #000; margin-right: 10px; }\r\n.main-toolbar .bp3-button-group:last-child { margin-right: 0; }\r\n.main-toolbar .bp3-button { border-top-left-radius: 0 !important; border-top-right-radius: 0 !important; }",""]),e.exports=t},479:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(3),i=n.n(o),l=n(0),c=n.n(l),s=n(62),u=n(76),f=n.n(u),p=n(77),d=n.n(p),m=n(69),h=n.n(m),y=n(78),g=n.n(y),v=n(79),b=n.n(v),w=n(80),S=n.n(w);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var O=function(e){g()(n,e);var t=x(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),i()(h()(e),"onKeyDown",(function(e){e.stopPropagation()})),e}return d()(n,[{key:"render",value:function(){return c.a.createElement("span",{onKeyDown:this.onKeyDown},this.props.isEditing?c.a.createElement(s.EditableText,this.props):this.props.value)}}]),n}(c.a.Component),E="overlayjs/layer",k=function(e,t){return!(!e.dataTransfer.types||0==e.dataTransfer.types.length)&&e.dataTransfer.types.includes(t)},C=n(6),j=n.n(C),P=n(122),A=n.n(P),L=n(285),D=n.n(L),N=n(12),T=n.n(N),F=n(20),I=n.n(F),R=n(21),z=n.n(R),M=n(1),B=n.n(M),V=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9\-]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i,U=[{match:function(e){return e.match(/image/i)},getLayer:function(e){return{elementName:"image",config:{url:e}}}},{match:function(e,t){return e.match(/video/i)||e.match(/text\/html/i)&&t&&t.match(V)},getLayer:function(e){return{elementName:"video",config:{url:e}}}},{match:function(e){return e.match(/audio/i)},getLayer:function(e){return{elementName:"audio",config:{url:e}}}},{match:function(e){return e.match(/text\/javascript/i)},getLayer:function(e){return{elementName:"script",config:{url:e}}}},{match:function(e){return e.match(/text\/html/i)},getLayer:function(e){var t=e.match(V);return t?{elementName:"youtube",config:{url:e,start:t[2]}}:{elementName:"iframe",config:{url:e}}}}];function G(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Y=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r=[];return{_state:n,select:function(e){return e.map((function(e){return e(n)}))},subscribe:function(e){r.push(e)},unsubscribe:function(e){r=r.filter((function(t){return t!=e}))},dispatch:function e(a,o){var i=t[a];if(i){var l=i(n,o);if(l)if("function"!=typeof l){n=Object.assign(n,l);var c,s=G(r);try{for(s.s();!(c=s.n()).done;){(0,c.value)()}}catch(e){s.e(e)}finally{s.f()}}else l(e)}else console.log("Unknown reducer method:"+a)}}},Z=n(17),W=n(8),_=n(7),X=n(9),J=n(11),$=function(e,t){return 1-3*t+3*e},q=function(e,t){return 3*t-6*e},Q=function(e){return 3*e};function ee(e,t,n){return(($(t,n)*e+q(t,n))*e+Q(t))*e}function te(e,t,n){return 3*$(t,n)*e*e+2*q(t,n)*e+Q(t)}var ne=function(e,t,n,r){var a,o=e===t&&n===r;if(!o){a=new Float32Array(11);for(var i=0;i<11;++i)a[i]=ee(.1*i,e,n)}var l=function(t){for(var r=0,o=1;10!==o&&a[o]<=t;++o)r+=.1;--o;var i=r+.1*((t-a[o])/(a[o+1]-a[o])),l=te(i,e,n);return l>=.001?function(e,t,n,r){for(var a=0;a<4;++a){var o=te(t,n,r);if(0===o)return t;t-=(ee(t,n,r)-e)/o}return t}(t,i,e,n):0===l?i:function(e,t,n,r,a){var o,i,l=0;do{(o=ee(i=t+(n-t)/2,r,a)-e)>0?n=i:t=i}while(Math.abs(o)>1e-7&&++l<10);return i}(t,r,r+.1,e,n)};return function(e){return o?e:0===e?0:1===e?1:ee(l(e),t,r)}};ne(.25,.1,.25,1),ne(0,0,.58,1),ne(.42,0,1,1),ne(.42,0,.58,1);function re(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=c.a.createContext();function ie(e,t,n,r){if(!r||n.phase==_.a.STATIC)return function(e,t){var n,r={},a=re(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;r[o]=t?t[o]:null}}catch(e){a.e(e)}finally{a.f()}return r}(e,t.styles);var a,o=t.animations?t.animations[n.phase.key]:null,i=o?o.keyframes.find((function(e){return e.offset==n.offset})):null,l=getComputedStyle(r.domElement),c={},s=re(e);try{for(s.s();!(a=s.n()).done;){var u=a.value,f=t.styles[u],p=X.a[u],d=i?i.styles[u]:null;c[u]=f?d||p.extract(l):null}}catch(e){s.e(e)}finally{s.f()}return c}function le(){var e=tt((function(e){return e.overlay.layers}),(function(e){return e.layerDomElements}),(function(e){return e.elements}),(function(e){return e.animation})),t=a()(e,2),n=a()(t[0],4),r=n[0],o=n[1],i=n[2],l=n[3];t[1];return r.map((function(e){var t=i[e.elementName],n=o.find((function(t){return t.id==e.id})),r=ie(t.manifest.allowedStyles,e,l,n);return{layer:e,element:t,styles:r}}))}var ce=function(e){return c.a.createElement(oe.Provider,j()({value:le()},e))};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de={},me=c.a.createContext();function he(){var e,t=Object(l.useContext)(oe),n=tt((function(e){return e.selectedLayerIds})),r=a()(n,2),o=a()(r[0],1)[0],i=(r[1],[]),c=de,s=de,u=de,f=de,p=fe(t);try{for(p.s();!(e=p.n()).done;){var d=e.value,m=d.layer,h=d.element,y=d.styles;if(o.includes(m.id)){if(y.rect&&i.push(ue({id:m.id},y.rect)),s==de?s={element:h,elementName:m.elementName,config:m.config}:s&&s.elementName!=m.elementName&&(s=null),f==de)f=ue({},y);else for(var g=Object.keys(f),v=Object.keys(y),b=0,w=g;b<w.length;b++){var S=w[b];v.includes(S)||delete f[S]}if(u==de)u=m.effects?ue({},m.effects):{};else if(m.effects)for(var x=0,O=Object.entries(Z.b);x<O.length;x++){var E=a()(O[x],2),k=E[0],C=(E[1],m.effects[k]);C||delete u[C]}else u={};if(c==de)c=y.rect?{top:y.rect.top,left:y.rect.left,bottom:y.rect.top+y.rect.height,right:y.rect.left+y.rect.width}:null;else if(null!=c){y.rect.top<c.top&&(c.top=y.rect.top),y.rect.left<c.left&&(c.left=y.rect.left);var j=y.rect.top+y.rect.height;j>c.bottom&&(c.bottom=j);var P=y.rect.left+y.rect.width;P>c.right&&(c.right=P)}}}}catch(e){p.e(e)}finally{p.f()}return c!=de?null!=c&&(c.height=c.bottom-c.top,c.width=c.right-c.left):c=null,s==de&&(s=null),f=f!=de?Object.entries(f).map((function(e){var t=a()(e,2),n=t[0];return{name:n,config:t[1],style:X.a[n]}})):null,{selectedLayerIds:o,selectedRects:i,interpolatedLayers:t,boundingBox:c,mergedElement:s,mergedEffects:u=u!=de?Object.entries(u).map((function(e){var t=a()(e,2),n=t[0];return{name:n,config:t[1],effect:Z.b[n]}})):null,mergedStyles:f}}var ye=function(e){return c.a.createElement(me.Provider,j()({value:he()},e))},ge=function(){return Object(l.useContext)(me)};n(286);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe={top:!0,left:!0,bottom:!0,right:!0},Oe={top:!1,left:!1,bottom:!1,right:!1},Ee=function(){var e=tt((function(e){return e.stageTransform})),t=a()(e,2),n=a()(t[0],1)[0],r=t[1],o=ge(),i=o.interpolatedLayers,s=o.selectedLayerIds,u=o.selectedRects,f=o.boundingBox,p=Object(l.useRef)(),d=Object(l.useState)(),m=a()(d,2),h=m[0],y=m[1],g=Object(l.useRef)();Object(l.useEffect)((function(){g.current={interpolatedLayers:i,selectedLayerIds:s,selectedRects:u,boundingBox:f,stageTransform:n}}),[g,i,s,u,f,n]);var v=Object(l.useCallback)((function(e,t){var n=g.current,r=n.selectedLayerIds,a=n.interpolatedLayers,o=e.left,i=e.top,l=e.width,c=e.height,s=e.left+e.width,u=e.top+e.height;if(0==l||0==c){var f=a.filter((function(e){var t=e.styles.rect;return!!t&&(i>t.top&&o>t.left&&i<t.top+t.height&&o<t.left+t.width)})).map((function(e){return e.layer.id}));if(0==f.length)return[];if(0==r.length)return[f[0]];if(t)return r.includes(f[0])?r.filter((function(e){return e!=f[0]})):[].concat(B()(r),[f[0]]);var p=f.findIndex((function(e){return r.includes(e)}));return-1==p?[f[0]]:(p=(p+1)%f.length,[f[p]])}var d=a.filter((function(e){var t=e.styles.rect;return!!t&&(i<t.top&&o<t.left&&u>t.top+t.height&&s>t.left+t.width)})).map((function(e){return e.layer.id}));if(t){var m,h=B()(r),y=we(d);try{for(y.s();!(m=y.n()).done;){var v=m.value;h.contains(v)||h.push(v)}}catch(e){y.e(e)}finally{y.f()}return h}return d}),[]),b=Object(l.useCallback)((function(e){if(1==e.buttons){var t,n,a=g.current,o=p.current.getBoundingClientRect(),i=be({},a.boundingBox),l=a.selectedRects?B()(a.selectedRects):[],c=function(e){return Object(W.a)(o,a.stageTransform,e)},s=function(e,t){var n=e.width/i.width,a=e.height/i.height;r("UpdateSelectedLayersStyles",{styleName:"rect",config:function(t,r){var o=l.find((function(e){return e.id==r.id}));return{top:e.top+(o.top-i.top)*a,left:e.left+(o.left-i.left)*n,width:o.width*n,height:o.height*a}},createUndoHistory:t})},u=e.target.getAttribute("data-edge"),f={top:e.clientY-o.top,left:e.clientX-o.left,height:0,width:0};p.current.style.cursor=e.target.getAttribute("data-cursor"),t=u?"center"==u?xe:{top:"nw"==u||"n"==u||"ne"==u,left:"nw"==u||"w"==u||"sw"==u,right:"ne"==u||"e"==u||"se"==u,bottom:"sw"==u||"s"==u||"se"==u}:Oe;var d=n=u?Object(W.f)(o,a.stageTransform,{top:a.boundingBox.top,left:a.boundingBox.left,height:a.boundingBox.height,width:a.boundingBox.width}):{top:f.top,left:f.left,height:0,width:0},m=function(e){var r=e.clientY-o.top,i=e.clientX-o.left-f.left,l=r-f.top,u=be({},n);if(t==Oe)l<0&&(u.top=f.top+l,l*=-1),i<0&&(u.left=f.left+i,i*=-1),u.height=l,u.width=i;else if(t==xe)e.ctrlKey?Math.abs(i/l)>1?u.left+=i:u.top+=l:(u.left+=i,u.top+=l);else{var p,m=-u.height/u.width,h=e.ctrlKey?!a.boundingBox.preserveAspect:a.boundingBox.preserveAspect;if((t.top||t.bottom)&&(t.left||t.right)&&h)p=t.bottom?t.left?(-u.height-l)/(u.width-i):(-u.height-l)/(-u.width-i):t.left?(u.height-l)/(u.width-i):(u.height-l)/(-u.width-i),t.top&&t.left||t.bottom&&t.right?p<-m?l=i*-m:i=l/-m:p>m?l=i*m:i=l/m;t.top&&(u.height-l<0?(u.top=u.top+u.height-1,u.height=1):(u.top+=l,u.height=u.height-l)),t.bottom&&(u.height=Math.max(1,u.height+l)),t.left&&(u.width-i<0?(u.left=u.left+u.width,u.width=1):(u.left+=i,u.width=u.width-i)),t.right&&(u.width=Math.max(1,u.width+i))}if(d=u,t!=Oe){var g=c(u);s(g,!1)}else y(u)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",(function e(a){if(p.current.style.cursor="",window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",e),d==n){var o=v(c(f),a.ctrlKey);r("SelectLayers",o)}else if(t==Oe){var i=v(c(d),a.ctrlKey);r("SelectLayers",i),y(null)}else s(c(d),!0)}))}}),[]),w=[];if(p.current){h&&w.push(c.a.createElement("div",{className:"resizer-selector-box",style:h,key:"-2"}));var S=p.current.getBoundingClientRect();if(f){var x=Object(W.f)(S,n,f),O={top:x.top+"px",left:x.left+"px",width:x.width+"px",height:x.height+"px"};w.push(c.a.createElement("div",{className:"resizer-selector",style:O,key:"-1"},c.a.createElement("div",{className:"resize-handle resize-handle-nw","data-edge":"nw"}),c.a.createElement("div",{className:"resize-handle resize-handle-n","data-edge":"n"}),c.a.createElement("div",{className:"resize-handle resize-handle-ne","data-edge":"ne"}),c.a.createElement("div",{className:"resize-handle resize-handle-e","data-edge":"e"}),c.a.createElement("div",{className:"resize-handle resize-handle-se","data-edge":"se"}),c.a.createElement("div",{className:"resize-handle resize-handle-s","data-edge":"s"}),c.a.createElement("div",{className:"resize-handle resize-handle-sw","data-edge":"sw"}),c.a.createElement("div",{className:"resize-handle resize-handle-w","data-edge":"w"}),c.a.createElement("div",{className:"resize-handle resize-handle-center","data-edge":"center"})))}if(u&&u.length>0){var E,k=we(u);try{for(k.s();!(E=k.n()).done;){var C=E.value,j=Object(W.f)(S,n,C),P={top:j.top+"px",left:j.left+"px",width:j.width+"px",height:j.height+"px"};w.push(c.a.createElement("div",{className:"resizer-subrect",style:P,key:C.id}))}}catch(e){k.e(e)}finally{k.f()}}}return c.a.createElement("div",{className:"move-and-resize-tool",onMouseDown:b,ref:p},w)};n(288);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae={isStartEnd:!0,offset:0},Le={isStartEnd:!0,offset:1},De=function(e){var t=e.keyframe,n=e.offset,r=e.prevOffset,a=e.onMouseDown,o=Object(l.useCallback)((function(e){if(1==(1&e.buttons)&&a){var n=e.target.classList.contains("keyframe-handle");a(e,t,n)}}),[a,t]);return c.a.createElement("div",{className:"keyframe-handle",style:{left:100*r+"%",width:100*(n-r)+"%"},onMouseDown:o},c.a.createElement(s.Icon,{icon:t.isStartEnd?"symbol-square":"symbol-diamond"}))},Ne=function(e){var t=e.duration,n=e.animationOffsetMs,r=e.animationIsPlaying,a=e.onChangeOffset,o=e.onGetClipOffsets,i=Object(l.useRef)(),u=Object(l.useRef)(),f=Object(l.useCallback)((function(e){var n=i.current.getBoundingClientRect(),r=o(),l=.01*t,c=function(e){return Math.max(0,Math.min(1,(e.clientX-n.left)/n.width))*t};a(c(e));var s=function(e){var t=c(e);if(!e.ctrlKey){var n,o=je(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(Math.abs(i-t)<l){t=i;break}}}catch(e){o.e(e)}finally{o.f()}}a(t)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",(function e(t){window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",e)}))}),[t,o]);Object(l.useEffect)((function(){var e,a=je(u.current.getAnimations());try{for(a.s();!(e=a.n()).done;){e.value.cancel()}}catch(e){a.e(e)}finally{a.f()}var o=u.current.animate([{offset:0,left:0},{offset:1,left:"100%"}],{delay:1-n,duration:t});r?o.play():o.pause()}),[n,r]);var p=Object(l.useMemo)((function(){for(var e=Math.pow(10,parseInt(Math.log10(t))),n=[],r=0;r<t;){var a=r+e>t?t-r:e;r+=a;var o=a/t*100;n.push(c.a.createElement("label",{key:r,style:{width:o+"%"}},r,"ms"))}return n}),[t]);return c.a.createElement("div",{className:"scrubber",onMouseDown:f,ref:i},c.a.createElement("div",{className:"caret",ref:u},c.a.createElement(s.Icon,{icon:"caret-down"})),p)},Te=function(e){var t=e.phaseKey,n=e.phaseDuration,r=e.layer,o=e.dispatch,i=Object(l.useState)(),s=a()(i,2),u=s[0],f=s[1],p=r.animations?r.animations[t]:null,d=Object(l.useCallback)((function(e,a,i){var l=i?e.target:e.target.closest(".keyframe-handle");l.classList.add("selected");var c=e.ctrlKey,s=e.target.closest(".phase-layer").getBoundingClientRect(),u=e.clientX,d=null,m=function(e){var t,r,o,l=(e.clientX-u)/s.width,m=l*n;if(i)t=Math.min(n-p.duration,Math.max(0,p.delay+m));else if(0!=a.offset||c)if(1!=a.offset||c){var h,y=Math.min(1,Math.max(0,a.offset+l/(p.duration/n)));o=p.keyframes.map((function(e,t){return e!=a?e:((t>0&&p.keyframes[t-1].offset>y||t<p.keyframes.length-1&&p.keyframes[t+1].offset<y)&&(h=!0),Ce(Ce({},e),{},{offset:y}))})),h&&(o=o.sort((function(e,t){return e.offset-t.offset})))}else r=Math.min(n-p.delay,Math.max(1,p.duration+m));else t=Math.min(p.delay+p.duration-1,Math.max(0,p.delay+m)),r=p.duration-(t-p.delay);d={delay:null!=t?t:p.delay,duration:null!=r?r:p.duration,keyframes:null!=o?o:p.keyframes},f(d)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",(function e(){d&&o("SetLayerAnimation",{id:r.id,phase:t,animation:d}),l.classList.remove("selected"),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",e),f(null)}))}),[p,n]),m=u||p,h=[];if(m&&m.keyframes.length>0){var y=m.delay/n;0!=m.keyframes[0].offset&&h.push(c.a.createElement(De,{key:"start",keyframe:Ae,offset:y,prevOffset:y,onMouseDown:d})),m.keyframes.forEach((function(e,t){var r=(m.delay+e.offset*m.duration)/n;h.push(c.a.createElement(De,{key:e.offset,keyframe:e,offset:r,prevOffset:y,onMouseDown:d})),y=r})),1!=m.keyframes[m.keyframes.length-1].offset&&h.push(c.a.createElement(De,{key:"end",keyframe:Le,offset:(m.delay+m.duration)/n,prevOffset:y,onMouseDown:d}))}return c.a.createElement("div",{className:"layer-height phase-layer",editing:(null!=u).toString()},h)},Fe=function(e){var t=tt((function(e){return e.overlay.layers}),(function(e){return e.animation})),n=a()(t,2),r=a()(n[0],2),o=r[0],i=r[1],u=n[1],f=Object(l.useState)((function(){var e,t=500,n=je(o);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.animations){var a=r.animations[i.phase.key];a&&a.delay+a.duration>t&&(t=a.delay+a.duration)}}}catch(e){n.e(e)}finally{n.f()}return t})),p=a()(f,2),d=p[0],m=p[1],h=Object(l.useState)(null),y=a()(h,2),g=y[0],v=y[1],b=Object(l.useState)(null),w=a()(b,2),S=w[0],x=w[1],O=i.state==J.a.PLAYING,E=i.offset,k=O?"":E,C=Object(l.useCallback)((function(e){2==(2&e.buttons)&&e.stopPropagation()}),[]),j=Object(l.useCallback)((function(e){if(e.nativeEvent.intercepted=!0,e.ctrlKey){var t=d-e.deltaY;t>=500&&m(t)}}),[d]),P=Object(l.useCallback)((function(e){u("SetAnimation",{phase:e,offset:0})}),[]),A=Object(l.useCallback)((function(){u("ToggleAnimationPlaying",d)}),[d]),L=Object(l.useCallback)((function(e){u("SetAnimation",{offset:e})}),[]),D=Object(l.useCallback)((function(){var e,t=[],n=je(o);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(console.log({a:r.animations,k:i.phase.key}),r.animations){var a=r.animations[i.phase.key];if(a){t.includes(a.delay)||t.push(a.delay);var l=a.delay+a.duration;t.includes(l)||t.push(l);var c,s=je(a.keyframes);try{for(s.s();!(c=s.n()).done;){var u=c.value,f=a.delay+u.offset*a.duration;t.includes(f)||t.push(f)}}catch(e){s.e(e)}finally{s.f()}}}}}catch(e){n.e(e)}finally{n.f()}return t}),[o,i.phase.key]),N=Object(l.useCallback)((function(e){v(e.target.value)}),[]),T=Object(l.useCallback)((function(e){var t=Math.max(0,Math.min(1,parseInt(e.target.value)/d));isNaN(t)||u("SetAnimation",{offset:t}),v(null)}),[d]),F=Object(l.useCallback)((function(e){x(e.target.value)}),[]),I=Object(l.useCallback)((function(e){var t=parseInt(e.target.value);!isNaN(t)&&t>0&&m(t),x(null)}),[]);return c.a.createElement("div",{className:"animation-tool"},c.a.createElement("div",{className:"animation-panel panel-bg",onWheel:j,onMouseDown:C},c.a.createElement("div",{className:"phase-layers"},c.a.createElement("div",{className:"phase-header"},c.a.createElement(s.ButtonGroup,null,c.a.createElement(s.Button,{key:"entry",text:_.a.ENTRY.displayName,active:i.phase==_.a.ENTRY,onClick:function(){return P(_.a.ENTRY)}}),c.a.createElement(s.Button,{key:"exit",text:_.a.EXIT.displayName,active:i.phase==_.a.EXIT,onClick:function(){return P(_.a.EXIT)}})),c.a.createElement("div",{className:"timing"},c.a.createElement(s.ControlGroup,{fill:!0},c.a.createElement(s.Button,{minimal:!0,icon:O?"pause":"play",onClick:A}),c.a.createElement(s.InputGroup,{value:null!=g?g:k,disabled:O,fill:!0,rightElement:c.a.createElement(s.Tag,{minimal:!0},"ms"),onChange:N,onBlur:T})," / ",c.a.createElement(s.InputGroup,{value:null!=S?S:d.toString(),disabled:O,fill:!0,rightElement:c.a.createElement(s.Tag,{minimal:!0},"ms"),onChange:F,onBlur:I})))),c.a.createElement("div",{className:"scrubber-row"},c.a.createElement(Ne,{duration:d,animationOffsetMs:E,animationIsPlaying:O,onChangeOffset:L,onGetClipOffsets:D})),c.a.createElement("div",{className:"scroll-body"},c.a.createElement("div",{className:"layer-handles"},o.map((function(e){return c.a.createElement("div",{key:e.id,className:"layer-height layer-name"},e.label)}))),c.a.createElement("div",{className:"phase-timeline"},o.map((function(e){return c.a.createElement(Te,{key:e.id,phaseKey:i.phase.key,phaseDuration:d,layer:e,dispatch:u})})))))),c.a.createElement(Ee,e))},Ie=(n(290),function(e){var t,n=e.elementName,r=tt((function(e){return e.stageTransform})),o=a()(r,2),i=a()(o[0],1)[0],s=o[1],u=Object(l.useRef)(),f=Object(l.useState)(),p=a()(f,2),d=p[0],m=p[1],h=Object(l.useCallback)((function(e){s("CreateLayers",[{elementName:n,styles:{rect:e}}])}),[]),y=Object(l.useCallback)((function(e,t){if(1==e.buttons){var n=u.current.getBoundingClientRect(),r={top:e.clientY-n.top,left:e.clientX-n.left,height:0,width:0},a=r,o=function(e){var t=e.clientX-n.left-r.left,o=e.clientY-n.top-r.top;a={top:o<0?r.top+o:r.top,left:t<0?r.left+t:r.left,height:Math.abs(o),width:Math.abs(t)},m(a)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(r){var i;m(null),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e),a.height>0&&a.width>0&&h((i=a,Object(W.a)(n,t,i)))}))}}),[]),g=Object(l.useCallback)((function(e){y(e,i)}),[i]);return d&&(t=c.a.createElement("div",{className:"selector-box",style:d})),c.a.createElement("div",{className:"size-and-position-capture-tool",onMouseDown:g,ref:u},t)}),Re={moveAndResize:{displayName:"Move And Resize",icon:"select",component:Ee},animation:{displayName:"Animations",icon:"walk",component:function(e){return React.createElement(Fe,e)}},text:{displayName:"Text",icon:"new-text-box",component:function(e){return React.createElement(Ie,j()({},e,{elementName:"text"}))}},rectangle:{displayName:"Rectangle",icon:"square",component:function(e){return React.createElement(Ie,j()({},e,{elementName:"rectangle"}))}},image:{displayName:"Image",icon:"media",component:function(e){return React.createElement(Ie,j()({},e,{elementName:"image"}))}},video:{displayName:"Video",icon:"video",component:function(e){return React.createElement(Ie,j()({},e,{elementName:"video"}))}},iframe:{displayName:"Iframe",icon:"globe-network",component:function(e){return React.createElement(Ie,j()({},e,{elementName:"iframe"}))}},knockout:{displayName:"Knockout",icon:"heat-grid",component:function(e){return React.createElement(Ie,j()({},e,{elementName:"knockout"}))}}},ze={basic:[Re.moveAndResize,Re.animation],element:[Re.text,Re.rectangle,Re.image,Re.video,Re.iframe,Re.knockout]};function Me(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=c.a.createContext();function He(e,t,n){var r="function"==typeof t?t(e.overlay):t;if(!r)return null;var a=Ue(Ue({},e.overlay),r),o={overlay:a};return n&&(o.undoData=$e(e.undoData,a)),o}function Ke(e,t,n,r){var a=Ue(Ue({},e.overlay),{},{layers:B()(e.overlay.layers)}),o=a.layers.findIndex((function(e){return e.id==t}));if(-1==o)return null;var i=Ue({},a.layers[o]);Object.assign(i,n(i)),a.layers[o]=i;var l={overlay:a};return r&&(l.undoData=$e(e.undoData,a)),l}function Ye(e,t,n,r){var a,o=Ue(Ue({},e.overlay),{},{layers:B()(e.overlay.layers)}),i=Me(t);try{var l=function(){var e=a.value,t=o.layers.findIndex((function(t){return t.id==e}));if(-1==t)return{v:null};var r=Ue({},o.layers[t]),i="function"==typeof n?n(r):n;i&&(Object.assign(r,i),o.layers[t]=r)};for(i.s();!(a=i.n()).done;){var c=l();if("object"===z()(c))return c.v}}catch(e){i.e(e)}finally{i.f()}var s={overlay:o};return r&&(s.undoData=$e(e.undoData,o)),s}function Ze(e,t,n,r,a){var o,l;"function"==typeof r?l=r:o=r;var c=e.animation;return c.phase==_.a.STATIC?Ye(e,t,(function(e){var t=Ue({},e.styles),r=t[n];return l&&(o=l(r,e)),o&&(t[n]=Ue(Ue({},r),o)),{styles:t}}),a):Ye(e,t,(function(e){var t=e.styles,r=t[n];r||(t=Ue(Ue({},e.styles),{},i()({},n,X.a[n].initialConfig))),l&&(o=l(r,e));var a,s=Ue({},e.animations),u=s[c.phase.key];if(u){if(c.offset<u.delay||c.offset>u.delay+u.duration)return;a=s[c.phase.key]={delay:u.delay,duration:u.duration,keyframes:B()(u.keyframes)}}else a=s[c.phase.key]={delay:0,duration:500,keyframes:[]};var f=(c.offset-a.delay)/a.duration,p=a.keyframes.findIndex((function(e){return e.offset==f}));return-1==p?(a.keyframes.push({offset:f,styles:i()({},n,o)}),a.keyframes=a.keyframes.sort((function(e,t){return e.offset-t.offset}))):a.keyframes[p]=Ue(Ue({},a.keyframes[p]),{},{styles:Ue(Ue({},a.keyframes[p].styles),{},i()({},n,Ue(Ue({},a.keyframes[p].styles[n]),o)))}),{styles:t,animations:s}}),a)}function We(e,t,n){var r=e.findIndex((function(e){return e.id==t})),a=e.splice(r,1)[0];n>r&&n--,e.splice(n,0,a)}function _e(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=I()(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith("http")){e.next=2;break}return e.abrupt("return","text/plain");case 2:if(!/\.png/.test(t)){e.next=6;break}return e.abrupt("return","image/png");case 6:if(!/\.jpe?g$/i.test(t)){e.next=10;break}return e.abrupt("return","image/jpeg");case 10:if(!/\.gif$/i.test(t)){e.next=14;break}return e.abrupt("return","image/gif");case 14:if(!/\.mp4$/i.test(t)){e.next=18;break}return e.abrupt("return","video/mp4");case 18:if(!/\.mov$/i.test(t)){e.next=22;break}return e.abrupt("return","video/mov");case 22:if(!/\.mkv$/i.test(t)){e.next=26;break}return e.abrupt("return","video/mkv");case 26:if(!/\.3gp$/i.test(t)){e.next=30;break}return e.abrupt("return","video/3gpp");case 30:if(!/\.ogv$/i.test(t)){e.next=34;break}return e.abrupt("return","video/ogv");case 34:if(!/\.mp3$/i.test(t)){e.next=38;break}return e.abrupt("return","audio/mpeg");case 38:if(!/\.wav$/i.test(t)){e.next=42;break}return e.abrupt("return","audio/wav");case 42:if(!/\.ogg$/i.test(t)){e.next=46;break}return e.abrupt("return","audio/ogg");case 46:if(!/\.js$/i.test(t)){e.next=48;break}return e.abrupt("return","text/javascript");case 48:return e.prev=48,e.next=51,fetch(t,{method:"HEAD",cache:"no-cache"});case 51:return n=e.sent,e.abrupt("return",n.headers.get("Content-Type"));case 55:return e.prev=55,e.t0=e.catch(48),e.abrupt("return","text/html");case 58:case"end":return e.stop()}}),e,null,[[48,55]])})))).apply(this,arguments)}function Je(e,t){return U.find((function(n){return n.match(e,t)}))}function $e(e,t){if(e||(e={pointer:0,history:[]}),e.pointer>0){var n=e.history.length-e.pointer;e.history.splice(n,e.pointer),e.pointer=0}return e.history.length>40&&e.history.splice(0,1),e.history.push(Ue({},t)),e}function qe(e,t){if(e&&0!=e.history.length){var n=e.pointer+(t?-1:1);if(!(n>e.history.length-1||n<0))return e.pointer=n,{undoData:e,entry:e.history[e.history.length-1-e.pointer]}}}var Qe={Reset:function(e,t){return t},Undo:function(e){var t=qe(e.undoData,!1);if(t)return{undoData:t.undoData,overlay:t.entry}},Redo:function(e){var t=qe(e.undoData,!0);if(t)return{undoData:t.undoData,overlay:t.entry}},SetStageTool:function(e,t){return t==Re.animation?{stageTool:t,animation:{phase:_.a.ENTRY,offset:0,state:J.a.PAUSED}}:{stageTool:t,animation:{phase:_.a.STATIC,offset:0,state:J.a.PAUSED}}},SetStageAutoFitZoom:function(e,t){return{stageZoomSelection:Ue(Ue({},e.stageZoomSelection),{},{autoFitZoom:t}),stageTransform:Ue(Ue({},e.stageTransform),{},{zoom:e.stageZoomSelection.isAuto?t:e.stageTransform.zoom})}},SetStageZoomSelection:function(e,t){return{stageZoomSelection:t,stageTransform:Ue(Ue({},e.stageTransform),{},{zoom:t.isAuto?t.autoFitZoom:t.zoom})}},ResetStageZoom:function(e){return{stageZoomSelection:Ue(Ue({},e.stageZoomSelection),{},{isAuto:!0}),stageTransform:Ue(Ue({},e.stageTransform),{},{zoom:e.stageZoomSelection.autoFitZoom,panning:[0,0]})}},StepZoom:function(e,t){var n=t<0?e.stageTransform.zoom/(1+.1*-t):e.stageTransform.zoom*(1+.1*t);return{stageZoomSelection:Ue(Ue({},e.stageZoomSelection),{},{zoom:n,isAuto:!1}),stageTransform:Ue(Ue({},e.stageTransform),{},{zoom:n})}},SetStageTransform:function(e,t){return{stageTransform:t}},SetAnimation:function(e,t){return e.animation.timeout&&clearTimeout(e.animation.timeout),{animation:Ue(Ue(Ue({},e.animation),t),{},{timeout:null})}},ToggleAnimationPlaying:function(e,t){return e.animation.state==J.a.PLAYING?(e.animation.timeout&&clearTimeout(e.animation.timeout),{animation:Ue(Ue({},e.animation),{},{state:J.a.PAUSED,timeout:null})}):function(n){var r=e.animation.offset,a=setTimeout((function(){n("SetAnimation",{offset:r,state:J.a.PAUSED})}),t-r);n("SetAnimation",{state:J.a.PLAYING,timeout:a})}},SetScript:function(e,t){return He(e,{script:t})},ExecuteScript:function(e){return e.isExecutingScript?{isExecutingScript:!1}:{isExecutingScript:!0}},CreateAsset:function(e,t){var n=t.key,r=t.data;return{overlay:Ue(Ue({},e.overlay),{},{assets:Ue(Ue({},e.overlay.assets),{},i()({},n,r))})}},SetLayerDomElement:function(e,t){var n=t.id,r=t.domElement;return r?{layerDomElements:[].concat(B()(e.layerDomElements),[{id:n,domElement:r}])}:e.layerDomElements.filter((function(e){return e.id!=n}))},CreateLayers:function(e,t){var n,r=e.overlay.layers.map((function(e){return e.id})).reduce(W.e,1),a=Ue({},e.overlay);a.layers=B()(a.layers);var o,l=[],c=Me(t);try{var s=function(){var t=o.value,n=e.elements[t.elementName];if(!n)return"continue";var i,c=Ue({},t.config||{}),s=Me(n.manifest.parameters);try{for(s.s();!(i=s.n()).done;){var u=i.value;c[u.name]||u.defaultValue&&(c[u.name]=u.defaultValue)}}catch(e){s.e(e)}finally{s.f()}var f={id:++r,elementName:t.elementName,label:t.label||n.manifest.name,effects:t.effects||(n.manifest.defaultEffects?Ue({},n.manifest.defaultEffects):null),styles:Ue(Ue({},n.manifest.defaultStyles),t.styles),animations:t.animations||{},config:c},p=f.label;p.match(/\#\d+$/)&&(p=p.substr(0,p.lastIndexOf("#")-1));for(var d=2;a.layers.findIndex((function(e){return e.label==f.label}))>-1;d++)f.label=p+" #"+d;a.layers.unshift(f),l.push(f.id)};for(c.s();!(o=c.n()).done;)s()}catch(e){c.e(e)}finally{c.f()}return n={overlay:a,selectedLayerIds:l},i()(n,"selectedLayerIds",l),i()(n,"undoData",$e(e.undoData,a)),i()(n,"animation",{phase:_.a.STATIC,state:J.a.PAUSED,offset:0}),i()(n,"stageTool",Re.moveAndResize),n},SelectLayer:function(e,t){var n=t.id,r=t.append,a=t.selectBetween;if(null!=n||0!=e.selectedLayerIds.length){var o;if(n)if(r||a)if(a)if(0==e.selectedLayerIds.length)o=[n];else{var i=e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]})),l=e.overlay.layers.findIndex((function(e){return e.id==n}));if(i>l){var c=l;l=i,i=c}o=[];for(var s=i;s<=l;s++){var u=e.overlay.layers[s];o.push(u.id)}}else(o=B()(e.selectedLayerIds)).includes(n)?o=o.filter((function(e){return e!=n})):o.push(n);else o=[n];else o=[];return{selectedLayerIds:o}}},SelectLayers:function(e,t){return{selectedLayerIds:t}},UpdateLayers:function(e,t){var n=t.layers;return He(e,(function(e){var t,r=B()(e.layers),a=Me(n);try{var o=function(){var e=t.value,n=r.findIndex((function(t){return t.id==e.id}));if(-1==n)return"continue";r[n]=Ue(Ue({},r[n]),e)};for(a.s();!(t=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}return{layers:r}}),t.createUndoHistory)},DeleteLayers:function(e,t){var n=He(e,(function(n){var r=n.layers.filter((function(e){return!t.includes(e.id)}));return{layers:r,assets:function(e,t,n){if(!e)return e;if(!t||t.length)return{};var r,a,o=[],i=Me(t);try{for(i.s();!(r=i.n()).done;){var l=r.value,c=n[l.elementName];if(c&&c.manifest.referencedAssets){var s=c.manifest.referencedAssets(l.config);if(s){var u,f=Me(s);try{for(f.s();!(u=f.n()).done;){var p=u.value;o.includes(p)||o.push(p)}}catch(e){f.e(e)}finally{f.f()}}}}}catch(e){i.e(e)}finally{i.f()}for(var d=0,m=Object.keys(e);d<m.length;d++){var h=m[d];o.includes(h)||(a||(a=Ue({},e)),delete a[h])}return a||e}(n.assets,r,e.elements)}}),!0);return n.selectedLayerIds=e.selectedLayerIds.filter((function(e){return!t.includes(e)})),n},MoveLayer:function(e,t){var n=t.id,r=t.newIndex;return He(e,(function(e){var t=B()(e.layers);return We(t,n,r),{layers:t}}),!0)},UpdateSelectedLayers:function(e,t){var n=t.props,r=t.createUndoHistory;if(0!=e.selectedLayerIds.length)return Ye(e,e.selectedLayerIds,n,r)},DeleteSelectedLayers:function(e){if(0!=e.selectedLayerIds.length){var t=He(e,(function(t){return{layers:t.layers.filter((function(t){return!e.selectedLayerIds.includes(t.id)}))}}),!0);return t.selectedLayerIds=[],t}},CopySelectedLayersToClipboard:function(e){if(0!=e.selectedLayerIds.length){var t=e.overlay.layers.filter((function(t){return e.selectedLayerIds.includes(t.id)}));Object(W.b)(JSON.stringify({objectType:"layers",data:t}))}},CenterSelectedLayers:function(e,t){var n=t.selectedRects,r=t.boundingBox;if(0!=n.length){console.log({selectedRects:n,boundingBox:r});var a=e.width/2-(r.left+r.width/2),o=e.height/2-(r.top+r.height/2);return Ze(e,e.selectedLayerIds,"rect",(function(e,t){var r=n.find((function(e){return e.id==t.id}));if(console.log({selectedRect:r,diffX:a,diffY:o}),r)return{top:r.top+o,left:r.left+a,height:r.height,width:r.width}}),!0)}},FullscreenSelectedLayers:function(e,t){var n=t.selectedRects,r=t.boundingBox;if(0!=n.length){var a=-r.left,o=-r.top,i=e.width/r.width,l=e.height/r.height;return Ze(e,e.selectedLayerIds,"rect",(function(e,t){var r=n.find((function(e){return e.id==t.id}));if(r)return{top:(r.top+o)*l,left:(r.left+a)*i,width:r.width*i,height:r.height*l}}),!0)}},ResetSelectedLayers:function(e){if(0!=e.selectedLayerIds.length)return function(){var t=I()(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.selectedLayerIds.map((function(t){var n=e.overlay.layers.find((function(e){return e.id==t})),r=e.elements[n.elementName];return r.manifest.getDimensions?r.manifest.getDimensions(n.config,e.overlay.assets).then((function(e){return Ue({id:n.id},e)})):Promise.resolve({})})));case 2:r=t.sent,n("ResetSelectedLayers_Complete",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ResetSelectedLayers_Complete:function(e,t){return Ze(e,t.map((function(e){return e.id})),"rect",(function(e,n){var r=t.find((function(e){return e.id==n.id}));if(r)return{top:0,left:0,width:r.width,height:r.height}}),!0)},RaiseSelectedLayers:function(e,t){if(0!=e.selectedLayerIds.length){var n=[];e.overlay.layers.forEach((function(t,r){e.selectedLayerIds.includes(t.id)&&n.push({index:r,layer:t})}));var r=n.map((function(e){return e.index})).reduce((function(e,t){return Math.min(e,t)}),1e4);if(0!=r)return t&&(D()("topMostIndex"),r=1),He(e,(function(e){var t=B()(e.layers);return n.forEach((function(e,a){var o=r-1+a;We(t,n[a].layer.id,o)})),{layers:t}}),!0)}},LowerSelectedLayers:function(e,t){if(0!=e.selectedLayerIds.length){var n=[];e.overlay.layers.forEach((function(t,r){e.selectedLayerIds.includes(t.id)&&n.push({index:r,layer:t})}));var r=n.map((function(e){return e.index})).reduce((function(e,t){return Math.max(e,t)}),0);if(r!=e.overlay.layers.length-1)return t&&(D()("bottomMostIndex"),r=e.overlay.layers.length-2),He(e,(function(e){var t=B()(e.layers);return n.forEach((function(e,a){var o=r+2-a;We(t,n[a].layer.id,o)})),{layers:t}}),!0)}},ScaleSelectedLayers:function(e,t){var n=t.selectedRects,r=t.boundingBox,a=t.direction,o=t.precise;if(0!=n.length){var i=o?1.1:1.2;return"down"==a&&(i=1/i),Ze(e,e.selectedLayerIds,"rect",(function(e,t){var a=n.find((function(e){return e.id==t.id}));if(a){var o=a.top-r.top,l=a.left-r.left;return{top:a.top+o*(i-1),left:a.left+l*(i-1),width:a.width*i,height:a.height*i}}}),!0)}},NudgeSelectedLayers:function(e,t){var n=t.selectedRects,r=t.boundingBox,a=t.direction,o=t.precise,i=t.toEdge;if(0!=n.length){var l=o?1:5;return Ze(e,e.selectedLayerIds,"rect",(function(t,o){var c=n.find((function(e){return e.id==o.id}));if(c)switch(console.log({selectedRect:c,boundingBox:r}),a){case"left":return{left:i?c.left-r.left:c.left-l};case"right":return{left:i?e.width-r.width:c.left+l};case"up":return{top:i?c.top-r.top:c.top-l};case"down":return{top:i?e.height-r.height:c.top+l}}}),!0)}},UpdateLayerConfig:function(e,t){var n=t.id,r=t.config;return Ke(e,n,(function(e){return{config:Ue(Ue({},e.config),r)}}),t.createUndoHistory)},CreateLayerEffect:function(e,t){var n=t.id,r=t.effectName,a=Z.b[r];if(a){var o,l={},c=Me(a.parameters);try{for(c.s();!(o=c.n()).done;){var s=o.value;null!=s.defaultValue&&(l[s.name]=s.defaultValue)}}catch(e){c.e(e)}finally{c.f()}return Ke(e,n,(function(e){if(!e.effects||!e.effects[r])return{effects:Ue(Ue({},e.effects),{},i()({},r,l))}}),!0)}},UpdateLayerEffect:function(e,t){var n=t.id,r=t.effectName,a=t.config;return Ke(e,n,(function(e){if(e.effects&&e.effects[r]){var t=Ue(Ue({},e.effects[r]),a);return{effects:Ue(Ue({},e.effects),{},i()({},r,t))}}}),t.createUndoHistory)},DeleteLayerEffect:function(e,t){var n=t.id,r=t.effectName;return Ke(e,n,(function(e){var t=Ue({},e.effects);return delete t[r],{effects:t}}),!0)},UpdateSelectedLayersConfig:function(e,t){var n=t.config,r=t.createUndoHistory;if(0!=e.selectedLayerIds.length)return Ye(e,e.selectedLayerIds,(function(e){return{config:Ue(Ue({},e.config),n)}}),r)},UpdateSelectedLayersEffect:function(e,t){var n=t.effectName,r=t.config,a=t.createUndoHistory;if(0!=e.selectedLayerIds.length)return Ye(e,e.selectedLayerIds,(function(e){if(e.effects&&e.effects[n]){var t=Ue({},e.effects);return r?t[n]=Ue(Ue({},t[n]),r):delete t[n],{effects:t}}}),a)},UpdateSelectedLayersStyles:function(e,t){var n=t.styleName,r=t.config,a=t.createUndoHistory;if(0!=e.selectedLayerIds.length)return Ze(e,e.selectedLayerIds,n,r,a)},SelectNextLayer:function(e,t){var n=[];if(0==e.selectedLayerIds.length)e.overlay.layers.length>0&&(n=[e.overlay.layers[0].id]);else{var r=(e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]}))+e.overlay.layers.length+(t?-1:1))%e.overlay.layers.length;n=[e.overlay.layers[r].id]}return{selectedLayerIds:n}},SelectAllLayers:function(e){return{selectedLayerIds:e.overlay.layers.map((function(e){return e.id}))}},SetLayerAnimation:function(e,t){var n=t.id,r=t.phase,a=t.animation;return Ke(e,n,(function(e){return{animations:Ue(Ue({},e.animations),{},i()({},r,a))}}),!0)},DeleteSelectedLayersKeyframes:function(e,t){var n=t.phase,r=t.offset;if(0!=e.selectedLayerIds.length)return Ye(e,e.selectedLayerIds,(function(e){if(e.keyframes&&e.keyframes[n])return{keyframes:Ue(Ue({},e.keyframes),{},i()({},n,e.keyframes[n].filter((function(e){return e.offset!=r}))))}}))},HandlePaste:function(e,t){return function(){var n=I()(T.a.mark((function n(r){var a,o,i,l,c;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=function(e){r("CreateLayers",e)},o=function(e){r("ShowToast",{id:Math.random(),icon:"error",intent:"danger",message:e,timeout:5e3})},i=Me(t),n.prev=3,c=T.a.mark((function t(){var n,r,i,c,s,u,f,p;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("text/plain"==(n=l.value).type){t.next=3;break}return t.abrupt("return","continue");case 3:return t.next=5,new Promise((function(e){return n.getAsString(e)}));case 5:if(!(r=t.sent).startsWith("{")){t.next=12;break}try{i=JSON.parse(r)}catch(e){}if(!i){t.next=12;break}if("layers"!=i.objectType){t.next=12;break}return a(i.data),t.abrupt("return","continue");case 12:if(!r.startsWith("http")){t.next=35;break}return t.next=15,_e(r);case 15:if(c=t.sent,s=Je(c,r)){t.next=20;break}return o("Unsupported file type '".concat(c,"'.")),t.abrupt("return","continue");case 20:if(u=s.getLayer(r),!(f=e.elements[u.elementName])){t.next=33;break}if(!f.manifest.getDimensions){t.next=31;break}return t.next=26,f.manifest.getDimensions(u.config,{});case 26:p=t.sent,u.width=p.width,u.height=p.height,t.next=33;break;case 31:u.width=f.manifest.width,u.height=f.manifest.height;case 33:return a([u]),t.abrupt("return","continue");case 35:return o("Unsupported paste data format."),t.abrupt("return","continue");case 37:case"end":return t.stop()}}),t)})),i.s();case 6:if((l=i.n()).done){n.next=13;break}return n.delegateYield(c(),"t0",8);case 8:if("continue"!==n.t0){n.next=11;break}return n.abrupt("continue",11);case 11:n.next=6;break;case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(3),i.e(n.t1);case 18:return n.prev=18,i.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[3,15,18,21]])})));return function(e){return n.apply(this,arguments)}}()},HandleFileUpload:function(e,t){var n=t.files,r=t.onComplete;return function(t){var a=function(e,n){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:n/e.size,timeout:0})},o=function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:1,timeout:500})},l=function(e,n){console.log({file:e,error:n}),t("ShowToast",{id:e.name,icon:"error",intent:"danger",message:n.toString(),timeout:5e3})},c=e.onUpload;c||(c=function(n,r){return function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}(n).then((function(r){var a="asset:"+n.name;if(e.overlay.assets)for(var o=1;null!=e.overlay.assets[a];o++)a="asset:"+n.name+"-"+o++;return t("CreateAsset",{key:a,data:r}),{url:a,dataUri:r}}))});var s,u=Me(n);try{var f=function(){var n=s.value,u=Je(n.type,null);if(!u)return l(n,"".concat(n.name,": Unsupported file type '").concat(n.type,"'.")),"continue";!function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:0,timeout:0,onCancel:function(){e.cancel&&e.cancel()}})}(n),c(n,a).then(function(){var a=I()(T.a.mark((function a(c){var s,f,p,d,m;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c){a.next=3;break}return l(n,"Upload result was null."),a.abrupt("return");case 3:if(o(n),!r){a.next=7;break}return r(c.url),a.abrupt("return");case 7:if("string"==typeof c?(s=c,f=null):(s=c.url,f=c.dataUri),(p=u.getLayer(s)).name=n.name,!(d=e.elements[p.elementName])){a.next=22;break}if(!d.manifest.getDimensions){a.next=20;break}return a.next=15,d.manifest.getDimensions(p.config,f?i()({},s,f):{});case 15:m=a.sent,p.width=m.width,p.height=m.height,a.next=22;break;case 20:p.width=d.manifest.width,p.height=d.manifest.height;case 22:t("CreateLayers",[p]);case 23:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){l(n,e)}))};for(u.s();!(s=u.n()).done;)f()}catch(e){u.e(e)}finally{u.f()}}},ShowToast:function(e,t){var n=B()(e.toasts);if(t.id){var r=n.findIndex((function(e){return e.id==t.id}));if(r>-1)return n[r]=Ue(Ue({},n[r]),t),{toasts:n}}return n.push(t),{toasts:n}},DismissToast:function(e,t){var n=B()(e.toasts),r=n.indexOf(t);if(-1!=r)return n[r].onCancel&&n[r].onCancel(),n.splice(r,1),{toasts:n}}},et=function(e){var t=e.initialState,n=A()(e,["initialState"]),r=Object(l.useRef)(),a=Object(l.useMemo)((function(){return r.current?r.current.dispatch("Reset",t):r.current=Y(t,Qe),r.current}),[t]);return c.a.createElement(Ge.Provider,j()({value:a},n))},tt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(l.useContext)(Ge);if(0==t.length)return r.dispatch;var o=Object(l.useState)((function(){return r.select(t)})),i=a()(o,2),c=i[0],s=i[1];return Object(l.useEffect)((function(){function e(){var e=r.select(t);s((function(t){for(var n=0;n<t.length;n++)if(t[n]!=e[n])return e;return t}))}return r.subscribe(e),function(){return r.unsubscribe(e)}}),[]),[c,r.dispatch]},nt=n(91),rt=function(e){var t=tt();return c.a.createElement(s.Popover,{position:nt.a.RIGHT_BOTTOM,interactionKind:s.PopoverInteractionKind.CLICK,boundary:"window"},e.children,c.a.createElement(s.Menu,null,Object.entries(Z.a).map((function(n){return c.a.createElement(s.MenuItem,{key:n[0],text:n[0],popoverProps:{openOnTargetFocus:!1}},n[1].map((function(n){var r=Z.b[n];return c.a.createElement(s.MenuItem,{key:n,text:r.displayName,onClick:function(r){return t("CreateLayerEffect",{id:e.layer.id,effectName:n})}})})))}))))},at=(n(292),function(e){var t=e.layer,n=e.effect,r=e.effectName,a=e.config,o=e.dispatch,i=(Object(l.useCallback)((function(){o("DeleteLayerEffect",{id:t.id,effectName:r})}),[]),Object(l.useCallback)((function(){o("UpdateLayerEffect",{id:t.id,effectName:r,config:{hidden:!a.hidden},createUndoHistory:!0})}),[t.id,r,a.hidden])),u=(Object(l.useCallback)((function(e){console.log("select effect!")}),[t.id,r]),Object(l.useCallback)((function(){o("DeleteLayerEffect",{id:t.id,effectName:r})}),[t.id,r]));return c.a.createElement("div",{className:"effect"},c.a.createElement(s.ButtonGroup,{fill:!0,minimal:!0},c.a.createElement(s.Button,{icon:"eye-open",intent:a.hidden?"danger":"success",title:"Show/Hide",onClick:i}),c.a.createElement("div",{className:"label",style:{opacity:a.hidden?.5:1}},n.displayName),c.a.createElement(s.Button,{icon:"trash",title:"Delete",onClick:u})))}),ot=function(e){var t,n,r=e.layer,o=e.element,i=e.index,u=e.isSelected,f=e.isDragging,p=e.onDragStart,d=e.dispatch,m=Object(l.useState)(!1),h=a()(m,2),y=h[0],g=h[1],v=Object(l.useState)(r.label),b=a()(v,2),w=b[0],S=b[1],x=Object(l.useCallback)((function(e){d("UpdateLayers",{layers:[{id:r.id,label:e}],createUndoHistory:!0})}),[r.id]),E=Object(l.useCallback)((function(){d("UpdateLayers",{layers:[{id:r.id,hidden:!r.hidden}],createUndoHistory:!0})}),[r.id,r.hidden]),k=Object(l.useCallback)((function(e){d("SelectLayer",{id:r.id,append:e.ctrlKey||e.metaKey,selectBetween:e.shiftKey})}),[r.id]),C=Object(l.useCallback)((function(e){p?p(e,r.id):e.preventDefault()}),[p,r.id]);if(0==o.manifest.effectsAllowed||o.manifest.nonVisual||(t=c.a.createElement(rt,{layer:r},c.a.createElement(s.Button,{icon:"plus",title:"Add Effect"}))),0!=o.manifest.effectsAllowed&&r.effects){n=[];for(var j=0,P=Object.entries(r.effects);j<P.length;j++){var A=a()(P[j],2),L=A[0],D=A[1],N=Z.b[L];n.push(c.a.createElement(at,{key:L,layer:r,effectName:L,effect:N,config:D,dispatch:d}))}}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"layer",dragging:f,isselected:u?"true":null,"data-index":i,style:r.hidden?{opacity:.5}:null},c.a.createElement(s.ButtonGroup,{fill:!0,minimal:!0},c.a.createElement(s.Button,{icon:"eye-open",intent:r.hidden?"danger":"success",title:"Toggle Visibility",onClick:E}),c.a.createElement(s.Button,{alignText:"left",fill:!0,draggable:!0,onClick:k,onDragStart:C},c.a.createElement("span",{className:"layer-label"},c.a.createElement(O,{selectAllOnFocus:!0,value:w,onChange:S,isEditing:y,onConfirm:function(){x(w),g(!1)},onCancel:function(){x(r.label),g(!1)}}))),c.a.createElement(s.Button,{icon:"edit",title:"Edit Label",onClick:function(){g(!y)}}),t,c.a.createElement(s.Button,{icon:"trash",title:"Delete",onClick:function(){return d("DeleteLayers",[r.id])}})),n))},it=function(e){var t=tt((function(e){return e.elements}),(function(e){return e.onUpload}),(function(e){return e.overlay.layers}),(function(e){return e.selectedLayerIds})),n=a()(t,2),r=a()(n[0],4),o=r[0],i=r[1],s=r[2],u=r[3],f=n[1],p=Object(l.useState)(null),d=a()(p,2),m=d[0],h=d[1],y=Object(l.useState)(null),g=a()(y,2),v=g[0],b=g[1],w=Object(l.useCallback)((function(e){window.removeEventListener("dragend",w),h(null),b(null)}),[]),S=Object(l.useCallback)((function(e,t){if("INPUT"!=e.target.name){window.addEventListener("dragend",w),e.dataTransfer.setData(E,t);var n=s.findIndex((function(e){return e.id==t}));h(n),b(t)}else e.preventDefault()}),[s]),x=Object(l.useCallback)((function(e){if(k(e,E))if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",e.target.matches(".layer-list"))m!=s.length&&h(s.length);else{var t=e.target.closest(".layer");if(t){if("true"==t.getAttribute("dragging"))return;var n=parseInt(t.getAttribute("data-index")),r=t.getBoundingClientRect(),a=e.nativeEvent.clientY>r.top+r.height/2?n+1:n;m!=a&&h(a)}}}),[m]),O=Object(l.useCallback)((function(e){if(e.preventDefault(),e.stopPropagation(),k(e,E)){var t=parseInt(e.dataTransfer.getData(E));f("MoveLayer",{id:t,newIndex:m}),h(null),b(null)}}),[m]),C=null;if(null!=v){var j=s.find((function(e){return e.id==v})),P=o[j.elementName];C=c.a.createElement(ot,{key:v,index:m,layer:j,element:P,isSelected:!1,isDragging:"true",dispatch:f})}var A=[];return s.forEach((function(e,t){var n=o[e.elementName];if(!n)return null;t==m&&A.push(C),e.id!=v&&A.push(c.a.createElement(ot,{key:e.id,index:t,layer:e,element:n,isSelected:u.includes(e.id),isDragging:"false",onDragStart:S,onDragEnd:w,onUpload:i,dispatch:f}))})),m==s.length&&A.push(C),c.a.createElement("div",{className:"layer-list",onDragOver:x,onDrop:O},c.a.createElement("div",{className:"layer-list-layers"},A))},lt=n(23);n(294);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=function(e,t,n){if(e){var r=e.getBoundingClientRect();return r.height<=0||r.width<=0?1:r.height/r.width<t/n?r.height/t:r.width/n}},ft=function(e){var t=tt((function(e){return e.elements}),(function(e){return e.overlay}),(function(e){return e.animation}),(function(e){return e.isExecutingScript}),(function(e){return e.stageTool}),(function(e){return e.stageTransform})),n=a()(t,2),r=a()(n[0],6),o=r[0],i=r[1],s=r[2],u=r[3],f=r[4],p=r[5],d=n[1],m=Object(l.useRef)();Object(l.useEffect)((function(){var e=m.current,t=function(t){d("SetStageAutoFitZoom",ut(e,p.height,p.width))};return d("SetStageAutoFitZoom",ut(e,p.height,p.width)),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]);var h=Object(l.useCallback)((function(e,t){if(2==(2&e.buttons)){var n=e.clientX,r=e.clientY,a=t.panning,o=function(e){var o=[a[0]+(e.clientX-n)/t.zoom,a[1]+(e.clientY-r)/t.zoom];d("SetStageTransform",st(st({},t),{},{panning:o}))};document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",(function e(t){document.body.removeEventListener("mousemove",o),document.body.removeEventListener("mouseup",e)}))}}),[]),y=Object(l.useCallback)((function(e){h(e,p)}),[p]),g=Object(l.useCallback)((function(e){e.preventDefault()}),[]),v=Object(l.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"}),[]),b=Object(l.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),d("HandleFileUpload",{files:e.dataTransfer.files})}),[]),w=Object(l.useCallback)((function(e){console.log({evt:e,i:e.nativeEvent.intercepted}),e.nativeEvent.intercepted||d("StepZoom",-e.deltaY/100)}),[]),S=Object(l.useCallback)((function(e,t){d("SetLayerDomElement",{id:e.id,domElement:t})}),[]),x=Object(l.useCallback)((function(e,t){d("SetLayerDomElement",{id:e.id,domElement:null})}),[]),O=Object(l.useMemo)((function(){return{width:p.width+"px",height:p.height+"px",transform:"scale(".concat(p.zoom,") translate(").concat(p.panning[0],"px, ").concat(p.panning[1],"px)")}}),[p]);return c.a.createElement("div",{className:"stage-container",onWheel:w,onDragOver:v,onDrop:b,onMouseDown:y,onContextMenu:g,ref:m},c.a.createElement("div",{className:"stage",style:O},c.a.createElement(lt.a,{overlay:i,disableBuiltinElements:!0,elements:o,animation:s,executeScripts:u,onLayerCreated:S,onLayerRemoved:x})),f?c.a.createElement(f.component,null):null)},pt=function(e){e.props;var t=tt((function(e){return e.toasts})),n=a()(t,2),r=a()(n[0],1)[0],o=n[1];return c.a.createElement(s.Toaster,{position:nt.a.BOTTOM,usePortal:!1,className:"app-toaster"},r.map((function(e){var t;return t=null!=e.progress?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.ProgressBar,{intent:e.progress<1?"primary":"success",stripes:e.progress<1,value:e.progress}),c.a.createElement("div",null,e.message)):e.message,c.a.createElement(s.Toast,j()({key:e.id},e,{message:t,onDismiss:function(){return o("DismissToast",e)}}))})))},dt=(n(296),n(180)),mt=n(22);n(461);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var vt=function(e){switch(e){case"flex-start":return"left";case"flex-end":return"right";case"center":return"center";default:return null}},bt=function(e){g()(n,e);var t=gt(n);function n(e){var r;return f()(this,n),r=t.call(this,e),i()(h()(r),"_fontSizeDragOrigin",void 0),i()(h()(r),"onFontFamilyChanged",(function(e){r.onValueChanged({fontFamily:e.target.value},!0,!0)})),i()(h()(r),"onFontSizeChanged",(function(e){r.onValueChanged({fontSize:e.target.value},!1,!1)})),i()(h()(r),"onFontSizeBlurred",(function(e){var t=e.target.value;t.match(/[0-9]+(pt|px|em)/)||(t=t.replace(/^[0-9]\./g,"")+"pt"),r.onValueChanged({fontSize:t},!0,!0)})),i()(h()(r),"onFontSizeMouseDown",(function(e){var t,n;window.addEventListener("mousemove",r.onFontSizeMouseMove),window.addEventListener("mouseup",r.onFontSizeMouseUp);var a=B()(e.target.value.matchAll(/([0-9]+)(pt|px|em)/g));0==a.length?(t=72,n="pt"):(t=parseInt(a[0][1]),n=a[0][2]),r._fontSizeDragData={originY:e.clientY,originalValue:t,originalUnits:n,value:e.target.value}})),i()(h()(r),"onFontSizeMouseUp",(function(e){r._fontSizeDragData&&r.onValueChanged({fontSize:r._fontSizeDragData.value},!0,!0),r._fontSizeDragData=null,window.removeEventListener("mousemove",r.onFontSizeMouseMove),window.removeEventListener("mouseup",r.onFontSizeMouseUp)})),i()(h()(r),"onFontSizeMouseMove",(function(e){if(r._fontSizeDragData){var t=r._fontSizeDragData.originY-e.clientY,n=Math.max(0,r._fontSizeDragData.originalValue+t);r._fontSizeDragData.value=n+r._fontSizeDragData.originalUnits,r.onValueChanged({fontSize:r._fontSizeDragData.value},!0,!1)}})),i()(h()(r),"onFontColorChanged",(function(e){r.onValueChanged({color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")},!0,!1)})),i()(h()(r),"onFontColorCommitted",(function(e){r.onValueChanged({color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")},!0,!0)})),i()(h()(r),"onBoldToggled",(function(e){r.onValueChanged({fontWeight:"bold"!=r.state.value.fontWeight?"bold":""},!0,!0)})),i()(h()(r),"onItalicToggled",(function(e){r.onValueChanged({fontStyle:"italic"!=r.state.value.fontStyle?"italic":""},!0,!0)})),i()(h()(r),"onUnderlineToggled",(function(e){r.onValueChanged({textDecoration:"underline"!=r.state.value.textDecoration?"underline":""},!0,!0)})),i()(h()(r),"onTextAlignToggled",(function(e){r.state.value.justifyContent!=e?r.onValueChanged({textAlign:vt(e),justifyContent:e},!0,!0):r.onValueChanged({textAlign:"",justifyContent:""},!0,!0)})),i()(h()(r),"onTextWrapChanged",(function(e){r.onValueChanged({whiteSpace:"pre-wrap"!=r.state.value.whiteSpace?"pre-wrap":"pre"},!0,!0)})),i()(h()(r),"onValignToggled",(function(e){r.onValueChanged({alignItems:r.state.value.alignItems!=e?e:""},!0,!0)})),i()(h()(r),"onTextKeyDown",(function(e){"Enter"==e.key&&(e.preventDefault(),e.target.blur())})),i()(h()(r),"parseColor",(function(e){var t=e.match(n.RGBA_COLOR_REGEX);return t?{r:t[1],g:t[2],b:t[3],a:t[4]}:""})),r.state=r.getStateFromProps(r.props.value),r}return d()(n,[{key:"componentDidUpdate",value:function(){this.state.initialValue!=this.props.value&&this.setState(this.getStateFromProps(this.props.value))}},{key:"getStateFromProps",value:function(e){var t=e||{};return{initialValue:e,value:{fontFamily:t.fontFamily||"",fontSize:t.fontSize||"",color:t.color||"",fontWeight:t.fontWeight||"",fontStyle:t.fontStyle||"",textDecoration:t.textDecoration||"",justifyContent:t.justifyContent||"",alignItems:t.alignItems||"",whiteSpace:t.whiteSpace||"pre",display:"flex"}}}},{key:"onValueChanged",value:function(e,t,n){var r=this;this.setState((function(t){return{value:yt(yt({},t.value),e)}}),(function(){t&&r.props.onChange(r.props.param,r.state.value,n)}))}},{key:"render",value:function(){var e=this,t=mt.a.GetFontNames();return c.a.createElement("div",{className:"font-style-editor"},c.a.createElement(s.ControlGroup,{fill:!0},c.a.createElement(s.HTMLSelect,{value:this.state.value.fontFamily,onChange:this.onFontFamilyChanged,options:t,className:"font-family",fill:!0}),c.a.createElement(s.InputGroup,{fill:!0,type:"text",value:this.state.value.fontSize,onChange:this.onFontSizeChanged,onBlur:this.onFontSizeBlurred,onKeyDown:this.onTextKeyDown,onMouseDown:this.onFontSizeMouseDown,className:"font-size"}),c.a.createElement(s.Popover,{boundary:"window",className:"font-color"},c.a.createElement(s.Button,{className:"font-color",style:{backgroundColor:this.state.value.color},text:""}),c.a.createElement(dt.SketchPicker,{color:this.parseColor(this.state.value.color),onChange:this.onFontColorChanged,onChangeComplete:this.onFontColorCommitted}))),c.a.createElement(s.ButtonGroup,{fill:!0,className:"button-row-2"},c.a.createElement(s.Button,{icon:"bold",active:"bold"==this.state.value.fontWeight,onClick:this.onBoldToggled}),c.a.createElement(s.Button,{icon:"italic",active:"italic"==this.state.value.fontStyle,onClick:this.onItalicToggled}),c.a.createElement(s.Button,{icon:"underline",active:"underline"==this.state.value.textDecoration,onClick:this.onUnderlineToggled}),c.a.createElement(s.Button,{icon:"align-left",active:"flex-start"==this.state.value.justifyContent,onClick:function(){return e.onTextAlignToggled("flex-start")}}),c.a.createElement(s.Button,{icon:"align-center",active:"center"==this.state.value.justifyContent,onClick:function(){return e.onTextAlignToggled("center")}}),c.a.createElement(s.Button,{icon:"align-right",active:"flex-end"==this.state.value.justifyContent,onClick:function(){return e.onTextAlignToggled("flex-end")}})),c.a.createElement(s.ButtonGroup,{fill:!0},c.a.createElement(s.Switch,{checked:"pre-wrap"==this.state.value.whiteSpace,label:"Text Wrap",onChange:this.onTextWrapChanged,className:"text-wrap"}),c.a.createElement(s.Button,{icon:"alignment-top",active:"flex-start"==this.state.value.alignItems,onClick:function(){return e.onValignToggled("flex-start")}}),c.a.createElement(s.Button,{icon:"alignment-horizontal-center",active:"center"==this.state.value.alignItems,onClick:function(){return e.onValignToggled("center")}}),c.a.createElement(s.Button,{icon:"alignment-bottom",active:"flex-end"==this.state.value.alignItems,onClick:function(){return e.onValignToggled("flex-end")}})))}}]),n}(c.a.Component);function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}i()(bt,"RGBA_COLOR_REGEX",/^rgba\((\d+),(\d+),(\d+),(\d*(?:\.\d+)?)\)$/i);var Ot=function(e){g()(n,e);var t=xt(n);function n(e){var r;return f()(this,n),r=t.call(this,e),i()(h()(r),"onTextChanged",(function(e,t){var n={};n[e]=t,r.onValueChanged(n,!1,!1)})),r.state=r.getStateFromProps(e.value),r}return d()(n,[{key:"componentDidUpdate",value:function(){this.state.initialValue!=this.props.value&&this.setState(this.getStateFromProps(this.props.value))}},{key:"getStateFromProps",value:function(e){var t=e||{},n={duration:t.duration,timing:t.timing,delay:t.delay,iterations:t.iterations,direction:t.direction,fill:t.fill};return null==n.duration&&(n.duration=this.props.param.defaultValue.duration),null==n.timing&&(n.timing=this.props.param.defaultValue.timing),null==n.delay&&(n.delay=this.props.param.defaultValue.delay),null==n.iterations&&(n.iterations=this.props.param.defaultValue.iterations),null==n.direction&&(n.direction=this.props.param.defaultValue.direction),null==n.fill&&(n.fill=this.props.param.defaultValue.fill),{initialValue:e,value:n}}},{key:"onValueChanged",value:function(e,t,n){var r=this;this.setState((function(t){return{value:St(St({},t.value),e)}}),(function(){if(t){for(var e=St({},r.state.value),o=0,i=Object.entries(r.state.value);o<i.length;o++){var l=a()(i[o],2),c=l[0];""==l[1]&&delete e[c]}r.props.onChange(r.props.param,e,n)}}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"animation-editor"},c.a.createElement(s.FormGroup,{label:"Duration"},c.a.createElement(s.InputGroup,{value:this.state.value.duration||"",onChange:function(t){return e.onTextChanged("duration",t.target.value)},onBlur:function(t){return e.onValueChanged({duration:t.target.value},!0,!0)}})),c.a.createElement(s.FormGroup,{label:"Timing"},c.a.createElement(s.HTMLSelect,{value:this.state.value.timing||"",onChange:function(t){return e.onValueChanged({timing:t.target.value},!0,!0)}},c.a.createElement("option",{value:""},"Ease"),c.a.createElement("option",{value:"ease-in"},"Ease In"),c.a.createElement("option",{value:"ease-out"},"Ease Out"),c.a.createElement("option",{value:"linear"},"Linear"))),c.a.createElement(s.FormGroup,{label:"Delay"},c.a.createElement(s.InputGroup,{value:this.state.value.delay||"",onChange:function(t){return e.onTextChanged("delay",t.target.value)},onBlur:function(t){return e.onValueChanged({delay:t.target.value},!0,!0)}})),c.a.createElement(s.FormGroup,{label:"Loop"},c.a.createElement(s.HTMLSelect,{value:this.state.value.iterations||"",onChange:function(t){return e.onValueChanged({iterations:t.target.value},!0,!0)}},c.a.createElement("option",{value:""},"1"),c.a.createElement("option",{value:"2"},"2"),c.a.createElement("option",{value:"3"},"3"),c.a.createElement("option",{value:"4"},"4"),c.a.createElement("option",{value:"5"},"5"),c.a.createElement("option",{value:"6"},"6"),c.a.createElement("option",{value:"7"},"7"),c.a.createElement("option",{value:"8"},"8"),c.a.createElement("option",{value:"9"},"9"),c.a.createElement("option",{value:"10"},"10"),c.a.createElement("option",{value:"infinite"},"Infinite"))),c.a.createElement(s.FormGroup,{label:"Direction"},c.a.createElement(s.HTMLSelect,{value:this.state.value.direction||"",onChange:function(t){return e.onValueChanged({direction:t.target.value},!0,!0)}},c.a.createElement("option",{value:""},"Forward"),c.a.createElement("option",{value:"reverse"},"Reverse"),c.a.createElement("option",{value:"alternate"},"Alternate"),c.a.createElement("option",{value:"alternate-reverse"},"Reverse Alternate"))))}}]),n}(c.a.Component);function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var kt=function(e){g()(n,e);var t=Et(n);function n(e){var r;return f()(this,n),r=t.call(this,e),i()(h()(r),"onChangeValue",(function(e){r.props.onChange(r.props.param,e)})),r}return d()(n,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"vertical-align-editor"},c.a.createElement(s.ButtonGroup,null,c.a.createElement(s.Button,{icon:"alignment-top",active:"top"==this.props.value,onClick:function(){return e.onChangeValue("top")}}),c.a.createElement(s.Button,{icon:"alignment-horizontal-center",active:"center"==this.props.value,onClick:function(){return e.onChangeValue("center")}}),c.a.createElement(s.Button,{icon:"alignment-bottom",active:"bottom"==this.props.value,onClick:function(){return e.onChangeValue("bottom")}})))}}]),n}(c.a.Component);function Ct(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function jt(e){switch(e){case"0":return 0;case"1":return 1;case"2":return 2;case"3":return 3;case"4":return 4;case"5":return 5;case"6":return 6;case"7":return 7;case"8":return 8;case"9":return 9;case"a":case"A":return 10;case"b":case"B":return 11;case"c":case"C":return 12;case"d":case"D":return 13;case"e":case"E":return 14;case"f":case"F":return 15;default:return null}}function Pt(e){if(9!=e.length)return null;for(var t={r:0,g:0,b:0,a:0},n=1;n<e.length;n++)switch(n){case 1:t.r=16*jt(e[n]);break;case 2:t.r+=jt(e[n]);break;case 3:t.g=16*jt(e[n]);break;case 4:t.g+=jt(e[n]);break;case 5:t.b=16*jt(e[n]);break;case 6:t.b+=jt(e[n]);break;case 7:t.a=16*jt(e[n]);break;case 8:t.a+=jt(e[n])}return t.a/=255,t}function At(e){return"#".concat(Ct(e.r)).concat(Ct(e.g)).concat(Ct(e.b)).concat(Ct(Math.floor(255*e.a)))}var Lt={rgbaObjectToHexString:At,interpolate:function(e,t,n){if(null==n)return null;var r=Pt(e)||{r:0,g:0,b:0,a:0},a=Pt(t)||{r:0,g:0,b:0,a:0};return At({r:Math.floor(r.r+(a.r-r.r)*n),g:Math.floor(r.g+(a.g-r.g)*n),b:Math.floor(r.b+(a.b-r.b)*n),a:r.a+(a.a-r.a)*n})}};n(463);function Dt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Rt=function(e){g()(n,e);var t=It(n);function n(e){var r;return f()(this,n),r=t.call(this,e),i()(h()(r),"onParameterChanged",(function(e,t){r.props.onParameterValuesChanged&&(r.props.reportAllValues?r.props.onParameterValuesChanged(Ft(Ft({},r.props.parameterValues),e),t):r.props.onParameterValuesChanged(e,t))})),i()(h()(r),"onFontChanged",(function(e,t,n){r.onParameterChanged(i()({},e.name,t),n)})),i()(h()(r),"onColorChanged",(function(e,t){r.onParameterChanged(i()({},e.name,Lt.rgbaObjectToHexString(t.rgb)),!1)})),i()(h()(r),"onColorCommitted",(function(e,t){r.onParameterChanged(i()({},e.name,Lt.rgbaObjectToHexString(t.rgb)),!0)})),i()(h()(r),"onFieldChanged",(function(e){var t=e.target.getAttribute("data-param");r.onParameterChanged(i()({},t,e.target.value))})),i()(h()(r),"onVerticalAlignChanged",(function(e,t){r.onParameterChanged(i()({},e.name,t))})),i()(h()(r),"onAnimationChanged",(function(e,t,n){r.onParameterChanged(i()({},e.name,t),n)})),i()(h()(r),"onTextboxFocus",(function(e){r.props.onParameterValuesChanged&&e.target.setAttribute("original-value",e.target.value)})),i()(h()(r),"onTextboxBlur",(function(e){if(r.props.onParameterValuesChanged){var t=e.target.getAttribute("original-value");if(e.target.value!=t){var n=e.target.getAttribute("data-param");r.onParameterChanged(i()({},n,e.target.value),!0)}}})),i()(h()(r),"onRadioGroupChanged",(function(e){var t=e.target.getAttribute("data-param");r.onParameterChanged(i()({},t,e.target.value),!0)})),i()(h()(r),"onButtonGroupChanged",(function(e,t){r.onParameterChanged(i()({},e,t),!0)})),i()(h()(r),"onSelectChanged",(function(e){var t=e.target.getAttribute("data-param");r.onParameterChanged(i()({},t,e.target.value),!0)})),i()(h()(r),"onCheckboxChanged",(function(e){var t=e.target.getAttribute("data-param");r.onParameterChanged(i()({},t,e.target.checked),!0)})),i()(h()(r),"getOnSliderChangedCallback",(function(e){return function(t){return r.onParameterChanged(i()({},e,t),!1)}.bind(h()(r))})),i()(h()(r),"getOnSliderReleasedCallback",(function(e){return function(t){return r.onParameterChanged(i()({},e,t),!0)}.bind(h()(r))})),i()(h()(r),"onGroupToggle",(function(e){var t=e.target.closest("button");if(t){var n=t.getAttribute("data-group");r.setState((function(e){var t=e.openGroups.indexOf(n);return t>-1?e.openGroups.splice(t,1):e.openGroups.push(n),{openGroups:e.openGroups}}))}})),i()(h()(r),"onAssetUrlDrop",(function(e){e.preventDefault(),e.stopPropagation();var t=e.target.getAttribute("data-param");r.handleUpload(e.dataTransfer.files,t)})),i()(h()(r),"onUploadClick",(function(e){var t=e.target.closest("button").getAttribute("data-param"),n=document.createElement("input");n.type="file",n.style="display: none",n.accept=e.target.getAttribute("accept"),n.addEventListener("change",(function(e){n.files.length>0&&r.handleUpload(n.files,t)})),n.click()})),i()(h()(r),"handleUpload",function(){var e=I()(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.props.onHandleUpload&&r.props.onHandleUpload(t,(function(e){r.onParameterChanged(i()({},n,e),!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),i()(h()(r),"renderInputGroup",(function(e,t){var n;switch(null==t&&(t=e.defaultValue?e.defaultValue:"slider"==e.type?e.min:"text"==e.type?"":"select"==e.type&&e.options&&e.options.length>0?e.options[0].value?e.options[0].value:e.options[0]:""),e.tag&&(n=c.a.createElement(s.Tag,{minimal:!0},e.tag)),e.type){case"font":return c.a.createElement(bt,{value:t,onChange:r.onFontChanged,param:e});case"valign":return c.a.createElement(kt,{value:t,param:e,onChange:r.onVerticalAlignChanged});case"color":return c.a.createElement(s.Popover,{boundary:"window"},c.a.createElement(s.Button,{style:{backgroundColor:t},text:""}),c.a.createElement(dt.SketchPicker,{color:t,onChange:function(t){return r.onColorChanged(e,t)},onChangeComplete:function(t){return r.onColorCommitted(e,t)}}));case"checkbox":return c.a.createElement(s.Switch,{checked:t,onChange:r.onCheckboxChanged,"data-param":e.name,label:0!=e.compact?e.displayName:null});case"select":var a=e.options;return"function"==typeof a&&(a=r.state.optionsLists[e.name]||[]),c.a.createElement(s.HTMLSelect,{value:t,onChange:r.onSelectChanged,"data-param":e.name,options:a});case"radiogroup":return c.a.createElement(s.RadioGroup,{selectedValue:t,onChange:r.onRadioGroupChanged},e.options.map((function(t){return c.a.createElement(s.Radio,{label:t.label,value:t.value,"data-param":e.name,key:t.value})})));case"buttongroup":return c.a.createElement(s.ButtonGroup,null,e.options.map((function(n){return c.a.createElement(s.Button,{text:n.label,key:n.value,active:t==n.value,onClick:function(){return r.onButtonGroupChanged(e.name,n.value)}})})));case"slider":return c.a.createElement(s.Slider,{value:t,onChange:r.getOnSliderChangedCallback(e.name),onRelease:r.getOnSliderReleasedCallback(e.name),min:e.min||0,max:e.max||100,stepSize:e.step,labelStepSize:e.labelStepSize||(e.max||100)/2});case"animation":return c.a.createElement(Ot,{value:t,param:e,onChange:r.onAnimationChanged});case"assetUrl":return c.a.createElement(s.InputGroup,{value:t,type:"text",onChange:r.onFieldChanged,onFocus:r.onTextboxFocus,onBlur:r.onTextboxBlur,"data-param":e.name,fill:!0,onDrop:r.onAssetUrlDrop,dropeffect:"copy",overridedrop:"true",rightElement:c.a.createElement(s.Button,{icon:"cloud-upload",minimal:!0,onClick:r.onUploadClick,"data-param":e.name,accept:e.accept})});case"textarea":return c.a.createElement(s.TextArea,{value:t,onChange:r.onFieldChanged,onFocus:r.onTextboxFocus,onBlur:r.onTextboxBlur,"data-param":e.name,fill:!0,growVertically:!0});case"text":default:return c.a.createElement(s.InputGroup,{value:t,type:e.type,onChange:r.onFieldChanged,onFocus:r.onTextboxFocus,onBlur:r.onTextboxBlur,"data-param":e.name,fill:!0,rightElement:n})}})),i()(h()(r),"renderFormGroup",(function(e){var t="checkbox"==e.type&&0!=e.compact?null:e.displayName;return c.a.createElement(s.FormGroup,{key:e.name||e.displayName,label:t,"label-for":e.name,inline:e.inline,style:null},r.renderInputGroup(e,r.props.parameterValues[e.name]))})),r.state={optionsLists:{}},r}return d()(n,[{key:"componentDidMount",value:function(){var e,t=this,n=Dt(this.props.parameters);try{var r=function(){var n=e.value;n.options&&"function"==typeof n.options&&Promise.resolve(n.options()).then((function(e){t.setState((function(t){return{optionsLists:Ft(Ft({},t.optionsLists),{},i()({},n.name,e))}}))}))};for(n.s();!(e=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}},{key:"render",value:function(){var e=this,t=(this.props.parameters||[]).map((function(t,n){return"group"==t.type?c.a.createElement("div",{key:t.displayName||n,className:"group "+(t.className||"")},t.displayName?c.a.createElement("label",{className:"bp3-label"},t.displayName):null,c.a.createElement("div",{className:"group-items"},t.items.map((function(t){var n;return t.width&&(n={flexShrink:0,flexGrow:0,flexBasis:t.width+"%",width:t.width+"%"}),c.a.createElement("div",{key:t.name,className:"group-item",style:n},e.renderFormGroup(t))})))):e.renderFormGroup(t)}));return c.a.createElement("div",{className:"configuration-form"},t)}}]),n}(c.a.Component),zt=(n(465),function(e){var t,n=e.label,r=e.defaultIsOpen,o=e.rightElement,i=e.disabled,u=e.title,f=e.children,p=Object(l.useState)(r),d=a()(p,2),m=d[0],h=d[1];return f&&"function"==typeof f&&(f=m?f():null),t=i?"minus":m?"caret-down":"caret-right",c.a.createElement("div",{className:"collapsible-panel"},c.a.createElement("div",{className:"panel-header",onClick:function(){return h(!m)},title:u},c.a.createElement(s.Icon,{icon:t,iconSize:"16"}),c.a.createElement("label",null,n),o),c.a.createElement(s.Collapse,{isOpen:m},f))});n(467);function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=function(e){var t,n=e.keyframe,r=e.phase,a=e.dispatch,o=Object(l.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),a("DeleteSelectedLayersKeyframes",{phase:r.key,offset:n.offset})}),[n]);return n&&(t=c.a.createElement(s.Button,{icon:"trash",minimal:!0,onClick:o})),c.a.createElement(zt,{label:"Keyframe",defaultIsOpen:!0,rightElement:t,disabled:!1,title:"Keyframe"},"keyframe form")},Ut=function(e){var t,n,r,a=e.mergedStyle,o=e.disabled,i=e.dispatch,u=Object(l.useCallback)((function(e,t){console.log({config:e}),null==a.config&&(e=Bt(Bt({},a.style.initialConfig),e)),i("UpdateSelectedLayersStyles",{styleName:a.name,config:e,createUndoHistory:t})}),[null==a.config]),f=Object(l.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),i("UpdateSelectedLayersStyles",{styleName:a.name,config:null,createUndoHistory:!0})}),[]),p=null!=a.config;return o?n="Set a keyframe to enable editing":(p&&(t=c.a.createElement(s.Button,{icon:"trash",minimal:!0,onClick:f})),r=function(){return c.a.createElement(Rt,{parameters:a.style.parameters,parameterValues:a.config||a.style.initialConfig,onParameterValuesChanged:u,reportAllValues:!0})}),c.a.createElement(zt,{label:a.style.displayName,defaultIsOpen:p,rightElement:t,disabled:o,title:n},r)},Gt=function(e){var t=e.mergedEffect,n=e.dispatch,r=Object(l.useCallback)((function(e,r){n("UpdateSelectedLayersEffect",{effectName:t.name,config:e,createUndoHistory:r})}),[t.name]),a=Object(l.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),n("UpdateSelectedLayersEffect",{effectName:t.name,config:null,createUndoHistory:!0})}),[]);return c.a.createElement(zt,{label:t.effect.displayName,defaultIsOpen:!0,rightElement:c.a.createElement(s.Button,{icon:"trash",minimal:!0,onClick:a})},(function(){return c.a.createElement(Rt,{parameters:t.effect.parameters,parameterValues:t.config,onParameterValuesChanged:r,reportAllValues:!0})}))},Ht=function(){var e,t=tt((function(e){return e.onUpload})),n=a()(t,2),r=a()(n[0],1)[0],o=n[1],i=ge(),s=i.mergedKeyframe,u=i.mergedElement,f=i.mergedEffects,p=i.mergedStyles,d=i.animationPhase,m=Object(l.useCallback)((function(e,t){o("UpdateSelectedLayersConfig",{config:e,createUndoHistory:t})}),[]),h=Object(l.useCallback)((function(e,t){o("HandleFileUpload",{files:e,onComplete:t})}),[]);s&&(e=c.a.createElement(Vt,{keyframe:s,phase:d,dispatch:o}));var y,g,v=null;return u&&u.element.manifest.parameters&&u.element.manifest.parameters.length>0&&(v=c.a.createElement(zt,{label:u.element.manifest.name,defaultIsOpen:!0},c.a.createElement("div",{className:"layer-config-panel"},c.a.createElement(Rt,{parameters:u.element.manifest.parameters,parameterValues:u.config,reportAllValues:!0,onParameterValuesChanged:m,onUpload:r,onHandleUpload:h})))),f&&(y=f.map((function(e){return c.a.createElement(Gt,{key:e.name,mergedEffect:e,dispatch:o})}))),p&&(g=p.map((function(e){return c.a.createElement(Ut,{disabled:!1,key:e.name,mergedStyle:e,dispatch:o})}))),c.a.createElement(c.a.Fragment,null,e,v,y,g)};function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt=function(e){e.props;var t=tt(),n=ge(),r=Object(l.useRef)(n);return Object(l.useEffect)((function(){r.current!=n&&(r.current=n)}),[n]),Object(l.useEffect)((function(){function e(e){var n=e.ctrlKey||e.metaKey,a=e.shiftKey;if(!n||"+"!=e.key&&"-"!=e.key&&"0"!=e.key||(e.preventDefault(),e.stopPropagation()),"INPUT"!=e.target.tagName&&"SELECT"!=e.target.tagName&&"TEXTAREA"!=e.target.tagName)switch(e.key){case"0":if(!e.ctrlKey)break;e.preventDefault(),t("ResetStageZoom");break;case"z":if(!n)break;e.preventDefault(),t("Undo");break;case"y":if(!n)break;e.preventDefault(),t("Redo");break;case"F2":e.preventDefault();break;case"Delete":e.preventDefault(),t("DeleteSelectedLayers");break;case"a":if(!n)break;e.preventDefault(),t("SelectAllLayers");break;case"c":e.preventDefault(),t(n?"CopySelectedLayersToClipboard":"CenterSelectedLayers",r.current);break;case"f":if(n)break;e.preventDefault(),t("FullscreenSelectedLayers",r.current);break;case"r":if(n)break;e.preventDefault(),t("ResetSelectedLayers");break;case"[":e.preventDefault(),t("RaiseSelectedLayers",n);break;case"]":e.preventDefault(),t("LowerSelectedLayers",n);break;case"+":e.preventDefault(),t("ScaleSelectedLayers",Yt(Yt({},r.current),{},{direction:"up",precise:a}));break;case"-":e.preventDefault(),t("ScaleSelectedLayers",Yt(Yt({},r.current),{},{direction:"down",precise:a}));break;case"ArrowRight":e.preventDefault(),t("NudgeSelectedLayers",Yt(Yt({},r.current),{},{direction:"right",precise:a,toEdge:n}));break;case"ArrowLeft":e.preventDefault(),t("NudgeSelectedLayers",Yt(Yt({},r.current),{},{direction:"left",precise:a,toEdge:n}));break;case"ArrowDown":e.preventDefault(),t("NudgeSelectedLayers",Yt(Yt({},r.current),{},{direction:"down",precise:a,toEdge:n}));break;case"ArrowUp":e.preventDefault(),t("NudgeSelectedLayers",Yt(Yt({},r.current),{},{direction:"up",precise:a,toEdge:n}));break;case"Tab":e.preventDefault(),t("SelectNextLayer",a)}}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),null},Wt=n(13),_t=function(e){var t=tt();return Object(l.useEffect)((function(){function e(e){"INPUT"!=e.target.tagName&&"SELECT"!=e.target.tagName&&"TEXTAREA"!=e.target.tagName&&(e.preventDefault(),e.clipboardData.items&&t("HandlePaste",e.clipboardData.items),e.clipboardData.files&&t("HandleFileUpload",{files:e.clipboardData.files}))}document.addEventListener("paste",e)}),[]),null},Xt=(n(469),function(e){var t=e.edge,n=e.defaultSize,r=e.minimum,o=e.maximum,i=e.onSizeChanged,s=A()(e,["edge","defaultSize","minimum","maximum","onSizeChanged"]),u=Object(l.useState)(),f=a()(u,2),p=f[0],d=f[1],m="top"==t||"bottom"==t,h=Object(l.useCallback)((function(e){var a=m?e.clientY:e.clientX,l=n,c=function(e){var i=n+(m?"top"==t?a-e.clientY:e.clientY-a:"right"==t?e.clientX-a:a-e.clientX);i>r&&i<=o&&(l=i,d(i))};window.addEventListener("mousemove",c),window.addEventListener("mouseup",(function e(t){i(l),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",e)}))}),[n]),y=c.a.createElement("div",{className:"resize-bar "+t},c.a.createElement("div",{className:"inner",onMouseDown:h})),g=p||n;switch(t){case"top":return c.a.createElement(c.a.Fragment,null,y,c.a.createElement("div",{className:"resizable",style:{height:g+"px"}},c.a.createElement("div",s)));case"bottom":return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"resizable",style:{height:g+"px"}},c.a.createElement("div",s)),y);case"left":return c.a.createElement(c.a.Fragment,null,y,c.a.createElement("div",{className:"resizable",style:{width:g+"px"}},c.a.createElement("div",s)));case"right":return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"resizable",style:{width:g+"px"}},c.a.createElement("div",s)),y);default:return null}}),Jt=(n(471),n(473)),$t=n.n(Jt);n(474);function qt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn=[{value:1,label:"100%"},{value:.666666667,label:"67%"},{value:.5,label:"50%"},{value:.25,label:"25%"}],rn=function(e){var t=e.zoomSelection,n=e.onZoomSelectionChanged,r=A()(e,["zoomSelection","onZoomSelectionChanged"]),a=Object(l.useCallback)((function(e){n&&("auto"==e.target.value?n(tn(tn({},t),{},{isAuto:!0})):n(tn(tn({},t),{},{zoom:parseFloat(e.target.value),isAuto:!1})))}),[t]),o=[];t.isAuto||(-1!=nn.findIndex((function(e){return e.value==t.zoom}))||o.push({label:"".concat(Math.round(100*t.zoom),"%"),value:t.zoom}));o.push({label:"Auto (".concat(Math.round(100*t.autoFitZoom),"%)"),value:"auto"});var i,u=qt(nn);try{for(u.s();!(i=u.n()).done;){var f=i.value;o.push(f)}}catch(e){u.e(e)}finally{u.f()}return c.a.createElement(s.HTMLSelect,j()({},r,{onChange:a,options:o,value:t.isAuto?"auto":t.zoom}))},an=function(e){$t()(e);var t=tt((function(e){return e.stageTool}),(function(e){return e.stageZoomSelection})),n=a()(t,2),r=a()(n[0],2),o=r[0],i=r[1],u=n[1],f=Object(l.useCallback)((function(e){u("SetStageZoomSelection",e)}),[]),p=Object(l.useCallback)((function(){u("ResetStageZoom")}),[]),d=Object(l.useCallback)((function(e){u("SetStageTool",e)}),[]),m=Object.entries(ze).map((function(e){var t=a()(e,2),n=t[0],r=t[1];return c.a.createElement(s.ButtonGroup,{key:n},r.map((function(e){return c.a.createElement(s.Tooltip,{key:e.displayName,content:e.displayName},c.a.createElement(s.Button,{active:o==e,icon:e.icon,onClick:function(){return d(e)}}))})))}));return c.a.createElement("div",{className:"main-toolbar"},m,c.a.createElement(s.ButtonGroup,null,c.a.createElement(s.Tooltip,{content:"Reset Zoom"},c.a.createElement(s.Button,{icon:"search",onClick:p})),c.a.createElement("div",{className:"bp3-button",style:{padding:0}},c.a.createElement(rn,{minimal:!0,large:!1,zoomSelection:i,onZoomSelectionChanged:f}))))};function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn=function(e){var t=Object(l.useMemo)((function(){var t=e.overlay||{name:"New Overlay",layers:[],phases:null};return{overlay:t,stageTool:Re.moveAndResize,stageZoomSelection:{zoom:1,autoFitZoom:1,isAuto:!0},stageTransform:{zoom:1,panning:[0,0],height:e.height||1920,width:e.width||1080},onOverlayChanged:e.onOverlayChanged,width:e.width||1920,height:e.height||1080,elements:e.disableBuiltinElements?ln({},e.elements):ln(ln({},Wt.a),e.elements),onUpload:e.onUpload,selectedLayerIds:[],toasts:[],undoData:{pointer:0,history:[ln({},t)]},animation:{phase:_.a.STATIC,state:J.a.PAUSED,offset:0},isExecutingScript:!1,layerDomElements:[]}}),[e.overlay,e.onOverlayChanged,e.width,e.height,e.disableBuiltinElements,e.elements,e.onUpload]),n=Object(l.useState)({leftPanelWidth:350,bottomBarHeight:200,rightPanelWidth:300,timelineVisible:!0}),r=a()(n,2),o=r[0],i=r[1];Object(l.useEffect)((function(){var e=function(e){e.ctrlKey&&(e.stopPropagation(),e.preventDefault())};return window.addEventListener("wheel",e,{passive:!1}),function(){return window.removeEventListener("wheel",e,{passive:!1})}}),[]);var s=Object(l.useCallback)((function(e){i((function(t){return ln(ln({},t),e)}))}),[]);return c.a.createElement(et,{initialState:t},c.a.createElement(ce,null,c.a.createElement(ye,null,c.a.createElement(Zt,null),c.a.createElement(_t,null),c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(pt,null),c.a.createElement("div",{className:"center-wrapper"},c.a.createElement(Xt,{edge:"right",defaultSize:o.leftPanelWidth,minimum:100,maximum:500,onSizeChanged:function(e){return s({leftPanelWidth:e})},className:"leftpanel-wrapper panel-bg"},c.a.createElement("div",{className:"layer-list-wrapper",dropeffect:"move"},c.a.createElement(it,null))),c.a.createElement("div",{className:"stage-wrapper ",dropeffect:"copy"},c.a.createElement("div",{className:"toolbar-wrapper"},c.a.createElement(an,null)),c.a.createElement(ft,null)),c.a.createElement(Xt,{edge:"left",defaultSize:o.rightPanelWidth,minimum:100,maximum:500,onSizeChanged:function(e){return s({rightPanelWidth:e})},className:"rightpanel-wrapper panel-bg"},c.a.createElement(Ht,null)))))))};t.default=cn},7:function(e,t,n){"use strict";t.a={ENTRY:{key:"entry",displayName:"Entry"},EXIT:{key:"exit",displayName:"Exit"},HIDDEN:{key:"hidden",displayName:"Hidden"},STATIC:{key:"static",displayName:"Static"}}},8:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return b}));var r=n(12),a=n.n(r),o=n(20),i=n.n(o),l=n(2),c=n.n(l),s=(n(21),n(3)),u=n.n(s);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){return function(t,n){var r=e[n.type];if(!r)return t;var a=r(t,n);return a?p(p({},t),a):t}},m=function(e,t){return t>e?t:e};function h(e){return y.apply(this,arguments)}function y(){return(y=i()(a.a.mark((function e(t){var n,r,o,i,l,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(n=Object.entries(t)).length){e.next=3;break}return e.abrupt("return","");case 3:r=[],o=0,i=n;case 5:if(!(o<i.length)){e.next=16;break}return l=c()(i[o],2),s=l[0],u=l[1],r.push("//# sourceURL=".concat(s)),e.t0=r,e.next=11,u;case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:o++,e.next=5;break;case 16:return e.abrupt("return",r.join("\r\n"));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){var t=document.createElement("textarea");t.style.position="absolute",t.style.top="-99999px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),setTimeout((function(){document.body.removeChild(t)}),100)},v=function(e,t,n){var r=n.top,a=n.left;return r-=t.height/2,a-=t.width/2,r+=t.panning[1],a+=t.panning[0],r*=t.zoom,a*=t.zoom,{top:r+=e.height/2,left:a+=e.width/2,height:n.height?n.height*t.zoom:0,width:n.width?n.width*t.zoom:0}},b=function(e,t,n){var r=n.top,a=n.left;return r-=e.height/2,a-=e.width/2,r/=t.zoom,a/=t.zoom,r-=t.panning[1],a-=t.panning[0],{top:r+=t.height/2,left:a+=t.width/2,height:n.height?n.height/t.zoom:0,width:n.width?n.width/t.zoom:0}}},9:function(e,t,n){"use strict";var r=n(22),a=/(rgba?\([\. ,0-9]+\)) ([\.0-9]+)px ([\.0-9]+)px ([\.0-9]+)px/,o=/(rgba?\([\. ,0-9]+\)) ([\.0-9]+)px ([\.0-9]+)px ([\.0-9]+)px ([\.0-9]+)px/,i=/polygon\(([0-9\.]+)px 0px, calc\(100% - ([0-9\.]+)px\) 0px, 100% ([0-9\.]+)px, 100% calc\(100% - ([0-9\.]+)px\), calc\(100% - ([0-9\.]+)px\) 100%, ([0-9\.]+)px 100%, 0px calc\(100% - ([0-9\.]+)px\), 0px ([0-9\.]+)px, ([0-9\.]+)px 0px\)/,l=/blur\(([0-9\.]+)px\)/,c=/brightness\(([0-9\.]+)\)/,s=/contrast\(([0-9\.]+)\)/,u=/saturate\(([0-9\.]+)\)/,f=/hue-rotate\(([0-9\.]+)deg\)/,p=/invert\(([0-9\.]+)\)/,d=/sepia\(([0-9\.]+)\)/,m=/perspective\(([0-9\.]+)px\) translate3d\(([0-9\.]+)px, ([0-9\.]+)px, ([0-9\.]+)px\) rotate3d\(1, 0, 0, ([0-9\.]+)deg\) rotate3d\(0, 1, 0, ([0-9\.]+)deg\) rotate\(([0-9\.]+)deg\) scale3d\(([0-9\.]+), ([0-9\.]+), ([0-9\.]+)\)/,h={rect:{displayName:"Size & Position",parameters:[{type:"group",className:"size-and-position",items:[{name:"left",displayName:"Left",type:"number",width:50,inline:!0,tag:"px"},{name:"top",displayName:"Top",type:"number",width:50,inline:!0,tag:"px"}]},{type:"group",className:"size-and-position",items:[{name:"width",displayName:"Width",type:"number",width:50,inline:!0,tag:"px"},{name:"height",displayName:"Height",type:"number",width:50,inline:!0,tag:"px"}]}],initialConfig:{left:0,top:0,height:400,width:400},extract:function(e){return{left:parseFloat(e.getPropertyValue("left")),top:parseFloat(e.getPropertyValue("top")),width:parseFloat(e.getPropertyValue("width")),height:parseFloat(e.getPropertyValue("height"))}},apply:function(e,t){var n=t.left,r=t.top,a=t.width,o=t.height;void 0!==n&&(e.left=n+"px"),void 0!==r&&(e.top=r+"px"),void 0!==a&&(e.width=a+"px"),void 0!==o&&(e.height=o+"px")}},font:{displayName:"Font",parameters:[{name:"font",displayName:null,type:"font"}],initialConfig:{font:{fontFamily:"Arial",fontSize:"60pt",color:"rgba(255,255,255,1)"}},extract:function(e){return{font:{fontFamily:e.getPropertyValue("font-family").toString(),fontSize:parseFloat(e.getPropertyValue("font-size")),color:e.getPropertyValue("color").toString(),fontWeight:e.getPropertyValue("font-weight").toString(),fontStyle:e.getPropertyValue("font-style").toString(),textDecoration:e.getPropertyValue("text-decoration").toString(),justifyContent:e.getPropertyValue("justify-content").toString(),alignItems:e.getPropertyValue("align-items").toString(),whiteSpace:e.getPropertyValue("white-space").toString()}}},apply:function(e,t){var n=t.font;n&&Object.assign(e,n)},preload:function(e){var t=e.font;return t&&t.fontFamily?r.a.LoadFont(t.fontFamily):null}},letterSpacing:{displayName:"Letter Spacing",parameters:[{name:"amount",type:"slider",displayName:null,min:-100,max:100}],initialConfig:{amount:0},extract:function(e){return{amount:parseInt(e.getPropertyValue("letter-spacing"))}},apply:function(e,t){var n=t.amount,r=void 0===n?0:n;e.letterSpacing="".concat(r,"px")}},lineHeight:{displayName:"Line Height",parameters:[{name:"amount",type:"slider",displayName:null,min:0,max:200,labelStepSize:50}],initialConfig:{amount:0},extract:function(e){return{amount:parseInt(e.getPropertyValue("line-height"))}},apply:function(e,t){var n=t.amount,r=void 0===n?0:n;e.lineHeight="".concat(r,"px")}},textStroke:{displayName:"Text Stroke",parameters:[{type:"group",items:[{name:"width",type:"number",tag:"Width",width:85},{name:"color",type:"color",width:15}]}],initialConfig:{width:0,color:"#FFFFFF"},extract:function(e){return{width:parseFloat(e.getPropertyValue("-webkit-text-stroke-width")),color:e.getPropertyValue("-webkit-text-stroke-color").toString()}},apply:function(e,t){var n=t.width,r=void 0===n?0:n,a=t.color,o=void 0===a?"#FFFFFF":a;e.WebkitTextStroke="".concat(r,"px ").concat(o)}},textShadow:{displayName:"Text Shadow",parameters:[{type:"group",items:[{name:"offsetx",type:"number",tag:"X",width:25},{name:"offsety",type:"number",tag:"Y",width:25},{name:"size",type:"number",tag:"Size",width:35},{name:"color",type:"color",width:15}]}],initialConfig:{offsetx:0,offsety:0,size:5,color:"#000000"},extract:function(e){var t=e.getPropertyValue("text-shadow").match(a);return t?{color:t[1],offsetx:parseFloat(t[2]),offsety:parseFloat(t[3]),size:parseFloat(t[4])}:null},apply:function(e,t){var n=t.offsetx,r=void 0===n?0:n,a=t.offsety,o=void 0===a?0:a,i=t.size,l=void 0===i?5:i,c=t.color,s=void 0===c?"#000000":c;e.textShadow="".concat(s," ").concat(r,"px ").concat(o,"px ").concat(l,"px")}},backgroundColor:{displayName:"Background Color",parameters:[{name:"color",type:"color",displayName:null}],initialConfig:{color:"#FFFFFF"},extract:function(e){return{color:e.getPropertyValue("background-color")}},apply:function(e,t){var n=t.color,r=void 0===n?"#FFFFFF":n;e.backgroundColor=r}},opacity:{displayName:"Opacity",parameters:[{name:"amount",type:"slider",min:0,max:100}],initialConfig:{amount:100},extract:function(e){return{amount:100*parseFloat(e.getPropertyValue("opacity"))}},apply:function(e,t){var n=t.amount,r=void 0===n?100:n;e.opacity="".concat(r/100)}},border:{displayName:"Border",parameters:[{type:"group",items:[{name:"width",type:"number",tag:"Width",width:55},{name:"style",type:"select",width:30,options:[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"}]},{name:"color",type:"color",width:15}]}],initialConfig:{width:0,style:"solid",color:"#FFFFFF"},extract:function(e){return{width:parseFloat(e.getPropertyValue("border-left-width")),style:e.getPropertyValue("border-style").toString(),color:e.getPropertyValue("border-color").toString()}},apply:function(e,t){var n=t.width,r=void 0===n?0:n,a=t.style,o=void 0===a?"solid":a,i=t.color,l=void 0===i?"#FFFFFF":i;e.borderWidth=r+"px",e.borderColor=l,e.borderStyle=o}},shadow:{displayName:"Shadow",parameters:[{type:"group",items:[{name:"offsetx",type:"number",tag:"X",width:25},{name:"offsety",type:"number",tag:"Y",width:25},{name:"size",type:"number",tag:"Size",width:35},{name:"color",type:"color",width:15}]}],initialConfig:{color:"#00000080",offsetx:0,offsety:0,size:5},extract:function(e){var t=e.getPropertyValue("box-shadow").match(o);return t?{color:t[1],offsetx:parseFloat(t[2]),offsety:parseFloat(t[3]),size:parseFloat(t[4])}:null},apply:function(e,t){var n=t.offsetx,r=void 0===n?0:n,a=t.offsety,o=void 0===a?0:a,i=t.size,l=void 0===i?5:i,c=t.color,s=void 0===c?"#000000":c;e.boxShadow="".concat(s," ").concat(r,"px ").concat(o,"px ").concat(l,"px")}},borderRadius:{displayName:"Border Radius",parameters:[{type:"group",items:[{name:"tl",type:"number",width:25,tag:"TL"},{name:"tr",type:"number",width:25,tag:"TR"},{name:"br",type:"number",width:25,tag:"BR"},{name:"bl",type:"number",width:25,tag:"BL"}]}],initialConfig:{tl:0,tr:0,br:0,bl:0},extract:function(e){return{tl:parseFloat(e.getPropertyValue("border-top-left-radius")),tr:parseFloat(e.getPropertyValue("border-top-right-radius")),br:parseFloat(e.getPropertyValue("border-bottom-right-radius")),bl:parseFloat(e.getPropertyValue("border-bottom-left-radius"))}},apply:function(e,t){var n=t.tl,r=void 0===n?0:n,a=t.tr,o=void 0===a?0:a,i=t.br,l=void 0===i?0:i,c=t.bl,s=void 0===c?0:c;e.overflow="hidden",e.borderRadius="".concat(r,"px ").concat(o,"px ").concat(l,"px ").concat(s,"px")}},cornerClip:{displayName:"Corner Clip",parameters:[{type:"group",items:[{name:"tl",type:"number",width:25,tag:"TL"},{name:"tr",type:"number",width:25,tag:"TR"},{name:"br",type:"number",width:25,tag:"BR"},{name:"bl",type:"number",width:25,tag:"BL"}]}],initialConfig:{tl:0,tr:0,br:0,bl:0},extract:function(e){var t=e.getPropertyValue("clip-path").match(i);return t?{tl:parseFloat(t[1]),tr:parseFloat(t[2]),br:parseFloat(t[4]),bl:parseFloat(t[6])}:null},apply:function(e,t){var n=t.tl,r=void 0===n?0:n,a=t.tr,o=void 0===a?0:a,i=t.br,l=void 0===i?0:i,c=t.bl,s=void 0===c?0:c;e.clipPath="polygon(".concat(r,"px 0px, calc(100% - ").concat(o,"px) 0px, 100% ").concat(o,"px, 100% calc(100% - ").concat(l,"px), calc(100% - ").concat(l,"px) 100%, ").concat(s,"px 100%, 0px calc(100% - ").concat(s,"px), 0px ").concat(r,"px, ").concat(r,"px 0px)")}},padding:{displayName:"Padding",parameters:[{type:"group",items:[{name:"t",type:"number",width:25,tag:"T"},{name:"r",type:"number",width:25,tag:"R"},{name:"b",type:"number",width:25,tag:"B"},{name:"l",type:"number",width:25,tag:"L"}]}],initialConfig:{t:0,r:0,b:0,l:0},extract:function(e){return{t:parseFloat(e.getPropertyValue("padding-top")),r:parseFloat(e.getPropertyValue("padding-right")),b:parseFloat(e.getPropertyValue("padding-bottom")),l:parseFloat(e.getPropertyValue("padding-left"))}},apply:function(e,t){var n=t.t,r=void 0===n?0:n,a=t.r,o=void 0===a?0:a,i=t.b,l=void 0===i?0:i,c=t.l,s=void 0===c?0:c;e.padding="".concat(r,"px ").concat(o,"px ").concat(l,"px ").concat(s,"px")}},blur:{displayName:"Blur",parameters:[{name:"amount",type:"slider",displayName:null}],initialConfig:{amount:0},extract:function(e){var t=e.getPropertyValue("filter").match(l);return t?{amount:parseFloat(t[1])}:null},apply:function(e,t){var n=t.amount,r=void 0===n?0:n;null==e.filter&&(e.filter=""),e.filter+=" blur(".concat(r,"px)")}},color:{displayName:"Color Adjustment",parameters:[{name:"brightness",displayName:"Brightness",type:"slider",inline:!0},{name:"contrast",displayName:"Contrast",type:"slider",inline:!0},{name:"saturation",displayName:"Saturation",type:"slider",inline:!0},{name:"hue",displayName:"Hue",type:"slider",inline:!0},{name:"invert",displayName:"Invert",type:"slider",inline:!0},{name:"sepia",displayName:"Sepia",type:"slider",inline:!0}],initialConfig:{brightness:50,contrast:50,saturation:50,hue:0,invert:0,sepia:0},extract:function(e){var t=e.getPropertyValue("filter"),n=t.match(c),r=t.match(s),a=t.match(u),o=t.match(f),i=t.match(p),l=t.match(d);return{brightness:n?50*parseFloat(n[1]):50,contrast:r?50*parseFloat(r[1]):50,saturation:a?50*parseFloat(saturationMatchion[1]):50,hue:o?parseFloat(o[1])/3.6:0,invert:i?parseFloat(i[1]):0,sepia:l?parseFloat(l[1]):0}},apply:function(e,t){var n=t.brightness,r=void 0===n?50:n,a=t.contrast,o=void 0===a?50:a,i=t.saturation,l=void 0===i?50:i,c=t.hue,s=void 0===c?0:c,u=t.invert,f=void 0===u?0:u,p=t.sepia,d=void 0===p?0:p;null==e.filter&&(e.filter=""),50!=r&&(e.filter+=" brightness(".concat(r/50,")")),50!=o&&(e.filter+=" contrast(".concat(o/50,")")),50!=l&&(e.filter+=" saturate(".concat(l/50,")")),0!=s&&(e.filter+=" hue-rotate(".concat(3.6*s,"deg)")),0!=f&&(e.filter+=" invert(".concat(f,")")),0!=d&&(e.filter+=" sepia(".concat(d,")"))}},autoFit:{displayName:"Auto Fit",parameters:[{type:"group",items:[{name:"fit",type:"select",defaultValue:"fill",width:30,options:[{label:"Fill",value:"fill"},{label:"Contain",value:"contain"},{label:"Cover",value:"cover"}]},{name:"position",tag:"Pos.",type:"text",width:70}]}],initialConfig:{fit:"fill",position:"center center"},extract:function(e){return{fit:e.getPropertyValue("object-fit"),position:e.getPropertyValue("object-position")}},apply:function(e,t){var n=t.fit,r=void 0===n?"fill":n,a=t.position,o=void 0===a?"center center":a;e.objectFit=r,e.objectPosition=o}},"3dtransform":{displayName:"3D Transform",parameters:[{type:"group",displayName:"Transform",items:[{name:"tx",type:"number",width:33.333,tag:"X"},{name:"ty",type:"number",width:33.333,tag:"Y"},{name:"tz",type:"number",width:33.333,tag:"Z"}]},{type:"group",displayName:"Rotate",items:[{name:"rx",type:"number",width:33.333,tag:"X"},{name:"ry",type:"number",width:33.333,tag:"Y"},{name:"rz",type:"number",width:33.333,tag:"Z"}]},{type:"group",displayName:"Scale",items:[{name:"sx",type:"number",width:33.333,tag:"X"},{name:"sy",type:"number",width:33.333,tag:"Y"},{name:"sz",type:"number",width:33.333,tag:"Z"}]},{name:"perspective",displayName:"Perspective",type:"number",defaultValue:"1000",inline:!0,tag:"px"}],initialConfig:{perspective:1e3,tx:0,ty:0,tz:0,rx:0,ry:0,rz:0,sx:1,sy:1,sz:1},extract:function(e){var t=e.getPropertyValue("transform").match(m);return t?{perspective:parseFloat(t[1]),tx:parseFloat(t[2]),ty:parseFloat(t[3]),tz:parseFloat(t[4]),rx:parseFloat(t[5]),ry:parseFloat(t[6]),rz:parseFloat(t[7]),sx:parseFloat(t[8]),sy:parseFloat(t[9]),sz:parseFloat(t[10])}:null},apply:function(e,t){var n=t.perspective,r=t.tx,a=void 0===r?0:r,o=t.ty,i=void 0===o?0:o,l=t.tz,c=void 0===l?0:l,s=t.rx,u=void 0===s?0:s,f=t.ry,p=void 0===f?0:f,d=t.rz,m=void 0===d?0:d,h=t.sx,y=void 0===h?1:h,g=t.sy,v=void 0===g?1:g,b=t.sz,w=void 0===b?1:b;e.transform="perspective(".concat(n,"px) translate3d(").concat(a,"px,").concat(i,"px,").concat(c,"px) rotateX(").concat(u,"deg) rotateY(").concat(p,"deg) rotateZ(").concat(m,"deg) scale3d(").concat(y,",").concat(v,",").concat(w,")")}}};t.a=h}}]);