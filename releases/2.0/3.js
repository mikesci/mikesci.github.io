(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[3],{11:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=["rect"],o=["border","backgroundColor","opacity","padding","shadow","filters","cornerClip","3dtransform"],l=["font","letterSpacing","textStroke","textShadow","lineHeight"],s=["autoFit"],c={manifest:{name:"Rectangle",icon:"square",preserveAspect:!1,primative:!0,parameters:[],allowedStyles:[].concat(a()(i),a()(o)),defaultStyle:{top:0,left:0,width:640,height:360,backgroundColor:"#FF0000"}},component:function(e){return null}},u={manifest:{name:"Text",icon:"new-text-box",preserveAspect:!1,primative:!0,parameters:[{name:"text",displayName:"Content",type:"textarea",defaultValue:"text",immediate:!0}],allowedStyles:[].concat(a()(i),a()(l),a()(o)),defaultStyle:{top:0,left:0,width:400,height:400,fontFamily:"Arial",fontSize:"60px",color:"rgba(255,255,255,1)",whiteSpace:"pre"}},component:function(e){var t=e.text;return React.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit",whiteSpace:"inherit"}},t)}};function p(e,t){if(!f(e))return e;if(!t)return null;var n=t[e];return n?n.src:null}function f(e){return!!e&&e.startsWith("asset:")}var d={manifest:{name:"Image",width:400,height:400,icon:"media",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"image/*",inline:!0}],allowedStyles:[].concat(a()(i),a()(s),a()(o)),defaultStyle:{top:0,left:0,width:400,height:400},getNaturalDimensions:function(e,t){return new Promise((function(n,r){if(e.url){var a=p(e.url,t);if(a){var i=new Image;i.addEventListener("load",(function(){n({width:i.naturalWidth,height:i.naturalHeight})})),i.src=a,setTimeout((function(){return r("Timeout getting image size.")}),5e3)}else r("Could not get asset source.")}else r("No url specified.")}))},preload:function(e){var t=p(e.url);if(t)return new Promise((function(e,n){var r=new Image;r.addEventListener("load",e),r.addEventListener("error",e),r.addEventListener("abort",e),r.src=t}))},referencedAssets:function(e){return f(e.url)?[e.url]:null}},component:function(e){var t=p(e.url,e.assets);return React.createElement("img",{src:t,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}},m=n(5),y=n.n(m),h=n(2),g=n.n(h),b=n(0),v=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i;function w(e){if(!e||f(e))return null;var t=e.match(v);return t?t[1]:null}var x={manifest:{name:"Video",icon:"video",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"video/*",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,width:50},{name:"loop",type:"checkbox",displayName:"Loop",defaultValue:!1,inline:!0,width:50}],allowedStyles:[].concat(a()(i),a()(s),a()(o)),defaultStyle:{top:0,left:0,width:1280,height:720},getNaturalDimensions:function(e,t){return new Promise((function(n,r){if(e.url){var a=p(e.url,t);if(a){var i=document.createElement("video");i.addEventListener("loadeddata",(function(){n({width:i.videoWidth,height:i.videoHeight})}));var o=document.createElement("source");o.src=a,i.appendChild(o),setTimeout((function(){return r("Timeout getting video size.")}),5e3)}else r("Could not get asset source.")}else r("No url specified.")}))},referencedAssets:function(e){return f(e.url)?[e.url]:null},preload:function(e){return w(e.url)?(window.onYouTubeIframeAPIReadyPromise||(window.onYouTubeIframeAPIReadyPromise=new Promise((function(e){if(window.YT)e();else{var t=document.createElement("script");t.type="text/javascript",t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=e}}))),window.onYouTubeIframeAPIReadyPromise):null}},YoutubeVideoComponent:function(e){var t=e.videoId,n=e.url,r=e.playing,a=void 0===r||r,i=e.loop,o=void 0!==i&&i,l=e.volume,s=void 0===l?100:l,c=Object(b.useRef)(),u=useState(),p=g()(u,2),f=p[0],d=p[1],m=useState(),y=g()(m,2),h=y[0],v=y[1];return Object(b.useEffect)((function(){if(window.YT)var e=new YT.Player(c.current,{width:"100%",height:"100%",playerVars:{controls:0,modestbranding:1},events:{onReady:function(t){d(e)},onStateChange:function(e){var t=e.data;v(t)}}})}),[window.YT]),Object(b.useEffect)((function(){f&&f.loadVideoByUrl("http://www.youtube.com/v/".concat(t,"?version=3"))}),[f,t]),Object(b.useEffect)((function(){f&&f.setLoop(o)}),[f,o]),Object(b.useEffect)((function(){f&&h&&-1==h&&f.seekTo(0)}),[f,h]),Object(b.useEffect)((function(){f&&(a?f.playVideo():f.pauseVideo())}),[f,a]),Object(b.useEffect)((function(){f&&f.setVolume(s)}),[f,s]),React.createElement("div",{style:{overflow:"hidden",height:"100%",width:"100%",display:null!=n&&n.length>0?"block":"none"}},React.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),React.createElement("div",{ref:c}))},HTMLVideoComponent:function(e){var t=e.src,n=e.url,r=e.playing,a=void 0===r||r,i=e.loop,o=void 0!==i&&i,l=e.volume,s=void 0===l?100:l,c=Object(b.useRef)();Object(b.useEffect)((function(){c.current.load()}),[n]),Object(b.useEffect)((function(){c.current.currentTime=0,a?c.current.play():c.current.pause()}),[a]),Object(b.useEffect)((function(){c.current.volume=s/100}),[s]);var u=Object(b.useCallback)((function(e){a&&c.current.play().catch((function(e){console.log(e.message)}))}),[]);return React.createElement("video",{ref:c,onLoadedData:u,loop:o,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}},React.createElement("source",{src:t}))},component:function(e){var t=w(e.url);return t?React.createElement(x.YoutubeVideoComponent,y()({videoId:t},e)):React.createElement(x.HTMLVideoComponent,y()({src:p(e.url,e.assets)},e))}},S=x,O={manifest:{name:"Audio",nonVisual:!0,effectsAllowed:!1,primative:!0,icon:"volume-up",parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"audio/*",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,width:50},{name:"loop",type:"checkbox",displayName:"Looping",defaultValue:!1,inline:!0,width:50}],allowedStyles:[],referencedAssets:function(e){return f(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.playing,r=void 0===n||n,a=e.loop,i=void 0!==a&&a,o=e.volume,l=void 0===o?100:o,s=e.assets,c=Object(b.useRef)();Object(b.useEffect)((function(){c.current.load()}),[t]),Object(b.useEffect)((function(){r?c.current.play():c.current.pause()}),[r]),Object(b.useEffect)((function(){c.current.volume=l/100}),[l]);var u=Object(b.useCallback)((function(e){r&&c.current.play().catch((function(e){console.log(e.message)}))}),[]),f=p(t,s);return React.createElement("audio",{ref:c,onLoadedData:u,loop:i},React.createElement("source",{src:f}))}},E={manifest:{name:"Iframe",icon:"globe-network",primative:!0,preserveAspect:!1,parameters:[{name:"url",type:"assetUrl",displayName:"Url/Asset",accept:"text/html"}],allowedStyles:[].concat(a()(i),a()(s),a()(o)),defaultStyle:{top:0,left:0,width:1280,height:720},referencedAssets:function(e){return f(e.url)?[e.url]:null}},component:function(e){var t=p(e.url,e.assets);return React.createElement("iframe",{src:t,style:{border:"0",height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}};t.a={text:u,rectangle:c,image:d,video:S,audio:O,iframe:E}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n(6);var r={Effects:["duplicator"]},a={duplicator:{type:"wrapper",displayName:"Duplicator",parameters:[{name:"copies",type:"number",tag:"copies",defaultValue:5,inline:!0},{type:"group",items:[{name:"sx",type:"number",tag:"Δ x",defaultValue:5,width:33.3333},{name:"sy",type:"number",tag:"Δ y",defaultValue:5,width:33.3333},{name:"sz",type:"number",tag:"Δ z",defaultValue:5,width:33.3333}]}],component:function(e){for(var t=e.sx,n=void 0===t?5:t,r=e.sy,a=void 0===r?5:r,i=e.sz,o=void 0===i?5:i,l=e.copies,s=void 0===l?5:l,c=e.children,u=[],p=0;p<s;p++){var f=o<0?s-p-1:p;u.push(React.createElement("div",{key:p,style:{position:"absolute",transformStyle:"preserve-3d",transform:"perspective(1000px) translate3d(".concat(n*f,"px, ").concat(a*f,"px, ").concat(o*f,"px"),width:"100%",height:"100%"}},c))}return React.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},u)}}}},17:function(e,t,n){"use strict";n(6);var r=Math.PI/180,a={"fade-in":{displayName:"Fade In",phase:"entry",parameters:[{name:"fromOpacity",type:"number",displayName:"From",tag:"%",min:0,max:100,immediate:!1}],initialConfig:{fromOpacity:0},keyframes:function(e){var t=e.fromOpacity;return[{offset:0,opacity:(void 0===t?0:t)/100}]}},"slide-in":{displayName:"Slide In",phase:"entry",parameters:[{name:"fromAngle",type:"angle",displayName:"From",immediate:!1}],initialConfig:{fromAngle:90},keyframes:function(e,t){var n=e.fromAngle,a=void 0===n?0:n,i=e.distance,o=void 0===i?1920:i,l=t.style&&t.style.top?parseFloat(t.style.top):0,s=t.style&&t.style.left?parseFloat(t.style.left):0;return[{offset:0,top:l-Math.cos(a*r)*o+"px",left:s+Math.sin(a*r)*o+"px"}]}},"transform-in":{displayName:"Transform In",phase:"entry",parameters:[{type:"group",items:[{name:"fromRotation",type:"angle",displayName:"Rotate",immediate:!1,width:50},{name:"fromScale",type:"number",displayName:"Scale",min:0,immediate:!1,width:50,tag:"%"}]}],initialConfig:{fromRotation:0,fromScale:100},keyframes:function(e){var t=e.fromRotation,n=void 0===t?0:t,r=e.fromScale,a=void 0===r?100:r;return[{offset:0,transform:"rotate(".concat(n,"deg) scale(").concat(a/100,")")}]}},"custom-in":{displayName:"Custom",phase:"entry",parameters:[],keyframes:function(e){return[]}},"fade-out":{displayName:"Fade Out",phase:"exit",parameters:[{name:"toOpacity",type:"number",displayName:"To",tag:"%",min:0,max:100,immediate:!1}],initialConfig:{toOpacity:0},keyframes:function(e){var t=e.toOpacity;return[{offset:1,opacity:(void 0===t?0:t)/100}]}},"slide-out":{displayName:"Slide Out",phase:"exit",parameters:[{name:"toAngle",type:"angle",displayName:"To",immediate:!1}],initialConfig:{toAngle:90},keyframes:function(e,t){var n=e.toAngle,a=void 0===n?0:n,i=e.distance,o=void 0===i?1920:i,l=t.style&&t.style.top?parseFloat(t.style.top):0,s=t.style&&t.style.left?parseFloat(t.style.left):0;return[{offset:1,top:l-Math.cos(a*r)*o+"px",left:s+Math.sin(a*r)*o+"px"}]}},"transform-out":{displayName:"Transform Out",phase:"exit",parameters:[{type:"group",items:[{name:"toRotation",type:"angle",displayName:"Rotate",immediate:!1,width:50},{name:"toScale",type:"number",displayName:"Scale",min:0,immediate:!1,width:50,tag:"%"}]}],initialConfig:{toRotation:0,toScale:100},keyframes:function(e){var t=e.toRotation,n=void 0===t?0:t,r=e.toScale,a=void 0===r?100:r;return[{offset:0,transform:"rotate(".concat(n,"deg) scale(").concat(a/100,")")}]}},"custom-out":{displayName:"Custom",phase:"exit",parameters:[],keyframes:function(e){return[]}}};t.a=a},19:function(e,t,n){"use strict";var r=n(1),a=n.n(r);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,s=[(l=["Arial","Arial Black","Comic Sans MS","Courier New","Georgia","Impact","Lucida Sans Unicode","Lucida Console","Tahoma","Trebuchet MS","Times New Roman","Verdana"],{fontNames:l,loadFont:function(e){return l.includes(e)?Promise.resolve():null}}),function(){var e=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Baloo","Baloo Bhai","Baloo Bhaijaan","Baloo Bhaina","Baloo Chettan","Baloo Da","Baloo Paaji","Baloo Tamma","Baloo Tammudu","Baloo Thambi","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Battambang","Baumans","Bayon","Belgrano","Bellefair","Belleza","BenchNine","Bentham","Berkshire Swash","Beth Ellen","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Gothic A1","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Grenze","Griffy","Gruppo","Gudea","Gugi","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Josefin Sans","Josefin Slab","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kumar One","Kumar One Outline","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Muli","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Neucha","Neuton","New Rocker","News Cycle","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Red Hat Display","Red Hat Text","Redressed","Reem Kufi","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Song Myung","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Mono","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trirong","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"];return{fontNames:e,loadFont:function(t){return e.includes(t)?new Promise((function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href="https://fonts.googleapis.com/css?family="+encodeURIComponent(t),r.addEventListener("load",e),r.addEventListener("abort",n),r.addEventListener("error",n),document.head.appendChild(r)})):null}}}()];t.a=function(){var e=[],t={},n=null;return{GetFontNames:function(){if(!n){n=[];var e,t=i(s);try{for(t.s();!(e=t.n()).done;){var r,o=e.value;(r=n).push.apply(r,a()(o.fontNames))}}catch(e){t.e(e)}finally{t.f()}n=n.sort()}return n},LoadFont:function(n){if(e.includes(n))return null;if(t[n])return t[n];var r,a=i(s);try{for(a.s();!(r=a.n()).done;){var o=r.value.loadFont(n);if(o)return t[n]=o,o.then((function(){e.push(n),delete t[n]})),o}}catch(e){a.e(e)}finally{a.f()}return null}}}()},20:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(3),o=n.n(i),l=n(2),s=n.n(l),c=n(0),u=n.n(c),p=n(11),f=n(17);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=n(14),h=n(4),g=n(9),b=n(8),v=n.n(b),w=n(1),x=n.n(w),S=n(12),O=n(6);function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e,t,n,r){var a=Object(c.useState)(null),i=s()(a,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){if(r&&e.scripts&&e.scripts["main.js"]){window._scriptingContexts||(window._scriptingContexts={});var a=window._lastScriptId?window._lastScriptId+1:1;window._lastScriptId=a;var i,o={layers:x()(e.layers),maxLayerId:e.layers.map((function(e){return e.id})).reduce((function(e,t){return t.id>e?t.id:e}),0),eventHandlers:{},timeouts:[],intervals:[],scriptUrls:{},isBulkUpdating:!1,logs:[]},s=function(){o.isBulkUpdating||(l(j({},o)),n&&n(o))},c={settings:e.settings||{},console:j(j({},console),{},{log:function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];(e=console).log.apply(e,r),o.logs.push(r),o.logs.length>200&&o.logs.splice(0,1),n&&n(o)}}),on:function(e,t){var n=o.eventHandlers[e];n||(n=o.eventHandlers[e]=[]),n.push(t),s()},off:function(e,t){var n=o.eventHandlers[e];if(n){var r=n.indexOf(t);-1!=r&&(n.splice(r,1),s())}},addLayer:function(e,t,n){var r;return(r="object"===v()(e)?e:{elementName:e,config:t,style:n}).id=++o.maxLayerId,o.layers.splice(0,0,r),s(),r.id},layer:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Object(O.c)(o.layers,n),i={length:a.length,config:function(e){if(!e)return 0==a.length?null:o.layers[a[0]].config;var t,n=E(a);try{for(n.s();!(t=n.n()).done;){var r=t.value,l=j({},o.layers[r]);l.config=j(j({},l.config),e),o.layers[r]=l}}catch(e){n.e(e)}finally{n.f()}return s(),i},style:function(e){if(!e)return 0==a.length?null:o.layers[a[0]].style;var t,n=E(a);try{for(n.s();!(t=n.n()).done;){var r=t.value,l=j({},o.layers[r]);l.style=j(j({},l.style),e),o.layers[r]=l}}catch(e){n.e(e)}finally{n.f()}return s(),i},moveUp:function(e){var t;if(0==a.length)return i;if(console.log({indexes:a,layers:o.layers}),0==a[0])return i;var r=e?0:a[0]-1,l=[];return o.layers=o.layers.reduce((function(e,t,n){return a.includes(n)?l.push(t):e.push(t),e}),[]),(t=o.layers).splice.apply(t,[r,null].concat(l)),s(),a=Object(O.c)(o.layers,n),i},moveDown:function(e){var t;if(0==a.length)return i;if(a[a.length-1]==o.layers.length-1)return i;var r=e?o.layers.length-1:a[0]+1,l=[];return o.layers=o.layers.reduce((function(e,t,n){return a.includes(n)?l.push(t):e.push(t),e}),[]),(t=o.layers).splice.apply(t,[r,null].concat(l)),s(),a=Object(O.c)(o.layers,n),i},remove:function(){o.layers=o.layers.filter((function(e,t){return!a.includes(t)})),s()},clone:function(){return 1==a.length?Object(S.cloneDeep)(o.layers[a[0]]):a.map((function(e){return Object(S.cloneDeep)(o.layers[e])}))},dom:function(){if(!t.current)return null;if(0==a.length)return null;var e=o.layers[a[0]].id;return t.current.querySelector("[data-id='".concat(e,"']"))}};return i},bulkUpdate:function(e){o.isBulkUpdating=!0,e(),o.isBulkUpdating=!1,s()},setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=setTimeout(e,t);o.timeouts.push(n)})),setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=setInterval(e,t);o.intervals.push(n)}))};n&&n(o),window._scriptingContexts[a]=c;try{i=function e(t,n,r,a){var i=r[n];if(!i)throw"Could not find script: "+n;var o=i.replace(/(import (.+ from )?["'])(\.\/)(.+)(["'])/g,(function(n,i,o,l,s,c){return i+(a[s]||e(t,s,r,a))+c})),l=new Blob(["//# sourceURL=".concat(t,"/openoverlay/").concat(n,"\nconst { console, settings, on, off, addLayer, layer, bulkUpdate, setTimeout, setInterval } = window._scriptingContexts[").concat(t,"];\n").concat(o)],{type:"text/javascript"}),s=URL.createObjectURL(l);return a[n]=s,s}(a,"main.js",e.scripts,o.scriptUrls)}catch(e){console.log("Error compiling script:\n".concat(e))}return i&&import(i).catch((function(e){Object.keys(e).map(console.log),console.log("Error executing script:\n".concat(e.stack),{t:v()(e),lineNumber:e.lineNumber})})),function(){var e,t=E(o.timeouts);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearTimeout(n)}}catch(e){t.e(e)}finally{t.f()}var r,i=E(o.intervals);try{for(i.s();!(r=i.n()).done;){var s=r.value;clearInterval(s)}}catch(e){i.e(e)}finally{i.f()}for(var c=0,u=Object.values(o.scriptUrls);c<u.length;c++){var p=u[c];URL.revokeObjectURL(p)}delete window._scriptingContexts[a],l(null)}}}),[r]),o},A=n(19);n(36);function P(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){return Object(c.useMemo)((function(){var t=e?I(I({},p.a),e):p.a;return function e(n){var r=n.layer,i=n.index,o=n.assets,l=n.wrapperRef,p=function(e,t){return m(m({},e.style),{},{zIndex:1e3-t})}(r,i),f=Object(c.useState)(),d=s()(f,2),h=d[0],g=d[1],b=t[r.elementName];if(!b)return null;var v=Object(c.useMemo)((function(){return function(e,t){var n=[];if(e.manifest.preload){var r=e.manifest.preload(t.config);r&&n.push(r)}return t.style.fontFamily&&n.push(A.a.LoadFont(t.style.fontFamily)),0==n.length?null:Promise.all(n)}(b,r)}),[b,r]);if(v&&null==h)return g(!0),v.finally((function(e){return g(!1)})),null;var w=[],x=[];if(r.effects)for(var S=0,O=Object.entries(r.effects);S<O.length;S++){var E=s()(O[S],2),k=E[0],C=E[1],j=y.b[k];j?C.hidden||("style"==j.type?w.push({effect:j,effectConfig:C}):"wrapper"==j.type&&x.push({effect:j,effectConfig:C})):console.log("Unknown effect",k)}for(var N=0,P=w;N<P.length;N++){var L=P[N];p=L.effect.apply(r,p,L.effectConfig)}for(var T=u.a.createElement("div",{"data-id":r.id,className:"layer-wrapper",style:p,ref:l},u.a.createElement(b.component,a()({},r.config,{layer:r,assets:o,ElementRenderer:e}))),I=0,D=x;I<D.length;I++){var z=D[I];T=u.a.createElement(z.effect.component,a()({},z.effectConfig,{layer:r}),T)}return T}}),[e])},z=function(e){var t=e.overlay,n=e.layer,r=e.index,a=e.animationContext,i=e.ElementRenderer,o=Object(c.useRef)(),l=n.hidden||t.hidden;return a||(a=function(e,t){var n=Object(c.useState)({phase:h.a.HIDDEN,state:g.a.PLAYING,offset:0}),r=s()(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){if(e){var n=t[h.a.EXIT.key];if(n){var r=setTimeout((function(){i((function(e){return I(I({},e),{},{phase:h.a.HIDDEN})}))}),n);return i((function(e){return I(I({},e),{},{phase:h.a.EXIT})})),function(){clearTimeout(r)}}i((function(e){return I(I({},e),{},{phase:h.a.HIDDEN})}))}else i((function(e){return I(I({},e),{},{phase:h.a.ENTRY})}))}),[e,t]),a}(l,t.phases)),Object(c.useEffect)((function(){var e=function(e,t){return t.transitions?Object.entries(t.transitions).reduce((function(e,n){var r=s()(n,2),a=r[0],i=r[1],o=f.a[a];if(!o)return console.log("Unknown transition.",a),e;var l=e[o.phase];l||(l=e[o.phase]=[]);var c=o.keyframes(i,t);return l.push({delay:i.delay,duration:i.duration,easing:i.easing,keyframes:c}),e}),{}):{}}(t.animations,n),r=o.current;r.style.display=l?"none":"block";var i,c=P(r.getAnimations());try{for(c.s();!(i=c.n()).done;){var u=i.value;u.transitionProperty||u.cancel()}}catch(e){c.e(e)}finally{c.f()}var p=e[a.phase.key];if(p){var d,m=a.state==g.a.PAUSED?a.offset:0,y=P(p);try{for(y.s();!(d=y.n()).done;){var h=d.value,b=r.animate(h.keyframes,{delay:h.delay-m,duration:h.duration,easing:h.easing,fill:"both"});a.state==g.a.PAUSED?b.pause():b.play()}}catch(e){y.e(e)}finally{y.f()}}}),[l,t.animations,n,r,a]),u.a.createElement(i,{key:n.id,layer:n,index:r,assets:t.assets,wrapperRef:o})};t.a=function(e){var t=e.overlay,n=e.elements,r=e.zIndex,a=void 0===r?1e4:r,i=e.hidden,o=void 0!==i&&i,l=e.animationContext,s=e.ElementRenderer,p=e.executeScripts,f=e.onOverlayDomReady,d=e.onScriptStateChanged;void 0===s&&(s=D(n)),void 0===p&&(p=!o);var m=t.id||"default",y=Object(c.useRef)(),h=N(t,y,d,p);Object(c.useEffect)((function(){f&&f(y.current)}),[]);var g=((h?h.layers:t.layers)||[]).map((function(e,n){return u.a.createElement(z,{key:e.id,overlayId:m,overlay:t,layer:e,index:n,animationContext:l,ElementRenderer:s})}));return u.a.createElement("div",{className:"overlay",ref:y,"data-overlayid":m,style:{zIndex:a}},g)}},245:function(e,t,n){var r=n(246);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},246:function(e,t,n){(t=n(25)(!1)).push([e.i,".move-and-resize-tool { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: visible; z-index: 10001; }\r\n.move-and-resize-tool .resizer-selector { position: relative; display: inline-block; }\r\n.move-and-resize-tool .resize-handle { position: absolute; }\r\n.move-and-resize-tool .resize-handle-center { cursor: move; top: 0; left: 0; bottom: 0; right: 0; z-index: 2; }\r\n.move-and-resize-tool .resize-handle-nw { cursor: nw-resize; border-top: 1px solid Gray; border-left: 1px solid gray; top: -10px; left: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-n { cursor: ns-resize; top: -10px; left: 0; right: 0; height: 10px; }\r\n.move-and-resize-tool .resize-handle-ne { cursor: ne-resize; border-top: 1px solid Gray; border-right: 1px solid gray; top: -10px; right: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-e { cursor: ew-resize; top: 0; right: -10px; bottom: 0; width: 10px; }\r\n.move-and-resize-tool .resize-handle-se { cursor: se-resize; border-bottom: 1px solid Gray; border-right: 1px solid gray; bottom: -10px; right: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-s { cursor: ns-resize; bottom: -10px; left: 0; right: 0; height: 10px; }\r\n.move-and-resize-tool .resize-handle-sw { cursor: sw-resize; border-bottom: 1px solid Gray; border-left: 1px solid gray; bottom: -10px; left: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-w { cursor: ew-resize; top: 0; left: -10px; bottom: 0; width: 10px; }\r\n.move-and-resize-tool .resizer-subrect { position: absolute; border: 1px dashed #333; z-index: 1; }\r\n.move-and-resize-tool .resizer-selector-box { position: absolute; border: 1px dashed #ddd; z-index: 1; }",""]),e.exports=t},247:function(e,t,n){var r=n(248);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},248:function(e,t,n){(t=n(25)(!1)).push([e.i,'\r\n.animation-panel { height: 100%; overflow: hidden; display:flex; }\r\n.animation-panel .scrubber-height { height: 15px; }\r\n.animation-panel .phase-layers { height: 100%; flex: 1 1 auto; border-left: 1px solid #ffffff20; display: flex; flex-direction: column; overflow: hidden; }\r\n.animation-panel .phase-layers .label-width { width: 200px; border-right: 1px solid #ffffff20; }\r\n.animation-panel .phase-layers > .scroll-body { overflow-x: hidden; overflow-y: auto; height: 100%; }\r\n.animation-panel .phase-layers .phase-layer { position: relative; width: 100%; overflow: hidden; border-bottom: 1px solid #ffffff20; background: #00000020; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row { border-bottom: 1px solid #ffffff20; background: #ffffff20; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row .label-width { text-align: right; padding-right: 3px; font-size: 0.8em; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row .label-width label { padding-right: 5px; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row { border-bottom: 1px solid #ffffff20; display: flex; flex-direction: row; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row[isselected="true"] { background: #6cb0ff20; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .animation-name { text-align: right; padding-right: 3px; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline { flex: 1 1 auto; position: relative; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle { position: absolute; top: 0; height: 100%; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle::before { content: ""; position: absolute; top: 10px; width: 100%; height: 8px; background: #00a2ff40; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle .bp3-icon { position: absolute; top: 6px; right: -7px; z-index: 2; }\r\n.animation-panel .phase-layers .phase-header { flex: 0 0 40px; padding: 5px; background: #00000020; display:flex; align-items: center; justify-content: space-between; }\r\n.animation-panel .phase-layers .phase-header .timing { width: 200px; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group { align-items: center; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group .bp3-tag { margin: 3px; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group .bp3-input { height: 25px; }\r\n.animation-panel .phase-layers .scrubber-row { flex: 0 0 15px; display: flex; background: linear-gradient(#ffffff00, #ffffff20); }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber { flex: 1 1 auto; display: flex; position: relative; font-size: 0.8em; margin-right: 1px; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber:last-child { margin-right: 0; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber .caret { position: absolute; top: 0; border-left: 2px solid #FFFFFF20; height: 100vh; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber .caret .bp3-icon { margin-left: -9px; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber label { flex: 1 1 auto; text-align: right; border-left: 1px solid #ffffff20; padding: 0 3px; }\r\n\r\n.animation-panel .animation-editor { border-left: 1px solid #ffffff20; height: 100%; width: 200px; padding: 10px; }',""]),e.exports=t},283:function(e,t,n){var r=n(284);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},284:function(e,t,n){(t=n(25)(!1)).push([e.i,".script-editor-wrapper { height: 100%; width: 100%; display: flex; flex-direction: row; }\r\n.script-editor-wrapper .script-wrapper { overflow: auto; height: 100%; width: 100%; }\r\n.script-editor-wrapper .script-wrapper .editor-wrapper { float: left; font-family: Consolas, monospace; font-size: 12px; min-width: 100%; min-height: 100%; }\r\n.script-editor-wrapper .script-wrapper .editor-wrapper pre,\r\n.script-editor-wrapper .script-wrapper .editor-wrapper textarea { white-space: pre !important;}\r\n\r\n.script-editor-wrapper .console-wrapper { height: 100%; width: 100%; overflow: hidden; display: flex; flex-direction: column; }\r\n.script-editor-wrapper .console-wrapper .console-header { height: 30px; display: flex; flex-direction: row; align-items: center; background: #ffffff20; }\r\n.script-editor-wrapper .console-wrapper .console-header .title { padding: 5px; }\r\n.script-editor-wrapper .console-wrapper .console-window { flex: 1 1 auto; overflow: auto; background: #000000; font-family: monospace; padding: 3px; font-size: 13px; }\r\n\r\n/*\r\n.script-wrapper .button-bar { margin: 0 5px; display: flex; flex-direction: row; justify-content: space-between; }\r\n.script-wrapper .button-bar button { }\r\n*/\r\n\r\n/* Syntax highlighting */\r\n.script-wrapper .token.comment,\r\n.script-wrapper .token.prolog,\r\n.script-wrapper .token.doctype,\r\n.script-wrapper .token.cdata { color: #90a4ae; }\r\n.script-wrapper .token.punctuation { color: #9e9e9e; }\r\n.script-wrapper .namespace { opacity: 0.7; }\r\n.script-wrapper .token.property,\r\n.script-wrapper .token.tag,\r\n.script-wrapper .token.boolean,\r\n.script-wrapper .token.number,\r\n.script-wrapper .token.constant,\r\n.script-wrapper .token.symbol,\r\n.script-wrapper .token.deleted { color: #e91e63; }\r\n.script-wrapper .token.selector,\r\n.script-wrapper .token.attr-name,\r\n.script-wrapper .token.string,\r\n.script-wrapper .token.char,\r\n.script-wrapper .token.builtin,\r\n.script-wrapper .token.inserted { color: #4caf50; }\r\n.script-wrapper .token.operator,\r\n.script-wrapper .token.entity,\r\n.script-wrapper .token.url,\r\n.script-wrapper .language-css .token.string,\r\n.script-wrapper .style .token.string { color: #795548; }\r\n.script-wrapper .token.atrule,\r\n.script-wrapper .token.attr-value,\r\n.script-wrapper .token.keyword { color: #769dd8; }\r\n.script-wrapper .token.function { color: #f44336; }\r\n.script-wrapper .token.regex,\r\n.script-wrapper .token.important,\r\n.script-wrapper .token.variable { color: #ff9800; }\r\n.script-wrapper .token.important,\r\n.script-wrapper .token.bold { font-weight: bold; }\r\n.script-wrapper .token.italic { font-style: italic; }\r\n.script-wrapper .token.entity { cursor: help; }",""]),e.exports=t},36:function(e,t,n){var r=n(37);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},37:function(e,t,n){(t=n(25)(!1)).push([e.i,".overlay { animation-delay: 0; animation-play-state: running; }\r\n.overlay * { animation-delay: inherit; animation-play-state: inherit; }\r\n.layer-positioner { position: absolute; transform-style: preserve-3d; }\r\n.layer-wrapper { position: absolute; transform-style: preserve-3d; }\r\n.layer-style { width: 100%; height: 100%; box-sizing: content-box; display: flex; white-space: pre; box-sizing: border-box; }",""]),e.exports=t},4:function(e,t,n){"use strict";t.a={ENTRY:{key:"entry",displayName:"Entry"},EXIT:{key:"exit",displayName:"Exit"},HIDDEN:{key:"hidden",displayName:"Hidden"},STATIC:{key:"static",displayName:"Static"}}},448:function(e,t,n){var r=n(449);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},449:function(e,t,n){(t=n(25)(!1)).push([e.i,"/*# sourceURL=FontStyleEditor.css*/\r\n.font-style-editor {  }\r\n.font-style-editor .button-row-2 > * { flex-basis: 16.66666666666667 !important; margin: 1px 0; }\r\n.font-style-editor .font-family { width: 50%; }\r\n.font-style-editor .font-size { width: 33.3333333%; }\r\n.font-style-editor .font-color { width: 16.6666666%; }\r\n.font-style-editor .font-color .bp3-popover-target { width: 100%; border-left: 1px solid #000; }\r\n.font-style-editor .font-color button { width: 100%; }\r\n.font-style-editor .text-wrap { flex: 0 0 50% !important; margin: 8px 1px 3px 0; }\r\n\r\n.font-style-editor .border-input { display: flex; flex-direction: row; justify-content: flex-start; align-items: stretch; height: 100%; }\r\n.font-style-editor .border-input input[type='color'] { width: 2em !important; height: 2em; margin-right: 0.1em; }\r\n.font-style-editor .border-input select { width: 10em !important; margin-right: 0.1em; }\r\n.font-style-editor .border-input input[type='text'] { width: 5em !important; margin-right: 0.1em; }",""]),e.exports=t},450:function(e,t,n){var r=n(451);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},451:function(e,t,n){(t=n(25)(!1)).push([e.i,".configuration-form { display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-between; overflow: hidden; user-select: none; }\r\n\r\n.configuration-form > .group { margin: 3px 14px 4px 10px; width: 100%; }\r\n.configuration-form > .group > label { margin-bottom: 5px; }\r\n.configuration-form > .group > .group-items { display: flex; flex-direction: row; width: 100%; }\r\n.configuration-form > .group > .group-items > .group-item { display: flex; flex-direction: row; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group { margin: 1px 0 2px 0 !important; width: 100%; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group label { padding: 0 8px 0 0px !important; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group.bp3-inline label { margin: 0; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group .bp3-form-content { margin: 0; padding: 0 2px 0 2px !important; }\r\n\r\n.configuration-form > .bp3-form-group { flex: 1 1 100%; margin-bottom: 10px; margin: 3px 14px 4px 10px !important; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-label { flex-basis: 30%; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-form-content { flex-basis: 70%; }\r\n\r\n/* angle inputs */\r\n.configuration-form .angle-input { display: flex; }\r\n.configuration-form .angle-input .widget { width: 25px; height: 25px; margin-right: 10px; fill: currentColor; color: #ffffffBB; }\r\n.configuration-form .angle-input .widget.changing { color: #4891ff; }\r\n.configuration-form .angle-input .widget:not(.changing):hover { color: #ffffffff; }\r\n\r\n/* hide chrome number arrows */\r\n.configuration-form input::-webkit-outer-spin-button,\r\n.configuration-form input::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n/* Firefox */\r\n.configuration-form input[type=number] { -moz-appearance: textfield; }\r\n\r\n.configuration-form textarea { min-height: 100px; }\r\n\r\n.configuration-form .bp3-input-action { cursor: ns-resize; }\r\n\r\n/* not sure where else to put this, but i know it doesn't belong here */\r\n.group.size-and-position { margin: 0; }\r\n.group.size-and-position .group-item .bp3-label { flex: 0 0 45%; font-size: 0.9em; text-align: right; }\r\n.group.size-and-position .group-item .bp3-form-content { flex: 0 0 55%; }",""]),e.exports=t},452:function(e,t,n){var r=n(453);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},453:function(e,t,n){(t=n(25)(!1)).push([e.i,".collapsible-panel { }\r\n.collapsible-panel > .panel-header { display: flex; align-items: center; background: #00000020; padding: 3px; cursor: pointer; }\r\n.collapsible-panel > .panel-header:hover { background: #ffffff10; }\r\n.collapsible-panel > .panel-header > .bp3-icon { padding: 4px; }\r\n.collapsible-panel > .panel-header > label { flex: 1 1 auto; cursor: inherit; }\r\n.collapsible-panel > .panel-header > .bp3-button { padding: 4px 10px; min-height: 20px; min-width: 20px; }",""]),e.exports=t},454:function(e,t,n){var r=n(455);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},455:function(e,t,n){(t=n(25)(!1)).push([e.i,".no-content { height: 100%; width: 100%; background: #ffffff20; display: flex; align-items: center; justify-content: center; font-size: 20px; text-align: center; }\r\n.create-keyframe { height: 100%; width: 100%; background: #00000020; display: flex; align-items: center; justify-content: center; font-size: 20px; }\r\n\r\n.element-config-editor { margin-top: 5px; }\r\n.transitions-panel { height: 100%; display: flex; flex-direction: column; }\r\n.transitions-panel .phases-wrapper { flex: 1 1 auto; display: flex; overflow: hidden auto; }\r\n.transitions-panel .phases-wrapper .phase { width: 50%; height: 100%; }\r\n.transitions-panel .phases-wrapper .phase:not(:first-child) { border-left: 1px solid #ffffff20; }\r\n.transitions-panel .phases-wrapper .phase .header { padding: 5px; border-bottom: 1px solid #ffffff20; display: flex; justify-content: space-between; align-items: center; }\r\n.transitions-panel .phases-wrapper .phase .item-list { padding: 2px; }\r\n.transitions-panel .phases-wrapper .phase .item-list .transition-item { margin-bottom: 2px; }\r\n\r\n.transition-editor { width: 400px; padding: 10px; }\r\n.transition-editor > h5 { padding: 2px 7px; }\r\n.transition-editor > .header { margin-bottom: 10px; background: #ffffff20; padding: 5px; font-size: 1.2em; font-weight: bold; }\r\n.transition-editor > .form { }",""]),e.exports=t},456:function(e,t,n){var r=n(457);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},457:function(e,t,n){(t=n(25)(!1)).push([e.i,".main-toolbar { display: flex; }\r\n.main-toolbar .bp3-button-group { border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; background: #000; margin-right: 10px; }\r\n.main-toolbar .bp3-button-group:last-child { margin-right: 0; }\r\n.main-toolbar .bp3-button { border-top-left-radius: 0 !important; border-top-right-radius: 0 !important; }",""]),e.exports=t},458:function(e,t,n){var r=n(459);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},459:function(e,t,n){(t=n(25)(!1)).push([e.i,".resizable { flex-shrink: 0; flex-grow: 0; }\r\n.resize-bar {  position: relative; overflow: visible; }\r\n.resize-bar .inner { position: absolute; top: 0; left: 0; height: 100%; border:0px solid #44505A; z-index: 11; }\r\n.resize-bar.top .inner { height: 4px; margin-top: -4px; border-bottom-width: 1px; width: 100%; }\r\n.resize-bar.bottom .inner { height: 4px; border-top-width: 1px; width: 100%; }\r\n.resize-bar.left .inner { width: 4px; margin-left: -4px; border-right-width: 1px; }\r\n.resize-bar.right .inner { width: 4px; border-left-width: 1px; }\r\n.resize-bar.top.can-resize .inner { cursor: ns-resize; }\r\n.resize-bar.bottom.can-resize .inner { cursor: ns-resize; }\r\n.resize-bar.left.can-resize .inner { cursor: ew-resize; }\r\n.resize-bar.right.can-resize .inner { cursor: ew-resize; }",""]),e.exports=t},460:function(e,t,n){var r=n(461);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},461:function(e,t,n){(t=n(25)(!1)).push([e.i,'.reorderable-list { height: 100%; }\r\n.reorderable-list > .item { background: #ffffff10; }\r\n.reorderable-list > .item[dragging="true"] { background: #137cbd80; }\r\n.reorderable-list > .item:not([isselected="true"]):hover { background: rgba(138, 155, 168, 0.4); }',""]),e.exports=t},462:function(e,t,n){var r=n(463);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},463:function(e,t,n){(t=n(25)(!1)).push([e.i,'.layer-list .layer-header { display: flex; align-items: center; cursor: pointer; }\r\n.layer-list .layer-header[isselected="true"] { background: #137cbd80; }\r\n.layer-list .layer-header .label { flex: 1 1 100%; text-align: left; padding: 6px 5px; }\r\n.layer-list .layer-header .label .label-editor { width: 100%; display: inline-block; }\r\n.layer-list .layer-header .label input { height: 25px; min-height: 0; }\r\n\r\n.layer-list .effect { display: flex; align-items: center; font-size: 0.9em !important; padding-left: 20px; background: #00000020; }\r\n.layer-list .effect .bp3-button { font-size: inherit; min-height: 20px; }\r\n.layer-list .effect .label { flex: 1 1 100%; align-self: center; padding: 0 5px; cursor: pointer; }\r\n',""]),e.exports=t},464:function(e,t,n){var r=n(465);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},465:function(e,t,n){(t=n(25)(!1)).push([e.i,".stage-container {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    line-height: normal;\r\n    z-index: 1;\r\n    background: #111 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIBJREFUeNq01EsKwCAMBFBNV73/YUsLJU2ggkj90MwMzE4eEoxZVdObbN2tW1rLZT1HB4QFF5wCF5wCuyks2C8tLNjHLSy4fi1weIaH4BEehns4BP7CYXCLQ+Eah8MFp8AWzdWXC4Wth7Bg6y0seGX9f8MzPASP8DDcwyGw5xFgACKHOSst2JgZAAAAAElFTkSuQmCC');\r\n}\r\n.stage-container .stage { flex: 0 0 auto; position: relative; overflow: visible;  z-index: 1; background-size: contain; background-position: center center; background-repeat: no-repeat; }\r\n.stage-container .stage > * { height: 100%; width: 100%; background: rgba(0, 0, 0, 0.5); }\r\n.stage-container .stage-view-container { position: absolute; top: 10px; right: 10px; z-index: 10002; display: flex; }",""]),e.exports=t},466:function(e,t,n){var r=n(467);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},467:function(e,t,n){(t=n(25)(!1)).push([e.i,'.asset-list-wrapper { flex: 1 1 auto; height: 100%; overflow: hidden; }\r\n\r\n.asset-list { height: 100%; display: flex; flex-direction: column; }\r\n/*\r\n.asset-list > .layer-list-layers { margin: 0px 1px 5px 5px; overflow-y: auto; }\r\n.asset-list > .layer-list-layers > .layer { background: #ffffff10; }\r\n.asset-list > .layer-list-layers > .layer[isselected="true"] { background: #137cbd80; }\r\n.asset-list > .layer-list-layers > .layer > .effect { font-size: 0.9em !important; padding-left: 20px; background: #00000020; }\r\n.asset-list > .layer-list-layers > .layer > .effect .bp3-button { font-size: inherit; min-height: 20px; }\r\n.asset-list > .layer-list-layers > .layer > .effect .label { flex: 1 1 100%; align-self: center; padding: 0 5px; }\r\n.asset-label { display: flex; justify-content: space-between; align-items: center; }\r\n.asset-label .buttons { display: flex; }\r\n.asset-label .buttons a { padding: 0; min-height: 20px; min-width: 20px; margin-left: 5px; }\r\n.asset-label .buttons a.hideable { display: none; }\r\n.asset-label:hover .buttons a.hideable { display: block; }\r\n.asset-label .buttons .bp3-editable-text:hover { cursor: default; }\r\n.asset-label .buttons .bp3-editable-text:hover::before { content: none; }\r\n.asset-label .buttons a .bp3-icon:first-child:last-child, .layer-label a .bp3-spinner + .bp3-icon:last-child { margin: 2px; }\r\n*/\r\n',""]),e.exports=t},468:function(e,t,n){var r=n(469);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},469:function(e,t,n){(t=n(25)(!1)).push([e.i,".script-list { padding: 5px 0; }\r\n.script-list .script-list-item { display: flex; align-items: center; }\r\n.script-list .script-list-item .bp3-icon { padding: 0 5px; }\r\n.script-list .script-list-item .label { flex: 1 1 100%; text-align: left; padding: 6px 5px; }\r\n.script-list .script-list-item .label .label-editor { width: 100%; display: inline-block; }\r\n.script-list .script-list-item .label input { height: 25px; min-height: 0; }\r\n\r\n.delete-popover-body { padding: 10px; }\r\n.delete-popover-body .buttons { padding-top: 10px; display: flex; justify-content: flex-end; }\r\n.delete-popover-body .buttons > * { margin-left: 5px; }",""]),e.exports=t},470:function(e,t,n){var r=n(471);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},471:function(e,t,n){(t=n(25)(!1)).push([e.i,".script-settings-panel { padding: 5px; }\r\n.script-settings-panel .configuration-form { padding: 5px 0; }",""]),e.exports=t},472:function(e,t,n){var r=n(473);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},473:function(e,t,n){(t=n(25)(!1)).push([e.i,".console-panel { height: 100%; width: 100%; overflow: hidden; display: flex; flex-direction: column; }\r\n.console-panel .console-header { height: 32px; display: flex; flex-direction: row; align-items: center; background: #ffffff20; }\r\n.console-panel .console-header .title { padding: 5px; }\r\n.console-panel .console-window { flex: 1 1 auto; overflow: auto; background: #000000; font-family: monospace; padding: 3px; font-size: 13px; color: #ebebeb; }\r\n",""]),e.exports=t},474:function(e,t,n){var r=n(475);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},475:function(e,t,n){(t=n(25)(!1)).push([e.i,".layout-changer { width: 100%; height: 100%; display: flex; flex-direction: row; overflow: hidden; user-select: none; position: relative; }\r\n\r\n.layout-changer .script-wrapper {  }\r\n.layout-changer .panel-bg { background: #293742; }\r\n\r\n.layout-changer .app-toaster { position: absolute !important; }\r\n.layout-changer .bottom-bar { padding: 5px 0; flex: 0 0 auto; overflow: hidden; display: flex; flex-direction: column; height: 100%; }\r\n.layout-changer .bottom-bar .center-buttons { display: flex; flex-direction: row; justify-content: center; margin: 5px 0; }\r\n.layout-changer .bottom-bar .center-buttons > * { margin-right: 5px; }\r\n.layout-changer .bottom-bar .center-buttons > *:last-child { margin-right: 0; }\r\n.layout-changer .bottom-bar .bottom-tabs .bp3-tab-panel { margin-top: 5px; }\r\n.layout-changer .leftpanel-wrapper {  z-index: 3; height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .rightpanel-wrapper { z-index: 3; height: 100%; display: flex; flex-direction: column; justify-content: flex-start; overflow-y: auto; overflow-x: hidden; }\r\n\r\n.layout-changer .lists-wrapper { height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .lists-panel { flex: 1 1 auto; margin-bottom: 1px; background: #00000040; overflow: hidden; }\r\n\r\n.layout-changer .lists-panel .main-list { flex: 1 1 auto; height: 100%; height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .lists-panel .main-list > .actions { padding: 10px; border-bottom: 1px solid #ffffff20; display: flex; }\r\n.layout-changer .lists-panel .main-list > .actions .bp3-divider { border-color: #ffffff20; }\r\n.layout-changer .lists-panel .main-list > .actions .right { flex: 1 1 auto; text-align: right; }\r\n.layout-changer .lists-panel .main-list > .list-items { margin: 0px 1px 5px 0; flex: 1 1 auto; overflow-y: auto; }\r\n\r\n.layout-changer .center-wrapper { display: flex; flex-direction: column; flex: 1 1 auto; overflow: hidden; }\r\n.layout-changer .center-wrapper .stage-wrapper { flex: 1 1 auto; flex-direction:column; position: relative; }\r\n.layout-changer .center-wrapper .bottom-panel-wrapper { height: 100%; display: flex; }\r\n.layout-changer .center-wrapper .bottom-panel-wrapper .editor-tabs { flex: 1 1 auto; }\r\n.layout-changer .center-wrapper .bottom-panel-wrapper .console-wrapper { height: 100%; }\r\n\r\n.layout-changer .stage-wrapper .toolbar-wrapper { margin-top: -30px; width: 100%; display: flex; justify-content: center; }\r\n.layout-changer .stage-wrapper .toolbar-wrapper > * { margin-top: 30px; z-index: 2; height: 30px; }\r\n\r\n.layout-changer .btn-minimize-bottom { margin-right: 0; height: 100%; }\r\n.layout-changer .btn-minimize-bottom svg { margin-top: -2px; }\r\n\r\n/* disable focus outlines */\r\n.layout-changer *:focus { outline: none; }\r\n\r\n/* should probably go somewhere else */\r\n.toolbar .bp3-button { border-radius: 0 !important; }",""]),e.exports=t},476:function(e,t,n){var r=n(477);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,a);r.locals&&(e.exports=r.locals)},477:function(e,t,n){(t=n(25)(!1)).push([e.i,'/* reusable styles for the editor */\r\n.normal-tabs { height: 100%; display: flex; flex-direction: column; overflow: hidden; }\r\n.normal-tabs .bp3-tab-list { }\r\n.normal-tabs .bp3-tab-list .bp3-tab { padding: 0 5px 2px 5px; margin-right: 0; color: #ffffff80;  }\r\n.normal-tabs .bp3-tab-list .bp3-tab .bp3-icon { padding: 0 1px 0 5px }\r\n.normal-tabs .bp3-tab-list .bp3-tab .title { padding: 0 5px; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:not([aria-selected="true"]) button { visibility: hidden; }\r\n.normal-tabs .bp3-tab-list .bp3-tab button { min-height: 20px; height: 20px; vertical-align: text-top; }\r\n.normal-tabs .bp3-tab-list .bp3-tab button:hover { background: none !important; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:hover button { visibility: visible; }\r\n.normal-tabs .bp3-tab-list .bp3-tab[aria-selected="true"] { color: #ffffff; background-color: #00000040; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:not([aria-disabled="true"]):hover { color: inherit; }\r\n.normal-tabs .bp3-tab-panel { margin-top: 0; background-color: #00000040; flex: 1 1 auto; overflow: auto; }\r\n\r\n.popover-body { padding: 5px; }',""]),e.exports=t},481:function(e,t,n){"use strict";n.r(t);var r,a,i=n(0),o=n.n(i),l=n(71),s=n.n(l),c=n(10),u=n.n(c),p=n(1),f=n.n(p),d=n(18),m=n.n(d),y=n(2),h=n.n(y),g=n(3),b=n.n(g),v=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9\-]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i,w=[{match:function(e){return e.match(/image/i)},assetType:"image",getLayer:function(e){return{elementName:"image",config:{url:e}}},getNaturalDimensions:(a=m()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=new Image;r.addEventListener("load",(function(){e({width:r.naturalWidth,height:r.naturalHeight})})),r.src=t,setTimeout(n,500)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{match:function(e,t){return e.match(/video/i)||e.match(/text\/html/i)&&t&&t.match(v)},assetType:"video",getLayer:function(e){return{elementName:"video",config:{url:e}}},getNaturalDimensions:(r=m()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.match(v)){e.next=3;break}return e.abrupt("return",{width:1280,height:720});case 3:return e.next=5,new Promise((function(e,n){var r=document.createElement("video");r.addEventListener("loadeddata",(function(){e({width:r.videoWidth,height:r.videoHeight})}));var a=document.createElement("source");a.src=t,r.appendChild(a),setTimeout(n,500)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{match:function(e){return e.match(/audio/i)},assetType:"audio",getLayer:function(e){return{elementName:"audio",config:{url:e}}}},{match:function(e){return e.match(/text\/javascript/i)},assetType:"script"},{match:function(e){return e.match(/text\/html/i)},assetType:"html",getLayer:function(e){return{elementName:"iframe",config:{url:e}}}}];function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E="__undo",k="__redo",C=function(e,t,n,r){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),i=[],o={pointer:0,history:[]},l=function(e,t){var r=n(e,t);if(!r)return null;if(o.pointer>0){var a=o.history.length-o.pointer;o.history.splice(a,o.pointer),o.pointer=0}o.history.length>40&&o.history.splice(0,1),o.history.push(r)},s=function(e){if(0!=o.history.length){var t=o.pointer+(e?-1:1);if(!(t>o.history.length-1||t<0)){o.pointer=t;var n=o.history[o.history.length-1-t];r(a,n)}}};return{_state:a,select:function(e){return e.map((function(e){return e(a)}))},subscribe:function(e){i.push(e)},unsubscribe:function(e){i=i.filter((function(t){return t!=e}))},dispatch:function e(n,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n==E)s(!1);else if(n==k)s(!0);else{var c=t[n];if(!c)return void console.log("Unknown reducer method:"+n);var u=c(a,r);if(!u)return;if("function"==typeof u)return void u(e);o&&l(a,u),a=Object.assign(a,u)}var p,f=x(i);try{for(f.s();!(p=f.n()).done;){var d=p.value;d()}}catch(e){f.e(e)}finally{f.f()}}}},j=n(14),N=n(6),A=n(4),P=n(9),L=n(11),T=n(5),I=n.n(T),D=n(244),z=n.n(D);function M(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={GLOBAL:[{key:"z",ctrl:!0,action:function(e){return e(E)}},{key:"y",ctrl:!0,action:function(e){return e(k)}},{key:"0",ctrl:!0,action:function(e){return e("ResetStageZoom")}}],LAYERS:[{key:"a",ctrl:!0,action:function(e){return e("SelectAllLayers")}},{key:"r",ctrl:!1,action:function(e){return e("ResetSelectedLayers")}},{key:"[",ctrl:!1,action:function(e){return e("RaiseSelectedLayers",!1)}},{key:"[",ctrl:!0,action:function(e){return e("RaiseSelectedLayers",!0)}},{key:"]",ctrl:!1,action:function(e){return e("LowerSelectedLayers",!1)}},{key:"]",ctrl:!0,action:function(e){return e("LowerSelectedLayers",!0)}},{key:"Tab",shift:!1,action:function(e){return e("SelectNextLayer",!1)}},{key:"Tab",shift:!0,action:function(e){return e("SelectNextLayer",!0)}},{key:"Delete",action:function(e){return e("DeleteSelection")}},{key:"c",ctrl:!0,action:function(e){return e("CopySelectedLayersToClipboard")}},{key:"Escape",action:function(e){return e("SelectLayers",[])}}],MOVE_AND_RESIZE:[{key:"c",ctrl:!1,action:function(e,t){return e("CenterSelectedLayers",t.current)}},{key:"f",ctrl:!1,action:function(e,t){return e("FullscreenSelectedLayers",t.current)}},{key:"+",shift:!1,action:function(e,t){return e("ScaleSelectedLayers",R(R({},t.current),{},{direction:"up",precise:!1}))}},{key:"+",shift:!0,action:function(e,t){return e("ScaleSelectedLayers",R(R({},t.current),{},{direction:"up",precise:!0}))}},{key:"-",shift:!1,action:function(e,t){return e("ScaleSelectedLayers",R(R({},t.current),{},{direction:"down",precise:!1}))}},{key:"-",shift:!0,action:function(e,t){return e("ScaleSelectedLayers",R(R({},t.current),{},{direction:"down",precise:!0}))}},{key:"ArrowRight",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"right",toEdge:!0,precise:!1}))}},{key:"ArrowRight",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"right",toEdge:!1,precise:!0}))}},{key:"ArrowRight",action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"right",toEdge:!1,precise:!1}))}},{key:"ArrowLeft",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"left",toEdge:!0,precise:!1}))}},{key:"ArrowLeft",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"left",toEdge:!1,precise:!0}))}},{key:"ArrowLeft",action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"left",toEdge:!1,precise:!1}))}},{key:"ArrowUp",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"up",toEdge:!0,precise:!1}))}},{key:"ArrowUp",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"up",toEdge:!1,precise:!0}))}},{key:"ArrowUp",action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"up",toEdge:!1,precise:!1}))}},{key:"ArrowDown",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"down",toEdge:!0,precise:!1}))}},{key:"ArrowDown",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"down",toEdge:!1,precise:!0}))}},{key:"ArrowDown",action:function(e,t){return e("NudgeSelectedLayers",R(R({},t.current),{},{direction:"down",toEdge:!1,precise:!1}))}}],ANIMATION:[{key:" ",action:function(e){return e("ToggleAnimationPlaying")}}],SCRIPT:[{key:"e",ctrl:!0,action:function(e){return e("ExecuteScript")}}]},K=function e(t){var n=this;z()(this,e),b()(this,"_dispatch",void 0),b()(this,"_registrations",[]),b()(this,"register",(function(e,t){n._registrations.push({hotkeySet:e,context:t})})),b()(this,"unregister",(function(e){n._registrations=n._registrations.filter((function(t){return t.hotkeySet!=e}))})),b()(this,"handleKeydown",(function(e){var t=e.ctrlKey||e.metaKey,r=e.shiftKey;if("INPUT"!=e.target.tagName&&"SELECT"!=e.target.tagName&&"TEXTAREA"!=e.target.tagName){var a,i=!1,o=M(n._registrations);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(i)break;var s,c=M(l.hotkeySet);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(e.key==u.key&&(t==!!u.ctrl&&r==!!u.shift)){e.preventDefault(),u.action(n._dispatch,l.context),i=!0;break}}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}}})),b()(this,"canCleanUp",(function(){return 0==n._registrations.length})),this._dispatch=t},G=function(e,t){var n=Ie();Object(i.useEffect)((function(){return window.hotkeyManager||(window.hotkeyManager=new K(n),window.addEventListener("keydown",window.hotkeyManager.handleKeydown)),window.hotkeyManager.register(e,t),function(){window.hotkeyManager.unregister(e),window.hotkeyManager.canCleanUp()&&(window.removeEventListener("keydown",window.hotkeyManager.handleKeydown),window.hotkeyManager=null)}}),[])};n(245);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W={top:!0,left:!0,bottom:!0,right:!0},Z={top:!1,left:!1,bottom:!1,right:!1},_=function(e){var t=e.containerElement,n=Ie((function(e){return e.overlay.layers}),(function(e){return e.animationContext}),(function(e){return e.selectedLayerIds}),(function(e){return e.stageTransform})),r=h()(n,2),a=h()(r[0],4),l=a[0],s=(a[1],a[2]),c=a[3],u=r[1],p=Object(i.useState)(),d=h()(p,2),m=d[0],y=d[1],g=Object(i.useMemo)((function(){return function(e){return e?e.reduce((function(e,t){if(!t.style)return e;if(null==t.style.width||null==t.style.height)return e;var n={layerid:t.id,top:Object(N.e)(t.style.top),left:Object(N.e)(t.style.left),height:Object(N.e)(t.style.height),width:Object(N.e)(t.style.width)};return n.bottom=n.top+n.height,n.right=n.left+n.width,e.push(n),e}),[]):[]}(l)}),[l]),v=Object(i.useMemo)((function(){return function(e,t){var n=e.reduce((function(e,n){return t.includes(n.layerid)&&(e.rects.push(n),n.top<e.boundingBox.top&&(e.boundingBox.top=n.top),n.left<e.boundingBox.left&&(e.boundingBox.left=n.left),n.bottom>e.boundingBox.bottom&&(e.boundingBox.bottom=n.bottom),n.right>e.boundingBox.right&&(e.boundingBox.right=n.right)),e}),{selectedLayerIds:t,rects:[],boundingBox:{top:Number.MAX_SAFE_INTEGER,left:Number.MAX_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER,right:Number.MIN_SAFE_INTEGER}});return n.rects.length>0&&(n.boundingBox.width=n.boundingBox.right-n.boundingBox.left,n.boundingBox.height=n.boundingBox.bottom-n.boundingBox.top),n}(g,s)}),[g,s]),w=Object(i.useRef)();Object(i.useEffect)((function(){w.current={selectableRects:g,selection:v,stageTransform:c}}),[g,v,c]);var x=Object(i.useRef)();Object(i.useEffect)((function(){x.current=v}),[v]),G(U.MOVE_AND_RESIZE,x);var S=Object(i.useCallback)((function(e,t){var n=w.current,r=n.selectableRects,a=n.selection,i=e.left,o=e.top,l=e.width,c=e.height,u=e.left+e.width,p=e.top+e.height;if(0==l||0==c){var d=r.reduce((function(e,t){return o>t.top&&i>t.left&&o<t.bottom&&i<t.right&&e.push(t.layerid),e}),[]);if(0==d.length)return[];if(0==a.selectedLayerIds.length)return[d[0]];if(t)return s.includes(d[0])?s.filter((function(e){return e!=d[0]})):[].concat(f()(a.selectedLayerIds),[d[0]]);var m=d.findIndex((function(e){return a.selectedLayerIds.includes(e)}));return-1==m?[d[0]]:(m=(m+1)%d.length,[d[m]])}var y=r.reduce((function(e,t){return o<t.top&&i<t.left&&p>t.bottom&&u>t.right&&e.push(t.layerid),e}),[]);if(t){var h,g=f()(a.selectedLayerIds),b=V(y);try{for(b.s();!(h=b.n()).done;){var v=h.value;g.contains(v)||g.push(v)}}catch(e){b.e(e)}finally{b.f()}return g}return y}),[]),O=Object(i.useCallback)((function(e){if(1==e.buttons){var n,r=e.target.getAttribute("data-edge");if(n=r?"center"==r?W:{top:"nw"==r||"n"==r||"ne"==r,left:"nw"==r||"w"==r||"sw"==r,right:"ne"==r||"e"==r||"se"==r,bottom:"sw"==r||"s"==r||"se"==r}:Z){var a=w.current,i=t.getBoundingClientRect(),o=a.selection.boundingBox,l=a.selection.rects,s=function(e){return Object(N.a)(i,a.stageTransform,e)},c=function(e,t){var n=e.width/o.width,r=e.height/o.height;u("UpdateSelectionStyle",(function(t){var a=l.find((function(e){return e.layerid==t.id}));return{top:e.top+(a.top-o.top)*r+"px",left:e.left+(a.left-o.left)*n+"px",width:a.width*n,height:a.height*r}}),t)};t.style.cursor=e.target.getAttribute("data-cursor");var p,f={top:e.clientY-i.top,left:e.clientX-i.left,height:0,width:0},d=p=r?Object(N.g)(i,a.stageTransform,{top:o.top,left:o.left,height:o.height,width:o.width}):{top:f.top,left:f.left,height:0,width:0},m=function(e){var t=e.clientY-i.top,r=e.clientX-i.left-f.left,a=t-f.top,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p);if(n==Z)a<0&&(o.top=f.top+a,a*=-1),r<0&&(o.left=f.left+r,r*=-1),o.height=a,o.width=r;else if(n==W)e.ctrlKey?Math.abs(r/a)>1?o.left+=r:o.top+=a:(o.left+=r,o.top+=a);else if(n){var l,u=-o.height/o.width,m=e.ctrlKey;if((n.top||n.bottom)&&(n.left||n.right)&&m)l=n.bottom?n.left?(-o.height-a)/(o.width-r):(-o.height-a)/(-o.width-r):n.left?(o.height-a)/(o.width-r):(o.height-a)/(-o.width-r),n.top&&n.left||n.bottom&&n.right?l<-u?a=r*-u:r=a/-u:l>u?a=r*u:r=a/u;n.top&&(o.height-a<0?(o.top=o.top+o.height-1,o.height=1):(o.top+=a,o.height=o.height-a)),n.bottom&&(o.height=Math.max(1,o.height+a)),n.left&&(o.width-r<0?(o.left=o.left+o.width,o.width=1):(o.left+=r,o.width=o.width-r)),n.right&&(o.width=Math.max(1,o.width+r))}if(d=o,n!=Z){var h=s(o);c(h,!1)}else y(o)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",(function e(r){if(t.style.cursor="",window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",e),d==p){var a=S(s(f),r.ctrlKey);u("SelectLayers",a)}else if(n==Z){var i=S(s(d),r.ctrlKey);u("SelectLayers",i),y(null)}else c(s(d),!0)}))}}}),[]);Object(i.useEffect)((function(){return t.addEventListener("mousedown",O),function(){return t.removeEventListener("mousedown",O)}}),[]);var E=[],k=t.getBoundingClientRect();if(v.boundingBox){var C=Object(N.g)(k,c,v.boundingBox),j={top:C.top+"px",left:C.left+"px",width:C.width+"px",height:C.height+"px"};E.push(o.a.createElement("div",{className:"resizer-selector",style:j,key:"-1"},o.a.createElement("div",{className:"resize-handle resize-handle-nw","data-edge":"nw"}),o.a.createElement("div",{className:"resize-handle resize-handle-n","data-edge":"n"}),o.a.createElement("div",{className:"resize-handle resize-handle-ne","data-edge":"ne"}),o.a.createElement("div",{className:"resize-handle resize-handle-e","data-edge":"e"}),o.a.createElement("div",{className:"resize-handle resize-handle-se","data-edge":"se"}),o.a.createElement("div",{className:"resize-handle resize-handle-s","data-edge":"s"}),o.a.createElement("div",{className:"resize-handle resize-handle-sw","data-edge":"sw"}),o.a.createElement("div",{className:"resize-handle resize-handle-w","data-edge":"w"}),o.a.createElement("div",{className:"resize-handle resize-handle-center","data-edge":"center"})))}var A,P=V(v.rects);try{for(P.s();!(A=P.n()).done;){var L=A.value,T=Object(N.g)(k,c,L),I={top:T.top+"px",left:T.left+"px",width:T.width+"px",height:T.height+"px"};E.push(o.a.createElement("div",{className:"resizer-subrect",style:I,key:L.layerid}))}}catch(e){P.e(e)}finally{P.f()}return o.a.createElement(o.a.Fragment,null,m?o.a.createElement("div",{className:"resizer-selector-box",key:"selector-box",style:m}):null,E)},J={moveAndResize:{displayName:"Move And Resize",icon:"select",component:function(e){var t=Object(i.useRef)(),n=Object(i.useState)(),r=h()(n,2),a=r[0],l=r[1];return Object(i.useEffect)((function(){l(t.current)}),[]),o.a.createElement("div",{className:"move-and-resize-tool",ref:t},t.current?o.a.createElement(_,I()({containerElement:a},e)):null)}}},X=n(54),$={fadein:{displayName:"Fade In",create:function(e){return{phase:"entry",preset:"fade",config:{from:0,to:100}}}},fadeout:{displayName:"Fade Out",create:function(e){return{phase:"exit",preset:"fade",config:{from:100,to:0}}}},slidedown:{displayName:"Slide Down",create:function(e){return{phase:"entry",preset:"slide",config:{absolute:!1,fromLeft:0,fromTop:-1080,toLeft:0,toTop:0}}}},slideup:{displayName:"Slide Up",create:function(e){return{phase:"exit",preset:"slide",config:{absolute:!1,fromLeft:0,fromTop:0,toLeft:0,toTop:-1080}}}}},q={entry:[$.fadein,$.slidedown],exit:[$.fadeout,$.slideup]},Q=(n(247),{fade:{displayName:"Fade",parameters:[{type:"group",items:[{name:"from",type:"number",displayName:"From",tag:"%",min:0,max:100,width:50},{name:"to",type:"number",displayName:"To",tag:"%",min:0,max:100,width:50}]}],keyframes:function(e){return[{offset:0,opacity:e.from/100},{offset:1,opacity:e.to/100}]}},slide:{displayName:"Slide",parameters:[{type:"group",items:[{name:"fromTop",type:"number",displayName:"From Top",tag:"px",width:35},{name:"fromLeft",type:"number",displayName:"From Left",tag:"px",width:35},{name:"fromRelative",type:"select",displayName:"Relative To",width:30,options:[{label:"Stage",value:"stage"},{label:"Self",value:"self"}]}]},{type:"group",items:[{name:"toTop",type:"number",displayName:"To Top",tag:"px",width:35},{name:"toLeft",type:"number",displayName:"To Left",tag:"px",width:35},{name:"toRelative",type:"select",displayName:"Relative To",width:30,options:[{label:"Stage",value:"stage"},{label:"Self",value:"self"}]}]}],keyframes:function(e,t){var n=e.fromTop,r=void 0===n?0:n,a=e.fromLeft,i=void 0===a?0:a,o=e.fromRelative,l=e.toTop,s=void 0===l?0:l,c=e.toLeft,u=void 0===c?0:c,p="stage"==o,f="stage"==e.toRelative,d=Object(N.e)(r),m=Object(N.e)(i),y=Object(N.e)(s),h=Object(N.e)(u);return p||(t.style.top&&(d+=Object(N.e)(t.style.top)),t.style.left&&(m+=Object(N.e)(t.style.left))),f||(t.style.top&&(y+=Object(N.e)(t.style.top)),t.style.left&&(h+=Object(N.e)(t.style.left))),[{offset:0,top:d+"px",left:m+"px"},{offset:1,top:y+"px",left:h+"px"}]}}});function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae={isStartEnd:!0,offset:0},ie={isStartEnd:!0,offset:1},oe=function(e){var t=e.keyframe,n=e.offset,r=e.prevOffset,a=e.onMouseDown,l=Object(i.useCallback)((function(e){if(1==(1&e.buttons)&&a){var n=e.target.classList.contains("keyframe-handle");a(e,t,n)}}),[a,t]);return o.a.createElement("div",{className:"keyframe-handle",style:{left:100*r+"%",width:100*(n-r)+"%"},onMouseDown:l},o.a.createElement(X.Icon,{icon:t.isStartEnd?"symbol-square":"symbol-diamond"}))},le=function(e){var t=e.animationContext,n=e.timelineDuration,r=e.onChangeOffset,a=e.onGetClipOffsets,l=e.showCaret,s=void 0!==l&&l,c=Object(i.useRef)(),u=Object(i.useRef)(),p=Object(i.useCallback)((function(e){var i=c.current.getBoundingClientRect(),o=a(),l=.01*n,s=function(e){return Math.max(0,Math.min(1,(e.clientX-i.left)/i.width))*t.duration};r(s(e));var u=function(e){var t=s(e);if(!e.ctrlKey){var n,a=ne(o);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(Math.abs(i-t)<l){t=i;break}}}catch(e){a.e(e)}finally{a.f()}}r(t)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",(function e(t){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",e)}))}),[t,n,a]);Object(i.useEffect)((function(){if(s&&t.phase!=A.a.STATIC){var e,r=t.state==P.a.PLAYING,a=ne(u.current.getAnimations());try{for(a.s();!(e=a.n()).done;){e.value.cancel()}}catch(e){a.e(e)}finally{a.f()}var i=u.current.animate([{offset:0,left:0},{offset:1,left:"100%"}],{delay:r?0:1-t.offset,duration:n});r?i.play():i.pause()}}),[s,t,n]);var f,d=Object(i.useMemo)((function(){for(var e=n,t=Math.pow(10,parseInt(Math.log10(e))),r=[],a=0;a<e;){var i=a+t>e?e-a:t;a+=i;var l=i/e*100;r.push(o.a.createElement("label",{key:a,style:{width:l+"%"}},a,"ms"))}return r}),[n]);return s&&(f=o.a.createElement("div",{className:"caret",ref:u},o.a.createElement(X.Icon,{icon:"caret-down"}))),o.a.createElement("div",{className:"scrubber",onMouseDown:p,ref:c},f,d)},se=function(e){var t=e.animation,n=e.selected,r=e.timelineDuration,a=e.dispatch,l=Object(i.useState)(),s=h()(l,2),c=s[0],u=s[1],p=Object(i.useCallback)((function(e){a("SelectAnimation",{id:t.id,additive:e.ctrlKey})}),[t.id]),f=Object(i.useCallback)((function(){a("DeleteAnimation",t.id)}),[t]),d=Object(i.useCallback)((function(e,n,i){var o=e.ctrlKey,l=e.target.closest(".timeline").getBoundingClientRect(),s=e.clientX,c=t,p=function(e){var a,p,f=(e.clientX-s)/l.width*r;i?a=Math.min(r-t.duration,Math.max(0,t.delay+f)):0!=n.offset||o?1!=n.offset||o||(p=Math.min(r-t.delay,Math.max(1,t.duration+f))):(a=Math.min(t.delay+t.duration-1,Math.max(0,t.delay+f)),p=t.duration-(a-t.delay)),c=te(te({},t),{},{delay:null!=a?a:t.delay,duration:null!=p?p:t.duration}),u(c)};window.addEventListener("mousemove",p),window.addEventListener("mouseup",(function e(n){t==c&&a("SelectAnimation",{id:t.id,additive:n.ctrlKey}),a("UpdateAnimation",c),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",e),u(null)}))}),[r,t]);c&&(t=c);var m=[];if(t.preset){var y=t.delay/r,g=(t.delay+t.duration)/r;m.push(o.a.createElement(oe,{key:"start",keyframe:ae,offset:y,prevOffset:y,onMouseDown:d})),m.push(o.a.createElement(oe,{key:"end",keyframe:ie,offset:g,prevOffset:y,onMouseDown:d}))}var b=t.preset?Q[t.preset].displayName:null;return o.a.createElement("div",{className:"animation-row",isselected:n.toString(),onClick:p},o.a.createElement("div",{className:"animation-name label-width"},o.a.createElement(X.Button,{minimal:!0,icon:"trash",onClick:f}),o.a.createElement(X.Tag,null,b)),o.a.createElement("div",{className:"timeline"},m))},ce=function(e){var t,n=e.phaseKey,r=e.layer,a=e.dispatch,l=e.children,s=Object(i.useState)(!1),c=h()(s,2),u=c[0],p=c[1],f=Object(i.useCallback)((function(e){p(e)}),[]),d=Object(i.useCallback)((function(e){var t=e.create(r);a("CreateAnimation",{layerid:r.id,animation:t})}),[r]);return u&&(t=o.a.createElement(X.Menu,null,q[n].map((function(e){return o.a.createElement(X.MenuItem,{key:e.displayName,text:e.displayName,onClick:function(){return d(e)}})})))),o.a.createElement(X.Popover,{position:"top",boundary:"window",isOpen:u,onInteraction:f},l,t)},ue=function(e){var t,n=e.phaseKey,r=e.timelineDuration,a=e.layer,i=e.animations,l=e.selectedAnimations,s=e.dispatch;return a.animations&&i&&(t=i.filter((function(e){return e.phase==n&&a.animations.includes(e.id)})).map((function(e){return o.a.createElement(se,{key:e.id,animation:e,selected:l.includes(e.id),timelineDuration:r,dispatch:s})}))),o.a.createElement("div",{className:"phase-layer"},o.a.createElement("div",{className:"layer-name-row"},o.a.createElement("div",{className:"label-width"},o.a.createElement("label",null,a.label),o.a.createElement(ce,{phaseKey:n,layer:a,dispatch:s},o.a.createElement(X.Tooltip,{position:"top",content:"New Animation"},o.a.createElement(X.Button,{icon:"plus",small:!0,minimal:!0}))))),t)},pe=function(){var e=Ie((function(e){return e.selectedLayerIds}),(function(e){return e.selectedAnimations}),(function(e){return e.overlay.layers}),(function(e){return e.overlay.animations}),(function(e){return e.animationContext})),t=h()(e,2),n=h()(t[0],5),r=n[0],a=n[1],l=n[2],s=n[3],c=n[4],u=t[1],p=Object(i.useState)(A.a.ENTRY),f=h()(p,2),d=f[0],m=f[1],y=Object(i.useState)(500),g=h()(y,2),b=g[0],v=g[1];G(U.ANIMATION);var w=Object(i.useState)(!0),x=h()(w,2),S=x[0],O=x[1],E=Object(i.useCallback)((function(e){var t=e.ctrlKey,n=e.deltaY;t&&v((function(e){return Math.max(0,e+n)}))}),[]),k=Object(i.useCallback)((function(){u("ToggleAnimationPlaying",{phase:d,duration:b})}),[d,b]),C=Object(i.useCallback)((function(e){console.log(" pp key down",{key:e.key})," "!=e.key&&"Enter"!=e.key||(e.stopPropagation(),e.preventDefault())}),[]),j=Object(i.useCallback)((function(e){e=parseInt(Math.round(e)),u("SetAnimationContext",{offset:e})}),[]),N=Object(i.useCallback)((function(){return[]}),[l,c.phase.key]),L=(S?l:l.filter((function(e){return r.includes(e.id)})))||[];return o.a.createElement("div",{className:"animation-panel",onWheel:E},o.a.createElement("div",{className:"phase-layers"},o.a.createElement("div",{className:"phase-header"},o.a.createElement(X.ButtonGroup,null,o.a.createElement(X.Button,{key:"entry",text:A.a.ENTRY.displayName,active:d==A.a.ENTRY,onClick:function(){return m(A.a.ENTRY)}}),o.a.createElement(X.Button,{key:"exit",text:A.a.EXIT.displayName,active:d==A.a.EXIT,onClick:function(){return m(A.a.EXIT)}})),o.a.createElement("div",{className:"timing"},o.a.createElement(X.Button,{minimal:!0,tabIndex:-1,icon:c.state==P.a.PLAYING?"pause":"play",onClick:k,onKeyDown:C})),o.a.createElement(X.Tooltip,{content:S?"Showing selected & unselected layers":"Showing selected layers only"},o.a.createElement(X.Button,{icon:"eye-open",active:S,onClick:function(e){return O(!S)}}))),o.a.createElement("div",{className:"scrubber-row"},o.a.createElement("div",{className:"label-width"}),o.a.createElement(le,{showCaret:c.state==P.a.PLAYING,timelineDuration:b,animationContext:c,onChangeOffset:j,onGetClipOffsets:N})),o.a.createElement("div",{className:"scroll-body"},L.map((function(e){return o.a.createElement(ue,{key:e.id,phaseKey:d.key,animationContext:c,timelineDuration:b,layer:e,animations:s,selectedAnimations:a,dispatch:u})})))))},fe=n(279),de=n.n(fe),me=n(280),ye=(n(281),n(282),n(283),{animation:{key:function(){return"animation"},icon:function(){return"walk"},title:function(){return"Animation"},component:pe},script:{key:function(e){return e.scriptKey},icon:function(e){switch(e.scriptKey){case"main.js":return"document-share";case"settings.json":return"cog";default:return"document"}},title:function(e){return e.scriptKey},component:function(e){e.editorKey;var t=e.scriptKey,n=Ie((function(e){return e.overlay.scripts?e.overlay.scripts[t]:null})),r=h()(n,2),a=h()(r[0],1)[0],l=r[1],s=Object(i.useCallback)((function(e){l("UpdateScript",{scriptKey:t,content:e})}),[]),c=Object(i.useCallback)((function(e){"Enter"==e.key&&(e.target.closest(".script-wrapper").scrollLeft=0),"e"==e.key&&e.ctrlKey&&(l("ExecuteScript"),e.preventDefault())}),[]);return G(U.SCRIPT),null==a?null:o.a.createElement("div",{className:"script-editor-wrapper"},o.a.createElement("div",{className:"script-wrapper"},o.a.createElement(de.a,{value:a,onValueChange:s,onKeyDown:c,highlight:function(e){return Object(me.highlight)(e,me.languages.javascript)},padding:5,className:"editor-wrapper"})))}}}),he=n(17);function ge(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=o.a.createContext();function Se(e,t){if(!t)return null;var n=t(e.overlay);if(!n)return null;var r=we(we({},e.overlay),n);return e.onOverlayChanged&&e.onOverlayChanged(r,e.overlay),{overlay:r}}function Oe(e,t,n){return Se(e,(function(e){return{layers:e.layers.map((function(e){if(e.id!=t)return e;var r=n(e);return r?we(we({},e),r):e}))}}))}function Ee(e,t,n){return Se(e,(function(e){return{layers:e.layers.map((function(e){if(!t.includes(e.id))return e;var r=n(e);return r?we(we({},e),r):e}))}}))}function ke(e,t){var n=Object(N.f)(t);return Ee(e,e.selectedLayerIds,(function(e){var t=n(e);if(!t)return null;for(var r=we({},e.style),a=0,i=Object.entries(t);a<i.length;a++){var o=h()(i[a],2),l=o[0],s=o[1];"DELETE"===s?delete r[l]:s&&(r[l]=s)}return{style:r}}))}function Ce(e,t,n){var r=e.findIndex((function(e){return e.id==t})),a=e.splice(r,1)[0];n>r&&n--,e.splice(n,0,a)}function je(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=m()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith("http")){e.next=2;break}return e.abrupt("return","text/plain");case 2:if(!/\.png/.test(t)){e.next=6;break}return e.abrupt("return","image/png");case 6:if(!/\.jpe?g$/i.test(t)){e.next=10;break}return e.abrupt("return","image/jpeg");case 10:if(!/\.gif$/i.test(t)){e.next=14;break}return e.abrupt("return","image/gif");case 14:if(!/\.mp4$/i.test(t)){e.next=18;break}return e.abrupt("return","video/mp4");case 18:if(!/\.mov$/i.test(t)){e.next=22;break}return e.abrupt("return","video/mov");case 22:if(!/\.mkv$/i.test(t)){e.next=26;break}return e.abrupt("return","video/mkv");case 26:if(!/\.3gp$/i.test(t)){e.next=30;break}return e.abrupt("return","video/3gpp");case 30:if(!/\.ogv$/i.test(t)){e.next=34;break}return e.abrupt("return","video/ogv");case 34:if(!/\.mp3$/i.test(t)){e.next=38;break}return e.abrupt("return","audio/mpeg");case 38:if(!/\.wav$/i.test(t)){e.next=42;break}return e.abrupt("return","audio/wav");case 42:if(!/\.ogg$/i.test(t)){e.next=46;break}return e.abrupt("return","audio/ogg");case 46:if(!/\.js$/i.test(t)){e.next=48;break}return e.abrupt("return","text/javascript");case 48:return e.prev=48,e.next=51,fetch(t,{method:"HEAD",cache:"no-cache"});case 51:return n=e.sent,e.abrupt("return",n.headers.get("Content-Type"));case 55:return e.prev=55,e.t0=e.catch(48),e.abrupt("return","text/html");case 58:case"end":return e.stop()}}),e,null,[[48,55]])})))).apply(this,arguments)}function Ae(e,t){return w.find((function(n){return n.match(e,t)}))}var Pe={SetOptions:function(e,t){return{width:t.width||1920,height:t.height||1080,onOverlayChanged:t.onOverlayChanged,onUpload:t.onUpload,elements:t.elements||L.a}},SetOverlay:function(e,t){if(e.overlay!=t)return{overlay:t}},SetOverlayDomElement:function(e,t){return{overlayDomElement:t}},SetStageTool:function(e,t){return{stageTool:t,animationContext:{phase:A.a.STATIC,offset:0,state:P.a.PAUSED}}},SetStageAutoFitZoom:function(e,t){return{stageZoomSelection:we(we({},e.stageZoomSelection),{},{autoFitZoom:t}),stageTransform:we(we({},e.stageTransform),{},{zoom:e.stageZoomSelection.isAuto?t:e.stageTransform.zoom})}},SetStageZoomSelection:function(e,t){return{stageZoomSelection:t,stageTransform:we(we({},e.stageTransform),{},{zoom:t.isAuto?t.autoFitZoom:t.zoom})}},ResetStageZoom:function(e){return{stageZoomSelection:we(we({},e.stageZoomSelection),{},{isAuto:!0}),stageTransform:we(we({},e.stageTransform),{},{zoom:e.stageZoomSelection.autoFitZoom,panning:[0,0]})}},StepZoom:function(e,t){var n=t<0?e.stageTransform.zoom/(1+.1*-t):e.stageTransform.zoom*(1+.1*t);return{stageZoomSelection:we(we({},e.stageZoomSelection),{},{zoom:n,isAuto:!1}),stageTransform:we(we({},e.stageTransform),{},{zoom:n})}},SetStageTransform:function(e,t){return{stageTransform:t}},SetAnimationContext:function(e,t){var n=t.phase,r=t.offset,a=t.duration,i=t.state,o=t.timeout,l={animationContext:we(we({},e.animationContext),{},{phase:void 0===n?e.animationContext.phase:n,offset:void 0===r?e.animationContext.offset:r,duration:void 0===a?e.animationContext.duration:a,state:void 0===i?e.animationContext.state:i,timeout:void 0===o?e.animationContext.timeout:o})};return e.animationContext.timeout&&(l.animationContext.timeout=null,clearTimeout(e.animationContext.timeout)),l},ToggleAnimationPlaying:function(e,t){var n=t.phase,r=t.duration;return function(t){if(e.animationContext.state==P.a.PLAYING)e.animationContext.timeout&&clearTimeout(e.animationContext.timeout),t("SetAnimationContext",{phase:A.a.STATIC,state:P.a.PAUSED,timeout:null});else{if(!r){r=500;var a,i=ge(e.overlay.layers);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.transitions)for(var l=0,s=Object.entries(o.transitions);l<s.length;l++){var c=h()(s[l],2),u=c[0],p=c[1];he.a[u].phase==n.key&&(r=Math.max(r,p.delay+p.duration))}}}catch(e){i.e(e)}finally{i.f()}}var f=setTimeout((function(){t("SetAnimationContext",{phase:A.a.STATIC,state:P.a.PAUSED,timeout:null})}),r);t("SetAnimationContext",{phase:n,offset:0,state:P.a.PLAYING,timeout:f})}}},UpdateAnimationContextDuration:function(e,t){if(e.animationContext.duration){var n=Math.max(500,e.animationContext.duration+t);return{animationContext:we(we({},e.animationContext),{},{duration:n})}}},SavePreferences:function(e,t){return{preferences:we(we({},e.preferences),t)}},ToggleEditor:function(e,t){var n=t.type,r=t.params,a={},i=ye[n].key(r),o=e.editors.findIndex((function(e){return e.key==i}));return-1==o?(a.editors=[].concat(f()(e.editors),[{key:i,type:n,params:r}]),a.selectedEditorTab=i):(a.editors=f()(e.editors),a.editors.splice(o,1),e.selectedEditorTab==i&&(a.editors.length>o?e.selectedEditorTab=a.editors[o].key:e.selectedEditorTab=o>0?a.editors[o-1].key:null)),a},OpenEditor:function(e,t){var n=t.type,r=t.params,a={},i=ye[n].key(r);return-1==e.editors.findIndex((function(e){return e.key==i}))&&(a.editors=[].concat(f()(e.editors),[{key:i,type:n,params:r}])),a.selectedEditorTab=i,a.preferences=we(we({},e.preferences),{},{bottomPanelMinimized:!1}),a},CloseEditor:function(e,t){var n=e.editors.findIndex((function(e){return e.key==t}));if(-1!=n){var r={};return r.editors=f()(e.editors),r.editors.splice(n,1),e.selectedEditorTab==t&&(r.editors.length>n?e.selectedEditorTab=r.editors[n].key:e.selectedEditorTab=n>0?r.editors[n-1].key:null),r}},SelectEditor:function(e,t){return{selectedEditorTab:t,preferences:we(we({},e.preferences),{},{bottomPanelMinimized:!1})}},SelectPropertyTab:function(e,t){return{selectedPropertyTab:t}},CreateAsset:function(e,t){var n=t.asset,r=t.onCreated;return Se(e,(function(e){var t="asset:"+n.name;if(e.assets)for(var a=1;null!=e.assets[t];a++)t="asset:"+n.name+"-"+a++;return r(t),{assets:we(we({},e.assets),{},b()({},t,n))}}))},DeleteAsset:function(e,t){return Se(e,(function(e){var n=we({},e.assets);return delete n[t],{assets:n}}))},CreateScript:function(e,t){return function(n){if(!e.overlay.scripts||!(t&&e.overlay.scripts[t])){if(t||(t="script.js"),e.overlay.scripts){for(var r=t,a=1;null!=e.overlay.scripts[r];a++)r="(".concat(a,") ").concat(t);t=r}n("CreateScriptInternal",t)}n("OpenEditor",{type:"script",params:{scriptKey:t}})}},CreateScriptInternal:function(e,t){return Se(e,(function(e){return{scripts:we(we({},e.scripts),{},b()({},t,""))}}))},DeleteScript:function(e,t){var n=Se(e,(function(e){var n=we({},e.scripts);return delete n[t],{scripts:n}})),r=e.editors.findIndex((function(e){return"script"==e.type&&e.params.scriptKey==t}));return r>-1&&(n.editors=e.editors.filter((function(e,t){return t!=r}))),n},UpdateScript:function(e,t){var n=t.scriptKey,r=t.content;if(e.overlay.scripts)return Se(e,(function(e){return{scripts:we(we({},e.scripts),{},b()({},n,r))}}))},ReorderScript:function(e,t){var n=t.scriptKey,r=t.newIndex;if(e.overlay.scripts)return Se(e,(function(e){var t=e.scripts[n],a=Object.entries(e.scripts);return{scripts:a.reduce((function(e,i,o){var l=h()(i,2),s=l[0],c=l[1];return o==r&&(e[n]=t),n!=s&&(e[s]=c),o==a.length-1&&r>o&&(e[n]=t),e}),{})}}))},UpdateScriptKey:function(e,t){var n=t.scriptKey,r=t.newScriptKey;if(e.overlay.scripts&&n!=r){if(e.overlay.scripts[r])return function(e){e("ShowToast",{id:Math.random(),icon:"error",intent:"danger",message:"The specified script name is already in use.",timeout:5e3})};var a=Se(e,(function(e){return{scripts:Object.entries(e.scripts).reduce((function(e,t){var a=h()(t,2),i=a[0],o=a[1];return i==n?e[r]=o:e[i]=o,e}),{})}})),i=e.editors.findIndex((function(e){return e.key==n&&"script"==e.type}));if(i>-1){a.editors=f()(e.editors);var o=we({},a.editors[i]);o.key=r,o.params=we(we({},o.params),{},{scriptKey:r}),a.editors[i]=o}return e.selectedEditorTab==n&&(a.selectedEditorTab=r),a}},ExecuteScript:function(e){return e.isExecutingScript?{isExecutingScript:!1}:{isExecutingScript:!0}},SetScriptState:function(e,t){return{scriptState:we({},t)}},UpdateScriptSettings:function(e,t){return Se(e,(function(e){return{settings:we(we({},e.settings),t)}}))},CreateLayers:function(e,t){var n=[],r=Se(e,(function(r){var a,i=r.layers?f()(r.layers):[],o=i.map((function(e){return e.id})).reduce(N.d,1),l=ge(t);try{var s=function(){var t=a.value,r=e.elements[t.elementName];if(!r)return"continue";var l,s=we({},t.config||{}),c=ge(r.manifest.parameters);try{for(c.s();!(l=c.n()).done;){var u=l.value;void 0===s[u.name]&&(void 0!==u.defaultValue&&(s[u.name]=u.defaultValue))}}catch(e){c.e(e)}finally{c.f()}var p={id:++o,elementName:t.elementName,label:t.label||r.manifest.name,config:s,effects:t.effects||(r.manifest.defaultEffects?we({},r.manifest.defaultEffects):null),style:we(we({},r.manifest.defaultStyle),t.style)};console.log({layer:p}),t.animations&&(p.animations=t.animations);var f=p.label;f.match(/\#\d+$/)&&(f=f.substr(0,f.lastIndexOf("#")-1));for(var d=2;i.findIndex((function(e){return e.label==p.label}))>-1;d++)p.label=f+" #"+d;i.unshift(p),n.push(p.id)};for(l.s();!(a=l.n()).done;)s()}catch(e){l.e(e)}finally{l.f()}return{layers:i}}));return r.selectedLayerIds=n,r.selectedPropertyTab="element",r},SelectLayer:function(e,t){var n=t.id,r=t.append,a=t.selectBetween;if(null!=n||0!=e.selectedLayerIds.length){var i;if(n)if(r||a)if(a)if(0==e.selectedLayerIds.length)i=[n];else{var o=e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]})),l=e.overlay.layers.findIndex((function(e){return e.id==n}));if(o>l){var s=l;l=o,o=s}i=[];for(var c=o;c<=l;c++){var u=e.overlay.layers[c];i.push(u.id)}}else(i=f()(e.selectedLayerIds)).includes(n)?i=i.filter((function(e){return e!=n})):i.push(n);else i=[n];else i=[];return{selectedLayerIds:i}}},SelectLayers:function(e,t){return{selectedLayerIds:t}},UpdateLayers:function(e,t){var n=t.layers;return Se(e,(function(e){var t,r=f()(e.layers),a=ge(n);try{var i=function(){var e=t.value,n=r.findIndex((function(t){return t.id==e.id}));if(-1==n)return"continue";r[n]=we(we({},r[n]),e)};for(a.s();!(t=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}return{layers:r}}))},DeleteLayers:function(e,t){var n=Se(e,(function(e){return{layers:e.layers.filter((function(e){return!t.includes(e.id)}))}}));return n.selectedLayerIds=e.selectedLayerIds.filter((function(e){return!t.includes(e)})),n},ReorderLayer:function(e,t){var n=t.id,r=t.newIndex;return Se(e,(function(e){var t=f()(e.layers);return Ce(t,n,r),{layers:t}}))},DeleteSelection:function(e){if(0!=e.selectedLayerIds.length){var t=Se(e,(function(t){return{layers:t.layers.filter((function(t){return!e.selectedLayerIds.includes(t.id)}))}}));return t.selectedLayerIds=[],t}},CopySelectedLayersToClipboard:function(e){if(0!=e.selectedLayerIds.length){var t=e.overlay.layers.filter((function(t){return e.selectedLayerIds.includes(t.id)}));Object(N.b)(JSON.stringify({objectType:"layers",data:t}))}},CenterSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox;if(0!=n.length){var a=e.width/2-(r.left+r.width/2),i=e.height/2-(r.top+r.height/2);return ke(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t)return{top:t.top+i+"px",left:t.left+a+"px",height:t.height+"px",width:t.width+"px"}}))}},FullscreenSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox;if(0!=n.length){var a=-r.left,i=-r.top,o=e.width/r.width,l=e.height/r.height;return ke(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t)return{top:(t.top+i)*l+"px",left:(t.left+a)*o+"px",width:t.width*o+"px",height:t.height*l+"px"}}))}},ResetSelectedLayers:function(e){if(0!=e.selectedLayerIds.length)return function(){var t=m()(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.selectedLayerIds.map((function(t){var n=e.overlay.layers.find((function(e){return e.id==t})),r=e.elements[n.elementName];return r.manifest.getNaturalDimensions?r.manifest.getNaturalDimensions(n.config,e.overlay.assets).then((function(e){return we({id:n.id},e)})):Promise.resolve({})})));case 2:r=t.sent,n("ResetSelectedLayers_Complete",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ResetSelectedLayers_Complete:function(e,t){return ke(e,(function(e,n){var r=t.find((function(e){return e.id==n.id}));if(r)return{top:0,left:0,width:r.width+"px",height:r.height+"px"}}))},RaiseSelectedLayers:function(e,t){if(0!=e.selectedLayerIds.length){var n=[];e.overlay.layers.forEach((function(t,r){e.selectedLayerIds.includes(t.id)&&n.push({index:r,layer:t})}));var r=n.map((function(e){return e.index})).reduce((function(e,t){return Math.min(e,t)}),1e4);if(0!=r)return t&&(r=1),Se(e,(function(e){var t=f()(e.layers);return n.forEach((function(e,a){var i=r-1+a;Ce(t,n[a].layer.id,i)})),{layers:t}}))}},LowerSelectedLayers:function(e,t){if(0!=e.selectedLayerIds.length){var n=[];e.overlay.layers.forEach((function(t,r){e.selectedLayerIds.includes(t.id)&&n.push({index:r,layer:t})}));var r=n.map((function(e){return e.index})).reduce((function(e,t){return Math.max(e,t)}),0);if(r!=e.overlay.layers.length-1)return t&&(r=e.overlay.layers.length-2),Se(e,(function(e){var t=f()(e.layers);return n.forEach((function(e,a){var i=r+2-a;Ce(t,n[a].layer.id,i)})),{layers:t}}))}},ScaleSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox,a=t.direction,i=t.precise;if(0!=n.length){var o=i?1.1:1.2;return"down"==a&&(o=1/o),ke(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t){var a=t.top-r.top,i=t.left-r.left;return{top:t.top+a*(o-1)+"px",left:t.left+i*(o-1)+"px",width:t.width*o+"px",height:t.height*o+"px"}}}))}},NudgeSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox,a=t.direction,i=t.precise,o=t.toEdge;if(0!=n.length){var l=i?1:5;return ke(e,(function(t){var i=n.find((function(e){return e.layerid==t.id}));if(i)switch(a){case"left":return{left:(o?i.left-r.left:i.left-l)+"px"};case"right":return{left:(o?i.left+(e.width-r.right):i.left+l)+"px"};case"up":return{top:(o?i.top-r.top:i.top-l)+"px"};case"down":return{top:(o?i.top+(e.height-r.bottom):i.top+l)+"px"}}}))}},UpdateLayerConfig:function(e,t){var n=t.id,r=t.config;return Oe(e,n,(function(e){return{config:we(we({},e.config),r)}}))},CreateLayerEffect:function(e,t){var n=t.id,r=t.effectName,a=j.b[r];if(a){var i,o={},l=ge(a.parameters);try{for(l.s();!(i=l.n()).done;){var s=i.value;null!=s.defaultValue&&(o[s.name]=s.defaultValue)}}catch(e){l.e(e)}finally{l.f()}return Oe(e,n,(function(e){if(!e.effects||!e.effects[r])return{effects:we(we({},e.effects),{},b()({},r,o))}}))}},UpdateLayerEffect:function(e,t){var n=t.id,r=t.effectName,a=t.config;return Oe(e,n,(function(e){if(e.effects&&e.effects[r]){var t=we(we({},e.effects[r]),a);return{effects:we(we({},e.effects),{},b()({},r,t))}}}))},DeleteLayerEffect:function(e,t){var n=t.id,r=t.effectName;return Oe(e,n,(function(e){var t=we({},e.effects);return delete t[r],{effects:t}}))},UpdateSelectedLayersConfig:function(e,t){var n=t.config;if(0!=e.selectedLayerIds.length)return Ee(e,e.selectedLayerIds,(function(e){return{config:we(we({},e.config),n)}}))},UpdateSelectedLayersEffect:function(e,t){var n=t.effectName,r=t.config;if(0!=e.selectedLayerIds.length)return Ee(e,e.selectedLayerIds,(function(e){if(e.effects&&e.effects[n]){var t=we({},e.effects);return r?t[n]=we(we({},t[n]),r):delete t[n],{effects:t}}}))},SelectNextLayer:function(e,t){var n=[];if(0==e.selectedLayerIds.length)e.overlay.layers.length>0&&(n=[e.overlay.layers[0].id]);else{var r=(e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]}))+e.overlay.layers.length+(t?-1:1))%e.overlay.layers.length;n=[e.overlay.layers[r].id]}return{selectedLayerIds:n}},SelectAllLayers:function(e){return{selectedLayerIds:e.overlay.layers.map((function(e){return e.id}))}},UpdateSelectionStyle:function(e,t){return ke(e,t)},CreateAnimation:function(e,t){var n,r=t.layerid,a=t.animation;n=e.overlay.animations?e.overlay.animations.reduce((function(e,t){return t.id>e&&(e=t.id),e}),1):0,a=we({id:n+1,delay:0,duration:500},a);var i=Se(e,(function(e){var t=e.animations?f()(e.animations):[];return t.push(a),{animations:t,layers:e.layers.map((function(e){return e.id==r&&((e=we({},e)).animations=e.animations?f()(e.animations):[],e.animations.push(a.id)),e}))}}));return i.selectedAnimations=[a.id],i.selectedPropertyTab="animation",i},UpdateAnimation:function(e,t){return Se(e,(function(e){return{animations:e.animations.map((function(e){return e.id==t.id?t:e}))}}))},DeleteAnimation:function(e,t){return Se(e,(function(e){return{animations:e.animations.filter((function(e){return e.id!=t})),layers:e.layers.map((function(e){var n=e.animations?e.animations.findIndex((function(e){return e.id==t})):-1;return n>0&&((e=we({},e)).animations=f()(e.animations),e.animations.splice(n,1)),e}))}}))},SelectAnimation:function(e,t){var n,r=t.id;if(t.additive){var a=(n=f()(e.selectedAnimations)).findIndex((function(e){return e==r}));a>-1?n.splice(a,1):n.push(r)}else n=[r];return{selectedAnimations:n,selectedPropertyTab:"animation"}},UpdateSelectedAnimations:function(e,t){return Se(e,(function(n){return{animations:n.animations.map((function(n){return e.selectedAnimations.includes(n.id)&&(n=we(we({},n),t)),n}))}}))},AddTransition:function(e,t){var n=he.a[t];return Ee(e,e.selectedLayerIds,(function(e){if(!e.transitions||!e.transitions[t])return{transitions:we(we({},e.transitions),{},b()({},t,we({delay:0,duration:500,easing:"linear"},n.initialConfig)))}}))},DeleteTransition:function(e,t){return Ee(e,e.selectedLayerIds,(function(e){if(e.transitions&&e.transitions[t]){var n=we({},e.transitions);return delete n[t],{transitions:n}}}))},UpdateTransition:function(e,t){var n=t.transitionName,r=t.transitionConfig,a=he.a[n];return Ee(e,e.selectedLayerIds,(function(e){var t=we({},e.transitions);return t[n]?t[n]=we(we({},t[n]),r):t[n]=we({delay:0,duration:500,easing:"linear"},a.initialConfig),{transitions:t}}))},HandlePaste:function(e,t){return function(){var n=m()(u.a.mark((function n(r){var a,i,o,l,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=function(e){r("CreateLayers",e)},i=function(e){r("ShowToast",{id:Math.random(),icon:"error",intent:"danger",message:e,timeout:5e3})},o=ge(t),n.prev=3,s=u.a.mark((function t(){var n,r,o,s,c,p,f,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("text/plain"==(n=l.value).type){t.next=3;break}return t.abrupt("return","continue");case 3:return t.next=5,new Promise((function(e){return n.getAsString(e)}));case 5:if(!(r=t.sent).startsWith("{")){t.next=12;break}try{o=JSON.parse(r)}catch(e){}if(!o){t.next=12;break}if("layers"!=o.objectType){t.next=12;break}return a(o.data),t.abrupt("return","continue");case 12:if(!r.startsWith("http")){t.next=36;break}return t.next=15,je(r);case 15:if(s=t.sent,c=Ae(s,r)){t.next=20;break}return i("Unsupported file type '".concat(s,"'.")),t.abrupt("return","continue");case 20:if(!c.getLayer){t.next=35;break}if(p=c.getLayer(r),!(f=e.elements[p.elementName])){t.next=34;break}if(!f.manifest.getDimensions){t.next=32;break}return t.next=27,f.manifest.getDimensions(p.config,{});case 27:d=t.sent,p.width=d.width,p.height=d.height,t.next=34;break;case 32:p.width=f.manifest.width,p.height=f.manifest.height;case 34:a([p]);case 35:return t.abrupt("return","continue");case 36:return i("Unsupported paste data format."),t.abrupt("return","continue");case 38:case"end":return t.stop()}}),t)})),o.s();case 6:if((l=o.n()).done){n.next=13;break}return n.delegateYield(s(),"t0",8);case 8:if("continue"!==n.t0){n.next=11;break}return n.abrupt("continue",11);case 11:n.next=6;break;case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(3),o.e(n.t1);case 18:return n.prev=18,o.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[3,15,18,21]])})));return function(e){return n.apply(this,arguments)}}()},HandleFileUpload:function(e,t){var n=t.files,r=t.onComplete,a=t.autoCreateLayers;return function(t){var i,o=function(e,n){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:n/e.size,timeout:0})},l=function(e,n){t("ShowToast",{id:e.name,icon:"error",intent:"danger",message:n.toString(),timeout:5e3})},s=function(t,n){return e.onUpload?e.onUpload(t,n).then((function(e){return{name:t.name,src:e}})):function(e,t){return e.size>134217728?Promise.reject("File sizes greater than 128MB are not supported."):new Promise((function(n,r){var a=new FileReader;a.addEventListener("load",(function(){return n(a.result)})),a.addEventListener("progress",(function(n){return t(e,n.loaded)})),a.addEventListener("error",r),a.readAsDataURL(e)}))}(t,n).then((function(e){return{name:t.name,src:e,inline:!0}}))},c=function(){var n=m()(u.a.mark((function n(r,a,i,o){var l,s,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.getLayer){n.next=2;break}return n.abrupt("return");case 2:if(l=r.getLayer(i),s=e.elements[l.elementName]){n.next=7;break}return console.log("Tried to create layer for unknown element:"+l.elementName),n.abrupt("return");case 7:if(l.name=a,!s.manifest.getNaturalDimensions){n.next=14;break}return n.next=11,s.manifest.getNaturalDimensions(l.config,b()({},i,o));case 11:c=n.sent,n.next=15;break;case 14:s.manifest.width&&s.manifest.height&&(c={width:s.manifest.width,height:s.manifest.height});case 15:c&&(l.style=we(we({},l.style),{},{top:"0px",left:"0px",width:c.width+"px",height:c.height+"px"})),t("CreateLayers",[l]);case 17:case"end":return n.stop()}}),n)})));return function(e,t,r,a){return n.apply(this,arguments)}}(),p=ge(n);try{var f=function(){var e=i.value,n=Ae(e.type,null);if(!n)return l(e,"".concat(e.name,": Unsupported file type '").concat(e.type,"'.")),"continue";!function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:0,timeout:0,onCancel:function(){e.cancel&&e.cancel()}})}(e),s(e,o).then((function(i){i&&i.src?(!function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:1,timeout:500})}(e),i.type=n.assetType,new Promise((function(e){t("CreateAsset",{asset:i,onCreated:e},!1)})).then((function(t){a&&c(n,e.name,t,i),r&&r(t)}))):l(e,"Upload failed: asset or asset.src is null.")})).catch((function(t){l(e,t)}))};for(p.s();!(i=p.n()).done;)f()}catch(e){p.e(e)}finally{p.f()}}},ShowToast:function(e,t){var n=!1,r=e.toasts.map((function(e){return e.id!=t.id?e:(n=!0,t)}));return n||r.push(t),{toasts:r}},DismissToast:function(e,t){return t.onCancel&&t.onCancel(),{toasts:e.toasts.filter((function(e){return e!=t}))}}},Le={width:1920,height:1080,onOverlayChanged:null,onUpload:null,elements:L.a,overlay:{layers:[],assets:[],scripts:[]},stageTool:J.moveAndResize,stageZoomSelection:{zoom:1,autoFitZoom:1,isAuto:!0},stageTransform:{zoom:1,panning:[0,0],width:1920,height:1080},animationContext:{phase:A.a.STATIC},isExecutingScript:!1,selectedLayerIds:[],selectedAnimations:[],overlayDomElement:null,scriptState:null,preferences:{leftPanelWidth:380,bottomPanelSize:300,consolePanelSize:500,bottomPanelMinimized:!1,transitionEditorSize:300},editors:[],selectedPropertyTab:null,selectedEditorTab:null,toasts:[]},Te=function(e){var t=e.overlay,n=e.width,r=e.height,a=e.onOverlayChanged,l=e.onUpload,c=e.elements,u=e.children,p=(s()(e,["overlay","width","height","onOverlayChanged","onUpload","elements","children"]),Object(i.useRef)());if(!p.current){p.current=C(Le,Pe,(function(e,t){if(!t.overlay||e.overlay==t.overlay)return null;var n={},r=!1;return t.overlay.layers&&e.overlay.layers!=t.overlay.layers&&(n.layers=t.overlay.layers,r=!0),t.overlay.assets&&e.overlay.assets!=t.overlay.assets&&(n.assets=t.overlay.assets,r=!0),t.overlay.animations&&e.overlay.animations!=t.overlay.animations&&(n.animations=t.overlay.animations,r=!0),r?n:null}),(function(e,t){e.overlay=we(we({},e.overlay),t)}))}return Object(i.useMemo)((function(){p.current.dispatch("SetOptions",{width:n,height:r,onOverlayChanged:a,onUpload:l,elements:c})}),[n,r,a,l,c]),Object(i.useMemo)((function(){p.current.dispatch("SetOverlay",t)}),[t]),o.a.createElement(xe.Provider,{value:p.current},u)},Ie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(i.useContext)(xe);if(0==t.length)return r.dispatch;var a=Object(i.useState)((function(){return r.select(t)})),o=h()(a,2),l=o[0],s=o[1];return Object(i.useEffect)((function(){function e(){var e=r.select(t);s((function(t){for(var n=0;n<t.length;n++)if(t[n]!=e[n])return e;return t}))}return r.subscribe(e),function(){return r.unsubscribe(e)}}),[]),[l,r.dispatch]};function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=o.a.createContext(),Fe={};function Be(){var e=Ie((function(e){return e.overlay.layers}),(function(e){return e.selectedLayerIds}),(function(e){return e.elements})),t=h()(e,2),n=h()(t[0],3),r=n[0],a=n[1],i=n[2];t[1];return r?r.reduce((function(e,t){if(a.includes(t.id)){var n=i[t.elementName];if(!e)return{mergedElement:{element:n,elementName:t.elementName,config:t.config},mergedEffects:t.effects?ze({},t.effects):Fe,allowedStyles:n.manifest.allowedStyles?f()(n.manifest.allowedStyles):[],mergedStyle:t.style?ze({},t.style):Fe,mergedTransitions:t.transitions?ze({},t.transitions):Fe};if(e.mergedElement&&e.mergedElement.elementName!=t.elementName&&(e.mergedElement=null),e.mergedEffects!=Fe)if(t.effects&&0!=t.effects.length)for(var r=0,o=Object.keys(e.mergedEffects);r<o.length;r++){var l=o[r];t.effects[l]||delete e.mergedEffects[l]}else e.mergedEffects=Fe;if(e.allowedStyles.length>0){var s=n.manifest.allowedStyles;s&&0!=s.length?e.allowedStyles=e.allowedStyles.filter((function(e){return s.includes(e)})):e.allowedStyles=[]}if(e.mergedStyle&&t.style)for(var c=0,u=Object.entries(t.style);c<u.length;c++){var p=h()(u[c],2),d=p[0],m=p[1];e.mergedStyle[d]!=m&&delete e.mergedStyle[d]}if(e.mergedTransitions&&t.transitions)for(var y=0,g=Object.entries(e.mergedTransitions);y<g.length;y++){var b=h()(g[y],2),v=b[0];b[1];t.transitions[v]||delete e.mergedTransitions[v]}}return e}),null):{}}var Re=function(e){return o.a.createElement(Me.Provider,I()({value:Be()},e))},Ue={};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ge=o.a.createContext();function He(){var e,t=Ie((function(e){return e.overlay.animations}),(function(e){return e.selectedAnimations})),n=h()(t,2),r=h()(n[0],2),a=r[0],i=r[1];n[1];return i.length>0&&(e=a.reduce((function(e,t){return i.includes(t.id)&&(null==e?e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t):function(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var a=h()(r[n],2),i=a[0],o=a[1];t[i]!=o&&(e[i]=Ue)}}(e,t)),e}),null)),{mergedAnimation:e}}var Ve=function(e){return o.a.createElement(Ge.Provider,I()({value:He()},e))},Ye=n(171),We=n.n(Ye),Ze=n(81),_e=function(e){e.props;var t=Ie((function(e){return e.toasts})),n=h()(t,2),r=h()(n[0],1)[0],a=n[1];return o.a.createElement(X.Toaster,{position:Ze.a.BOTTOM,usePortal:!1,className:"app-toaster"},r.map((function(e){var t;return t=null!=e.progress?o.a.createElement(o.a.Fragment,null,o.a.createElement(X.ProgressBar,{intent:e.progress<1?"primary":"success",stripes:e.progress<1,value:e.progress}),o.a.createElement("div",null,e.message)):e.message,o.a.createElement(X.Toast,I()({key:e.id},e,{message:t,onDismiss:function(){return a("DismissToast",e)}}))})))},Je=n(172),Xe=n(19);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=o.a.createContext(),nt=function(e){var t=e.parameterValues,n=e.onParameterValuesChanged,r=e.onHandleUpload,a=e.reportAllValues,l=s()(e,["parameterValues","onParameterValuesChanged","onHandleUpload","reportAllValues"]),c=Object(i.useRef)(null);if(!c.current){var u=[],p=t;c.current={subscribe:function(e){u.push(e)},unsubscribe:function(e){u=u.filter((function(t){return t!=e}))},getValue:function(e){return p[e.name]},notifyForChanges:function(e){p=e;var t,n=Qe(u);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(e){n.e(e)}finally{n.f()}},onParameterValueChanged:function(e,t,n){var r=a?qe(qe({},p),{},b()({},e.name,t)):b()({},e.name,t);c.current.onParameterValuesChanged(r,n)}}}return Object(i.useMemo)((function(){return c.current.onParameterValuesChanged=n,n}),[n]),Object(i.useMemo)((function(){return c.current.onHandleUpload=r,r}),[r]),Object(i.useEffect)((function(){c.current.notifyForChanges(t)}),[t]),o.a.createElement(tt.Provider,I()({value:c.current},l))},rt=function(e){var t=Object(i.useContext)(tt),n=Object(i.useState)((function(){return t.getValue(e)})),r=h()(n,2),a=r[0],o=r[1],l=Object(i.useCallback)((function(){var n=t.getValue(e);o((function(e){return e!=n?n:e}))}),[t]);return Object(i.useEffect)((function(){return t.subscribe(l),function(){return t.unsubscribe(l)}}),[t,l]),[a,t.onParameterValueChanged,t.onHandleUpload]};n(448);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=function(e){switch(e){case"flex-start":return"left";case"flex-end":return"right";case"center":return"center";default:return null}},lt=/^rgba\((\d+),(\d+),(\d+),(\d*(?:\.\d+)?)\)$/i,st=function(e){var t=e.parameter,n=rt(t),r=h()(n,2),a=r[0],l=r[1],s=Object(i.useState)(),c=h()(s,2),u=c[0],p=c[1],f=Object(i.useRef)(a);Object(i.useEffect)((function(){f.current=a}),[a]);var d,m,y=Object(i.useCallback)((function(e){l(t,it(it({},f.current),{},{fontFamily:e.target.value}),!0)}),[]),g=Object(i.useCallback)((function(e){p(e.target.value)}),[]),v=Object(i.useCallback)((function(e){var n=e.target.value;n.match(/[0-9]+(pt|px|em)/)||(n=n.replace(/^[0-9]\./g,"")+"pt"),l(t,it(it({},f.current),{},{fontSize:n}),!0),p(null)}),[]),w=Object(i.useCallback)((function(e){"Enter"==e.key&&(e.preventDefault(),e.target.blur())}),[]),x=Object(i.useCallback)((function(e){var n=e.target.closest(".font-size").querySelector("input").value,r=e.clientY,a=parseInt(n);if(!isNaN(a)){var i=n,o=function(e){var n=r-e.clientY,o=Math.max(1,a+n);i=o.toString()+"px",l(t,it(it({},f.current),{},{fontSize:i}),!1)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(n){l(t,it(it({},f.current),{},{fontSize:i}),!0),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)}))}}),[]),S=Object(i.useCallback)((function(e){l(t,it(it({},f.current),{},{color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")}),!1)}),[]),O=Object(i.useCallback)((function(e){l(t,it(it({},f.current),{},{color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")}),!0)}),[]),E=Object(i.useCallback)((function(e,n){l(t,it(it({},f.current),{},"justifyContent"==e?{justifyContent:n,textAlign:ot(n)}:b()({},e,n)),!0)}),[]);return o.a.createElement("div",{className:"font-style-editor"},o.a.createElement(X.ControlGroup,{fill:!0},o.a.createElement(X.HTMLSelect,{value:a.fontFamily||"",onChange:y,options:Xe.a.GetFontNames(),className:"font-family",fill:!0}),o.a.createElement(X.InputGroup,{fill:!0,type:"text",value:u||a.fontSize||"",rightElement:o.a.createElement(X.Tag,{minimal:!0,onMouseDown:x},"px"),onChange:g,onBlur:v,onKeyDown:w,className:"font-size"}),o.a.createElement(X.Popover,{boundary:"window",className:"font-color"},o.a.createElement(X.Button,{className:"font-color",style:{backgroundColor:a.color},text:""}),o.a.createElement(Je.SketchPicker,{color:(d=a.color,m=d.match(lt),m?{r:m[1],g:m[2],b:m[3],a:m[4]}:""),onChange:S,onChangeComplete:O}))),o.a.createElement(X.ButtonGroup,{fill:!0,className:"button-row-2"},o.a.createElement(X.Button,{icon:"bold",active:"bold"==a.fontWeight,onClick:function(){return E("fontWeight","bold"==a.fontWeight?"DELETE":"bold")}}),o.a.createElement(X.Button,{icon:"italic",active:"italic"==a.fontStyle,onClick:function(){return E("fontStyle","italic"==a.fontStyle?"DELETE":"italic")}}),o.a.createElement(X.Button,{icon:"underline",active:"underline"==a.textDecoration,onClick:function(){return E("textDecoration","underline"==a.textDecoration?"DELETE":"underline")}}),o.a.createElement(X.Button,{icon:"align-left",active:"flex-start"==a.justifyContent,onClick:function(){return E("justifyContent","flex-start"==a.justifyContent?"DELETE":"flex-start")}}),o.a.createElement(X.Button,{icon:"align-center",active:"center"==a.justifyContent,onClick:function(){return E("justifyContent","center"==a.justifyContent?"DELETE":"center")}}),o.a.createElement(X.Button,{icon:"align-right",active:"flex-end"==a.justifyContent,onClick:function(){return E("justifyContent","flex-end"==a.justifyContent?"DELETE":"flex-end")}})),o.a.createElement(X.ButtonGroup,{fill:!0},o.a.createElement(X.Switch,{checked:"pre-wrap"==a.whiteSpace,label:"Text Wrap",onChange:function(){return E("whiteSpace","pre-wrap"==a.whiteSpace?"pre":"pre-wrap")},className:"text-wrap"}),o.a.createElement(X.Button,{icon:"alignment-top",active:"flex-start"==a.alignItems,onClick:function(){return E("alignItems","flex-start"==a.alignItems?"DELETE":"flex-start")}}),o.a.createElement(X.Button,{icon:"alignment-horizontal-center",active:"center"==a.alignItems,onClick:function(){return E("alignItems","center"==a.alignItems?"DELETE":"center")}}),o.a.createElement(X.Button,{icon:"alignment-bottom",active:"flex-end"==a.alignItems,onClick:function(){return E("alignItems","flex-end"==a.alignItems?"DELETE":"flex-end")}})))},ct=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},ut=function(e){return"#".concat(ct(e.r)).concat(ct(e.g)).concat(ct(e.b)).concat(ct(Math.floor(255*e.a)))},pt=function(e){var t=e.parameter,n=rt(t),r=h()(n,2),a=r[0],l=r[1],s=Object(i.useCallback)((function(e){l(t,ut(e.rgb),!1)}),[]),c=Object(i.useCallback)((function(e){l(t,ut(e.rgb),!0)}),[]);return o.a.createElement(X.Popover,{boundary:"window"},o.a.createElement(X.Button,{style:{backgroundColor:a},text:""}),o.a.createElement(Je.SketchPicker,{color:a,onChange:s,onChangeComplete:c}))},ft=function(e){var t=e.parameter,n=rt(t),r=h()(n,2),a=r[0],l=r[1],s=Object(i.useCallback)((function(e){l(t,e.target.checked,!0)}),[]);return o.a.createElement(X.Switch,{checked:a,onChange:s,label:0!=t.compact?t.displayName:null})},dt=function(e){var t=e.parameter,n=rt(t),r=h()(n,2),a=r[0],l=r[1],s="function"==typeof t.options,c=Object(i.useState)((function(){return s?[]:null})),u=h()(c,2),p=u[0],f=u[1];s&&Promise.resolve(t.options()).then(f);var d=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]);return o.a.createElement(X.HTMLSelect,{value:a,onChange:d,fill:!0,options:p||t.options})},mt=function(e){var t=e.parameter,n=rt(t),r=h()(n,2),a=r[0],l=r[1],s="function"==typeof t.options,c=Object(i.useState)((function(){return s?[]:null})),u=h()(c,2),p=u[0],f=u[1];s&&Promise.resolve(t.options()).then(f);var d=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]),m=p||t.options||[];return o.a.createElement(X.RadioGroup,{selectedValue:a,onChange:d},m.map((function(e){return o.a.createElement(X.Radio,{key:e.value,label:e.label,value:e.value})})))},yt=function(e){var t="function"==typeof e,n=useState((function(){return t?[]:null})),r=h()(n,2),a=r[0],i=r[1];return t&&Promise.resolve(e()).then(i),a||e},ht=function(e){var t=e.parameter,n=rt(t),r=h()(n,2),a=r[0],l=r[1],s=yt(t.options),c=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]);return o.a.createElement(X.ButtonGroup,null,s.map((function(e){return o.a.createElement(X.Button,{text:e.label,key:e.value,active:a==e.value,onClick:function(){return c(e.value)}})})))},gt=function(e){var t=e.parameter,n=rt(t),r=h()(n,2),a=r[0],l=r[1],s=Object(i.useCallback)((function(e){l(t,e,!1)}),[]),c=Object(i.useCallback)((function(e){l(t,e,!0)}),[]);return o.a.createElement(X.Slider,{value:a,onChange:s,onRelease:c,min:t.min||0,max:t.max||100,stepSize:t.step,labelStepSize:t.labelStepSize||(t.max||100)/2})},bt=function(e){var t=e.parameter,n=rt(t),r=h()(n,3),a=r[0],l=r[1],s=r[2],c=Object(i.useState)(),u=h()(c,2),p=u[0],f=u[1],d=Object(i.useCallback)((function(e){f(e.target.value)}),[]),m=Object(i.useCallback)((function(e){f(e.target.value)}),[]),y=Object(i.useCallback)((function(e){l(t,e.target.value,!0),f(null)}),[]),g=Object(i.useCallback)((function(e){var n=document.createElement("input");n.type="file",n.style="display: none",n.accept=t.accept,n.addEventListener("change",(function(e){n.files.length>0&&s(n.files,(function(e){l(t,e,!0)}))})),n.click()}),[t.accept]),b=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),s(e.dataTransfer.files,(function(e){l(t,e,!0)}))}),[]),v=o.a.createElement(X.Button,{icon:"cloud-upload",minimal:!0,onClick:g});return o.a.createElement(X.InputGroup,{value:null!=p?p:a||"",type:"text",onFocus:d,onChange:m,onBlur:y,fill:!0,onDrop:b,dropeffect:"copy",overridedrop:"true",rightElement:v})},vt=function(e){var t,n=e.parameter,r=e.valueOverride,a=rt(n),l=h()(a,2),s=l[0],c=l[1],u=Object(i.useState)(),p=h()(u,2),f=p[0],d=p[1],m=Object(i.useCallback)((function(e){d(e.target.value)}),[]),y=Object(i.useCallback)((function(e){d(e.target.value),n.immediate&&c(n,e.target.value,!1)}),[]),g=Object(i.useCallback)((function(e){c(n,e.target.value,!0),d(null)}),[]);return t=null!=f?f:null!=r?r:null!=s?s:"",o.a.createElement(X.TextArea,{value:t,onFocus:m,onChange:y,onBlur:g,fill:!0,growVertically:!0})},wt=function(e){var t,n,r=e.parameter,a=e.valueOverride,l=rt(r),s=h()(l,2),c=s[0],u=s[1],p=Object(i.useState)(),f=h()(p,2),d=f[0],m=f[1],y=Object(i.useCallback)((function(e){m(e.target.value)}),[]),g=Object(i.useCallback)((function(e){m(e.target.value),r.immediate&&u(r,e.target.value,!1)}),[]),b=Object(i.useCallback)((function(e){m(null);var t=e.target.value;"number"==r.type&&(t=parseFloat(t),isNaN(t))||u(r,t,!0)}),[]),v=Object(i.useCallback)((function(e){var t=e.target.closest(".bp3-input-group").querySelector("input"),n=e.clientY,a=parseFloat(t.value),i=r.step||1,o=function(e){var t=a+(n-e.clientY)*(e.ctrlKey?5:1)*i;return void 0!==r.min&&(t=Math.max(r.min,t)),void 0!==r.max&&(t=Math.min(r.max,t)),t},l=function(e){var t=o(e);m(t),r.immediate&&u(r,t,!1)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",(function e(t){u(r,o(t),!0),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",e)}))}),[]);return r.tag&&(t=o.a.createElement(X.Tag,{minimal:!0,onMouseDown:"number"==r.type?v:null},r.tag)),n=null!=d?d:null!=a?a:null!=c?c:"",o.a.createElement(X.InputGroup,{value:n,type:r.type,min:r.min,max:r.max,onFocus:y,onChange:g,onBlur:b,fill:!0,rightElement:t})};n(450);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot=function(e){var t=e.parameter,n=rt(t),r=h()(n,2),a=r[0],l=r[1],s=Object(i.useState)(),c=h()(s,2),u=c[0],p=c[1],f=Object(i.useCallback)((function(e){var n=e.target,r=e.clientY,a=parseFloat(n.getAttribute("data-value"));!isNaN(a)&&a||(a=0);var i=a||0;n.classList.add("changing");var o=function(e){i=a+(e.clientY-r),e.ctrlKey&&(i=i>0?15*parseInt(i/15)+(i%15>=7.5?15:0):15*parseInt(i/15)-(i%15<=7.5?15:0)),p(i),t.immediate&&l(t,i,!1)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(r){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e),n.classList.remove("changing"),p(null),l(t,i,!0)}))}),[]),d=(null!=u?u:a)||0;return o.a.createElement("div",{className:"angle-input"},o.a.createElement("svg",{className:"widget",onMouseDown:f,"data-value":d,style:{transform:"rotate("+d+"deg)"},version:"1.1",viewBox:"0 0 133.05 133.05",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"m66.524 0a66.524 66.524 0 0 0-66.524 66.524 66.524 66.524 0 0 0 66.524 66.524 66.524 66.524 0 0 0 66.524-66.524 66.524 66.524 0 0 0-66.524-66.524zm-7.1815 13.777v52.747c3e-6 2.5657 1.369 4.9364 3.591 6.2193 2.222 1.2829 4.9595 1.2829 7.1815 0 2.222-1.2829 3.591-3.6535 3.591-6.2193v-52.747a53.295 53.295 0 0 1 46.113 52.747 53.295 53.295 0 0 1-53.295 53.294 53.295 53.295 0 0 1-53.294-53.294 53.295 53.295 0 0 1 46.113-52.747z",style:{paintOrder:"normal"}})),o.a.createElement(wt,{parameter:St(St({},t),{},{type:"number"}),valueOverride:d}))},Et=function(e){var t,n=e.parameter;switch(n.type){case"font":t=o.a.createElement(st,{parameter:n});break;case"color":t=o.a.createElement(pt,{parameter:n});break;case"checkbox":t=o.a.createElement(ft,{parameter:n});break;case"select":t=o.a.createElement(dt,{parameter:n});break;case"radiogroup":t=o.a.createElement(mt,{parameter:n});break;case"buttongroup":t=o.a.createElement(ht,{parameter:n});break;case"slider":t=o.a.createElement(gt,{parameter:n});break;case"assetUrl":t=o.a.createElement(bt,{parameter:n});break;case"textarea":t=o.a.createElement(vt,{parameter:n});break;case"angle":t=o.a.createElement(Ot,{parameter:n});break;case"text":default:t=o.a.createElement(wt,{parameter:n})}var r="checkbox"==n.type&&0!=n.compact?null:n.displayName;return o.a.createElement(X.FormGroup,{key:n.name,label:r,"label-for":n.name,inline:n.inline},t)},kt=function(e){var t=e.parameter,n=t.displayName?o.a.createElement("label",{className:"bp3-label"},t.displayName):null,r=t.items.map((function(e){var t=e.width?{flexShrink:0,flexGrow:0,flexBasis:e.width+"%",width:e.width+"%"}:null;return o.a.createElement("div",{key:e.name,className:"group-item",style:t},o.a.createElement(Et,{parameter:e}))}));return o.a.createElement("div",{className:"group "+(t.className||"")},n,o.a.createElement("div",{className:"group-items"},r))},Ct=function(e){var t,n=e.parameters,r=e.parameterValues,a=e.onParameterValuesChanged,i=e.onHandleUpload,l=e.reportAllValues;return n&&(t=n.map((function(e,t){return"group"==e.type?o.a.createElement(kt,{key:t,parameter:e}):o.a.createElement(Et,{key:t,parameter:e})}))),o.a.createElement(nt,{parameterValues:r,onParameterValuesChanged:a,onHandleUpload:i,reportAllValues:l},o.a.createElement("div",{className:"configuration-form"},t))},jt=(n(452),function(e){var t,n=e.label,r=e.defaultIsOpen,a=e.rightElement,l=e.disabled,s=e.title,c=e.children,u=Object(i.useState)(r),p=h()(u,2),f=p[0],d=p[1];return Object(i.useEffect)((function(){d(r)}),[r]),c&&"function"==typeof c&&(c=f?c():null),t=l?"minus":f?"caret-down":"caret-right",o.a.createElement("div",{className:"collapsible-panel"},o.a.createElement("div",{className:"panel-header",onClick:function(){return d(!f)},title:s},o.a.createElement(X.Icon,{icon:t,iconSize:"16"}),o.a.createElement("label",null,n),a),o.a.createElement(X.Collapse,{isOpen:f},c))}),Nt=/(rgba?\([\. ,0-9]+\)|(?:#[0-9A-Fa-f]{3,8})) (\-?[\.0-9]+)px (\-?[\.0-9]+)px \-?([\.0-9]+)px/,At=/(rgba?\([\. ,0-9]+\)|(?:#[0-9A-Fa-f]{3,8})) (\-?[\.0-9]+)px (\-?[\.0-9]+)px (\-?[\.0-9]+)px(?: (\-?[\.0-9]+)px)?/,Pt=/polygon\(([0-9\.]+)px 0px, calc\(100% - ([0-9\.]+)px\) 0px, 100% ([0-9\.]+)px, 100% calc\(100% - ([0-9\.]+)px\), calc\(100% - ([0-9\.]+)px\) 100%, ([0-9\.]+)px 100%, 0px calc\(100% - ([0-9\.]+)px\), 0px ([0-9\.]+)px, ([0-9\.]+)px 0px\)/,Lt=/blur\(([0-9\.]+)px\)/,Tt=/brightness\(([0-9\.]+)\)/,It=/contrast\(([0-9\.]+)\)/,Dt=/saturate\(([0-9\.]+)\)/,zt=/hue-rotate\(([0-9\.]+)deg\)/,Mt=/invert\(([0-9\.]+)\)/,Ft=/sepia\(([0-9\.]+)\)/,Bt=/perspective\(([0-9\.]+)px\) translate3d\((\-?[0-9\.]+)px, (\-?[0-9\.]+)px, (\-?[0-9\.]+)px\) rotate3d\(1, 0, 0, (\-?[0-9\.]+)deg\) rotate3d\(0, 1, 0, (\-?[0-9\.]+)deg\) rotate\((\-?[0-9\.]+)deg\) scale3d\(([0-9\.]+), ([0-9\.]+), ([0-9\.]+)\)/,Rt={rect:{displayName:"Size & Position",properties:["left","top","height","width"],permanent:!0,parameters:[{type:"group",className:"size-and-position",items:[{name:"left",displayName:"Left",type:"number",width:50,inline:!0,tag:"px"},{name:"top",displayName:"Top",type:"number",width:50,inline:!0,tag:"px"}]},{type:"group",className:"size-and-position",items:[{name:"width",displayName:"Width",type:"number",width:50,inline:!0,tag:"px"},{name:"height",displayName:"Height",type:"number",width:50,inline:!0,tag:"px"}]}],initialConfig:{left:0,top:0,height:400,width:400},extract:function(e){return e.width||e.height?{left:Object(N.e)(e.left),top:Object(N.e)(e.top),width:Object(N.e)(e.width),height:Object(N.e)(e.height)}:null},apply:function(e){var t=e.left,n=e.top,r=e.width,a=e.height,i={};return void 0!==t&&(i.left=t+"px"),void 0!==n&&(i.top=n+"px"),void 0!==r&&(i.width=r+"px"),void 0!==a&&(i.height=a+"px"),i}},font:{displayName:"Font",properties:["fontFamily","fontStyle","fontSize","color","fontWeight","fontSize","textDecoration","justifyContent","alignItems","whiteSpace","textAlign"],permanent:!0,parameters:[{name:"font",displayName:null,type:"font"}],initialConfig:{font:{fontFamily:"Arial",fontSize:"60px",color:"rgba(255,255,255,1)"}},extract:function(e){return{font:{fontFamily:e.fontFamily,fontSize:parseFloat(e.fontSize),color:e.color,fontWeight:e.fontWeight,fontStyle:e.fontStyle,textDecoration:e.textDecoration,justifyContent:e.justifyContent,alignItems:e.alignItems,whiteSpace:e.whiteSpace}}},apply:function(e){return e.font}},letterSpacing:{displayName:"Letter Spacing",properties:["letterSpacing"],parameters:[{name:"amount",type:"slider",displayName:null,min:-100,max:100}],initialConfig:{amount:0},extract:function(e){return e.letterSpacing?{amount:parseFloat(e.letterSpacing)}:null},apply:function(e){var t=e.amount;return{letterSpacing:"".concat(void 0===t?0:t,"px")}}},lineHeight:{displayName:"Line Height",properties:["lineHeight"],parameters:[{name:"amount",type:"slider",displayName:null,min:0,max:200,labelStepSize:50}],initialConfig:{amount:0},extract:function(e){return e.lineHeight?{amount:parseInt(e.lineHeight)}:null},apply:function(e){var t=e.amount;return{lineHeight:"".concat(void 0===t?0:t,"px")}}},textStroke:{displayName:"Text Stroke",properties:["WebkitTextStrokeWidth","WebkitTextStrokeColor"],parameters:[{type:"group",items:[{name:"width",type:"number",tag:"Width",width:85,min:0,step:.1},{name:"color",type:"color",width:15}]}],initialConfig:{width:0,color:"#FFFFFF"},extract:function(e){var t=e.WebkitTextStrokeWidth||e["-webkit-text-stroke-width"],n=e.WebkitTextStrokeColor||e["-webkit-text-stroke-color"];return t||n?{width:parseFloat(t),color:n}:null},apply:function(e){var t=e.width;return{WebkitTextStrokeWidth:t?t+"px":null,WebkitTextStrokeColor:e.color}}},textShadow:{displayName:"Text Shadow",properties:["textShadow"],parameters:[{type:"group",items:[{name:"offsetx",type:"number",tag:"X",width:25},{name:"offsety",type:"number",tag:"Y",width:25},{name:"size",type:"number",tag:"Size",width:35,min:0},{name:"color",type:"color",width:15}]}],initialConfig:{offsetx:0,offsety:0,size:5,color:"#000000"},extract:function(e){var t=e.textShadow;if(!t)return null;var n=t.match(Nt);return n?{color:n[1],offsetx:parseFloat(n[2]),offsety:parseFloat(n[3]),size:parseFloat(n[4])}:null},apply:function(e){var t=e.offsetx,n=void 0===t?0:t,r=e.offsety,a=void 0===r?0:r,i=e.size,o=void 0===i?5:i,l=e.color;return{textShadow:"".concat(void 0===l?"#000000":l," ").concat(n,"px ").concat(a,"px ").concat(o,"px")}}},backgroundColor:{displayName:"Background Color",properties:["backgroundColor"],parameters:[{name:"color",type:"color",displayName:null}],initialConfig:{color:"#FFFFFF"},extract:function(e){return e.backgroundColor?{color:e.backgroundColor}:null},apply:function(e){var t=e.color;return{backgroundColor:void 0===t?"#FFFFFF":t}}},opacity:{displayName:"Opacity",properties:["opacity"],parameters:[{name:"amount",type:"slider",min:0,max:100}],initialConfig:{amount:100},extract:function(e){return void 0===e.opacity?null:{amount:100*parseFloat(e.opacity)}},apply:function(e){var t=e.amount;return{opacity:"".concat((void 0===t?100:t)/100)}}},border:{displayName:"Border",properties:["borderWidth","borderStyle","borderColor","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],parameters:[{type:"group",displayName:"Style",items:[{name:"width",type:"number",tag:"Width",width:55,min:0},{name:"style",type:"select",width:30,options:[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"}]},{name:"color",type:"color",width:15}]},{type:"group",displayName:"Corner Radius",items:[{name:"tl",type:"number",width:25,tag:"TL",min:0},{name:"tr",type:"number",width:25,tag:"TR",min:0},{name:"br",type:"number",width:25,tag:"BR",min:0},{name:"bl",type:"number",width:25,tag:"BL",min:0}]}],initialConfig:{width:0,style:"solid",color:"#FFFFFF",tl:0,tr:0,br:0,bl:0},extract:function(e){return e.borderStyle?{width:parseFloat(e.borderWidth),style:e.borderStyle,color:e.borderColor,tl:parseFloat(e.borderTopLeftRadius),tr:parseFloat(e.borderTopRightRadius),br:parseFloat(e.borderBottomRightRadius),bl:parseFloat(e.borderBottomLeftRadius)}:null},apply:function(e){var t=e.width,n=e.style,r=e.color,a=e.tl,i=e.tr,o=e.br,l=e.bl,s={};return s.borderWidth=null!=t?t+"px":null,s.borderStyle=null!=n?n:null,s.borderColor=null!=r?r:null,s.borderTopLeftRadius=null!=a?a+"px":null,s.borderTopRightRadius=null!=i?i+"px":null,s.borderBottomRightRadius=null!=o?o+"px":null,s.borderBottomLeftRadius=null!=l?l+"px":null,s}},shadow:{displayName:"Shadow",properties:["boxShadow"],parameters:[{type:"group",items:[{name:"offsetx",type:"number",tag:"X",width:25},{name:"offsety",type:"number",tag:"Y",width:25},{name:"size",type:"number",tag:"Size",width:35,min:0,step:.5},{name:"color",type:"color",width:15}]}],initialConfig:{color:"#000000FF",offsetx:0,offsety:0,size:0},extract:function(e){if(!e.boxShadow)return null;var t=e.boxShadow.match(At);return t?{color:t[1],offsetx:parseFloat(t[2]),offsety:parseFloat(t[3]),size:parseFloat(t[4])}:null},apply:function(e){var t=e.offsetx,n=void 0===t?0:t,r=e.offsety,a=void 0===r?0:r,i=e.size,o=void 0===i?0:i,l=e.color;return{boxShadow:"".concat(void 0===l?"#000000":l," ").concat(n,"px ").concat(a,"px ").concat(o,"px")}}},cornerClip:{displayName:"Corner Clip",properties:["clipPath"],parameters:[{type:"group",items:[{name:"tl",type:"number",width:25,tag:"TL",min:0},{name:"tr",type:"number",width:25,tag:"TR",min:0},{name:"br",type:"number",width:25,tag:"BR",min:0},{name:"bl",type:"number",width:25,tag:"BL",min:0}]}],initialConfig:{tl:0,tr:0,br:0,bl:0},extract:function(e){var t=e.clipPath;if(!t)return null;var n=t.match(Pt);return n?{tl:parseFloat(n[1]),tr:parseFloat(n[2]),br:parseFloat(n[4]),bl:parseFloat(n[6])}:null},apply:function(e){var t=e.tl,n=void 0===t?0:t,r=e.tr,a=void 0===r?0:r,i=e.br,o=void 0===i?0:i,l=e.bl,s=void 0===l?0:l;return{clipPath:"polygon(".concat(n,"px 0px, calc(100% - ").concat(a,"px) 0px, 100% ").concat(a,"px, 100% calc(100% - ").concat(o,"px), calc(100% - ").concat(o,"px) 100%, ").concat(s,"px 100%, 0px calc(100% - ").concat(s,"px), 0px ").concat(n,"px, ").concat(n,"px 0px)")}}},padding:{displayName:"Padding",properties:["paddingTop","paddingRight","paddingBottom","paddingLeft"],parameters:[{type:"group",items:[{name:"t",type:"number",width:25,tag:"T",min:0},{name:"r",type:"number",width:25,tag:"R",min:0},{name:"b",type:"number",width:25,tag:"B",min:0},{name:"l",type:"number",width:25,tag:"L",min:0}]}],initialConfig:{t:0,r:0,b:0,l:0},extract:function(e){return e.paddingTop||e.paddingRight||e.paddingBottom||e.paddingLeft?{t:parseFloat(e.paddingTop),r:parseFloat(e.paddingRight),b:parseFloat(e.paddingBottom),l:parseFloat(e.paddingLeft)}:null},apply:function(e){var t=e.t,n=e.r,r=e.b,a=e.l;return{paddingTop:null!=t?t+"px":null,paddingRight:null!=n?n+"px":null,paddingBottom:null!=r?r+"px":null,paddingLeft:null!=a?a+"px":null}}},filters:{displayName:"Filters",properties:["filter"],parameters:[{name:"blur",displayName:"Blur",type:"slider",inline:!0},{name:"brightness",displayName:"Brightness",type:"slider",inline:!0},{name:"contrast",displayName:"Contrast",type:"slider",inline:!0},{name:"saturation",displayName:"Saturation",type:"slider",inline:!0},{name:"hue",displayName:"Hue",type:"slider",inline:!0},{name:"invert",displayName:"Invert",type:"slider",inline:!0},{name:"sepia",displayName:"Sepia",type:"slider",inline:!0}],initialConfig:{blur:0,brightness:50,contrast:50,saturation:50,hue:0,invert:0,sepia:0},extract:function(e){var t=e.filter;if(!t)return null;var n=t.match(Lt),r=t.match(Tt),a=t.match(It),i=t.match(Dt),o=t.match(zt),l=t.match(Mt),s=t.match(Ft);return{blur:n?parseFloat(n[1]):0,brightness:r?50*parseFloat(r[1]):50,contrast:a?50*parseFloat(a[1]):50,saturation:i?50*parseFloat(i[1]):50,hue:o?parseFloat(o[1])/3.6:0,invert:l?parseFloat(l[1]):0,sepia:s?parseFloat(s[1]):0}},apply:function(e){var t=e.blur,n=void 0===t?0:t,r=e.brightness,a=void 0===r?50:r,i=e.contrast,o=void 0===i?50:i,l=e.saturation,s=void 0===l?50:l,c=e.hue,u=void 0===c?0:c,p=e.invert,f=void 0===p?0:p,d=e.sepia,m=void 0===d?0:d,y="";if(0!=n&&(y+=" blur(".concat(n,"px)")),50!=a&&(y+=" brightness(".concat(a/50,")")),50!=o&&(y+=" contrast(".concat(o/50,")")),50!=s&&(y+=" saturate(".concat(s/50,")")),0!=u&&(y+=" hue-rotate(".concat(3.6*u,"deg)")),0!=f&&(y+=" invert(".concat(f,")")),0!=m&&(y+=" sepia(".concat(m,")")),y)return{filter:y}}},autoFit:{displayName:"Auto Fit",properties:["objectFit","objectPosition"],parameters:[{type:"group",items:[{name:"fit",type:"select",defaultValue:"fill",width:30,options:[{label:"Fill",value:"fill"},{label:"Contain",value:"contain"},{label:"Cover",value:"cover"}]},{name:"position",tag:"Pos.",type:"text",width:70}]}],initialConfig:{fit:"fill",position:"center center"},extract:function(e){return{fit:e.objectFit,position:e.objectPosition}},apply:function(e){var t=e.fit,n=void 0===t?"fill":t,r=e.position;return{objectFit:n,objectPosition:void 0===r?"center center":r}}},"3dtransform":{displayName:"3D Transform",properties:["transform"],parameters:[{type:"group",displayName:"Transform",items:[{name:"tx",type:"number",width:33.333,tag:"X"},{name:"ty",type:"number",width:33.333,tag:"Y"},{name:"tz",type:"number",width:33.333,tag:"Z"}]},{type:"group",displayName:"Rotate",items:[{name:"rx",type:"angle",width:33.333,tag:"X °"},{name:"ry",type:"angle",width:33.333,tag:"Y °"},{name:"rz",type:"angle",width:33.333,tag:"Z °"}]},{type:"group",displayName:"Scale",items:[{name:"sx",type:"number",width:33.333,tag:"X",min:0,step:.05},{name:"sy",type:"number",width:33.333,tag:"Y",min:0,step:.05},{name:"sz",type:"number",width:33.333,tag:"Z",min:0,step:.05}]},{name:"perspective",displayName:"Perspective",type:"number",defaultValue:"1000",inline:!0,tag:"px",min:1}],initialConfig:{perspective:1e3,tx:0,ty:0,tz:0,rx:0,ry:0,rz:0,sx:1,sy:1,sz:1},extract:function(e){var t=e.transform;if(!t)return null;var n=t.match(Bt);return n?{perspective:parseFloat(n[1]),tx:parseFloat(n[2]),ty:parseFloat(n[3]),tz:parseFloat(n[4]),rx:parseFloat(n[5]),ry:parseFloat(n[6]),rz:parseFloat(n[7]),sx:parseFloat(n[8]),sy:parseFloat(n[9]),sz:parseFloat(n[10])}:null},apply:function(e){var t=e.perspective,n=e.tx,r=void 0===n?0:n,a=e.ty,i=void 0===a?0:a,o=e.tz,l=void 0===o?0:o,s=e.rx,c=void 0===s?0:s,u=e.ry,p=void 0===u?0:u,f=e.rz,d=void 0===f?0:f,m=e.sx,y=void 0===m?1:m,h=e.sy,g=void 0===h?1:h,b=e.sz,v=void 0===b?1:b;return{transform:"perspective(".concat(t,"px) translate3d(").concat(r,"px, ").concat(i,"px, ").concat(l,"px) rotate3d(1, 0, 0, ").concat(c,"deg) rotate3d(0, 1, 0, ").concat(p,"deg) rotate(").concat(d,"deg) scale3d(").concat(y,", ").concat(g,", ").concat(v,")")}}}};n(454);function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vt=[{type:"group",items:[{name:"delay",displayName:"Delay",type:"number",tag:"ms",width:25,step:10,immediate:!1},{name:"duration",displayName:"Duration",type:"number",tag:"ms",width:25,step:10,min:0,immediate:!1},{name:"easing",displayName:"Easing",type:"select",width:50,options:[{label:"Linear",value:"linear"},{label:"Ease",value:"ease"},{label:"Ease In",value:"ease-in"},{label:"Ease Out",value:"ease-out"},{label:"Ease In/Out",value:"ease-in-out"}]}]}],Yt=function(e){var t,n=e.styleName,r=e.style,a=e.onStyleChanged,l=Rt[n],s=[],c=Gt(l.properties);try{for(c.s();!(t=c.n()).done;){var u=t.value;s.push(r[u])}}catch(e){c.e(e)}finally{c.f()}var p,f=Object(i.useMemo)((function(){var e=Object.keys(r).some((function(e){return l.properties.includes(e)}));return{hasData:e,parameterValues:e?l.extract(r):l.initialConfig}}),s),d=f.hasData,m=f.parameterValues,y=Object(i.useCallback)((function(e,t){a(l.apply(Kt(Kt({},m),e)),t)}),[d,m]),h=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t,n={},r=Gt(l.properties);try{for(r.s();!(t=r.n()).done;){n[t.value]="DELETE"}}catch(e){r.e(e)}finally{r.f()}a(n,!0)}),[l]);return!l.permanent&&d&&(p=o.a.createElement(X.Button,{icon:"trash",minimal:!0,onClick:h})),o.a.createElement(jt,{label:l.displayName,defaultIsOpen:d,rightElement:p},(function(){return o.a.createElement(Ct,{parameters:l.parameters,parameterValues:m,onParameterValuesChanged:y,reportAllValues:!1})}))},Wt=function(e){var t=e.element,n=e.config,r=e.onHandleUpload,a=e.onChanged;return o.a.createElement("div",{className:"element-config-editor"},o.a.createElement(Ct,{parameters:t.manifest.parameters,parameterValues:n,onParameterValuesChanged:a,onHandleUpload:r,reportAllValues:!0}))},Zt=function(e){var t=e.allowedStyles,n=e.style,r=e.onHandleUpload,a=e.onStyleChanged;e.onEffectChanged;return t.map((function(e){return o.a.createElement(Yt,{key:e,styleName:e,style:n,onStyleChanged:a,onHandleUpload:r})}))},_t=function(e){var t=e.transitionName,n=e.transition,r=e.transitionConfig,a=e.onUpdate,l=Object(i.useCallback)((function(e){a(t,e)}),[t]),s=Object(i.useMemo)((function(){return[].concat(f()(n.parameters),Vt)}),[n]);return o.a.createElement("div",{className:"transition-editor"},o.a.createElement("h5",{className:"bp3-heading"},n.displayName),o.a.createElement("div",{className:"form"},o.a.createElement(Ct,{parameters:s,parameterValues:r,onParameterValuesChanged:l,reportAllValues:!1})))},Jt=function(e){var t,n=e.transitionName,r=e.transition,a=e.transitionConfig,i=e.isEditing,l=e.onEdit,s=e.onAdd,c=e.onDelete,u=e.onUpdate;a&&(t=o.a.createElement(X.Button,{small:!0,icon:"cog",intent:"primary",onClick:function(){return l(i?null:r)},active:i}),i&&(t=o.a.createElement(X.Popover,{position:"right",boundary:"window",isOpen:!0,onInteraction:function(e){return l(null)}},t,o.a.createElement(_t,{transitionName:n,transition:r,transitionConfig:a,onUpdate:u}))));var p=a?"primary":null;return o.a.createElement("div",{className:"transition-item"},o.a.createElement(X.ButtonGroup,{fill:!0},o.a.createElement(X.Button,{small:!0,icon:a?"trash":"plus",intent:p,onClick:function(){return a?c(n):s(n)}}),o.a.createElement(X.Button,{fill:!0,small:!0,alignText:"left",text:r.displayName,intent:p,active:i}),t))},Xt=function(e){var t=e.phase,n=e.transitionConfigs,r=e.transitionBeingEdited,a=e.animationContext,l=e.onEdit,s=e.onAdd,c=e.onDelete,u=e.onUpdate,p=e.onTogglePlaying,f=Object(i.useCallback)((function(e,n){u(e,n),p(t)}),[t]),d=Object(i.useCallback)((function(){p(t)}),[t]),m=Object.entries(he.a).reduce((function(e,a){var i=h()(a,2),u=i[0],p=i[1];if(p.phase==t.key){var d=n[u],m=r==p;e.push(o.a.createElement(Jt,{key:u,transitionName:u,transition:p,transitionConfig:d,isEditing:m,onEdit:l,onAdd:s,onDelete:c,onUpdate:f}))}return e}),[]),y=a.state==P.a.PLAYING&&a.phase==t;return o.a.createElement("div",{className:"phase"},o.a.createElement("div",{className:"header"},t.displayName,o.a.createElement(X.Button,{minimal:!0,small:!0,icon:y?"pause":"play",intent:y?"warning":"success",onClick:d})),o.a.createElement("div",{className:"item-list"},m))},$t=function(e){var t=e.transitionConfigs,n=e.animationContext,r=e.dispatch,a=[A.a.ENTRY,A.a.EXIT],l=Object(i.useState)(),s=h()(l,2),c=s[0],u=s[1],p=Object(i.useCallback)((function(e){r("AddTransition",e),u(he.a[e])}),[]),f=Object(i.useCallback)((function(e){r("DeleteTransition",e)}),[]),d=Object(i.useCallback)((function(e,t){r("UpdateTransition",{transitionName:e,transitionConfig:t})}),[]),m=Object(i.useCallback)((function(e,t){r("ToggleAnimationPlaying",{phase:e,duration:t})}),[]);return o.a.createElement("div",{className:"transitions-panel"},o.a.createElement("div",{className:"phases-wrapper"},a.map((function(e){return o.a.createElement(Xt,{key:e.key,phase:e,transitionConfigs:t,transitionBeingEdited:c,animationContext:n,onEdit:u,onAdd:p,onDelete:f,onUpdate:d,onTogglePlaying:m})}))))},qt=function(){var e,t=Ie((function(e){return e.selectedPropertyTab}),(function(e){return e.selectedLayerIds}),(function(e){return e.animationContext})),n=h()(t,2),r=h()(n[0],3),a=r[0],l=r[1],s=r[2],c=n[1],u=Object(i.useContext)(Me),p=Object(i.useCallback)((function(e){c("SelectPropertyTab",e)}),[]),f=Object(i.useCallback)((function(e,t){c("HandleFileUpload",{files:e,onComplete:t,autoCreateLayers:!1})}),[]),d=Object(i.useCallback)((function(e,t){c("UpdateSelectedLayersConfig",{config:e},t)}),[]),m=Object(i.useCallback)((function(e,t,n){c("UpdateSelectedLayersEffect",{effectName:e,config:t},n)}),[]),y=Object(i.useCallback)((function(e,t){c("UpdateSelectionStyle",e,t)}),[]);if(!u)return o.a.createElement("div",{className:"no-content"},"No layers are selected");var g,b,v="Config";if(u.mergedElement&&u.mergedElement.element.manifest.parameters&&u.mergedElement.element.manifest.parameters.length>0&&(e=o.a.createElement(Wt,{element:u.mergedElement.element,config:u.mergedElement.config,onHandleUpload:f,onChanged:d}),v=u.mergedElement.element.manifest.name),l.length>0&&(u.allowedStyles&&u.allowedStyles.length>0&&(g=o.a.createElement(Zt,{allowedStyles:u.allowedStyles,style:u.mergedStyle,onHandleUpload:f,onStyleChanged:y,onEffectChanged:m})),b=o.a.createElement($t,{transitionConfigs:u.mergedTransitions,animationContext:s,onHandleUpload:f,dispatch:c})),!e&&!g&&!b)return o.a.createElement("div",{className:"no-content"},"No layers are selected");var w=a||"element";return"element"!=w||e||(w="style"),"style"!=w||g||(w="transitions"),o.a.createElement(X.Tabs,{id:"property-tabs",onChange:p,selectedTabId:w,animate:!1,className:"normal-tabs"},o.a.createElement(X.Tab,{id:"element",panel:e,disabled:!e},o.a.createElement("div",{className:"title",title:e?null:"Not Available"},v)),o.a.createElement(X.Tab,{id:"style",panel:g,disabled:!g},o.a.createElement("div",{className:"title",title:g?null:"Not Available"},"Style")),o.a.createElement(X.Tab,{id:"transitions",panel:b,disabled:!b},o.a.createElement("div",{className:"title",title:b?null:"Not Available"},"Transitions")))};function Qt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=[{value:1,label:"100%"},{value:.666666667,label:"67%"},{value:.5,label:"50%"},{value:.25,label:"25%"}],an=function(e){var t=e.zoomSelection,n=e.onZoomSelectionChanged,r=s()(e,["zoomSelection","onZoomSelectionChanged"]),a=Object(i.useCallback)((function(e){n&&("auto"==e.target.value?n(nn(nn({},t),{},{isAuto:!0})):n(nn(nn({},t),{},{zoom:parseFloat(e.target.value),isAuto:!1})))}),[t]),l=[];t.isAuto||(-1!=rn.findIndex((function(e){return e.value==t.zoom}))||l.push({label:"".concat(Math.round(100*t.zoom),"%"),value:t.zoom}));l.push({label:"Auto (".concat(Math.round(100*t.autoFitZoom),"%)"),value:"auto"});var c,u=Qt(rn);try{for(u.s();!(c=u.n()).done;){var p=c.value;l.push(p)}}catch(e){u.e(e)}finally{u.f()}return o.a.createElement(X.HTMLSelect,I()({},r,{onChange:a,options:l,value:t.isAuto?"auto":t.zoom}))},on=(n(456),function(e){We()(e);var t=Ie((function(e){return e.stageZoomSelection})),n=h()(t,2),r=h()(n[0],1)[0],a=n[1],l=Object(i.useCallback)((function(e){a("SetStageZoomSelection",e)}),[]),s=Object(i.useCallback)((function(){a("ResetStageZoom")}),[]);return o.a.createElement("div",{className:"main-toolbar"},o.a.createElement(X.ButtonGroup,null,o.a.createElement(X.Tooltip,{content:"Reset Zoom"},o.a.createElement(X.Button,{icon:"search",onClick:s})),o.a.createElement("div",{className:"bp3-button",style:{padding:0}},o.a.createElement(an,{minimal:!0,large:!1,zoomSelection:r,onZoomSelectionChanged:l}))))}),ln=(n(458),function(e){var t=e.edge,n=e.defaultSize,r=e.canResize,a=void 0===r||r,l=e.minimum,c=e.maximum,u=e.onSizeChanged,p=s()(e,["edge","defaultSize","canResize","minimum","maximum","onSizeChanged"]),f=Object(i.useState)(),d=h()(f,2),m=d[0],y=d[1],g="top"==t||"bottom"==t,b=Object(i.useCallback)((function(e){if(a){var r=g?e.clientY:e.clientX,i=n,o=function(e){var a=n+(g?"top"==t?r-e.clientY:e.clientY-r:"right"==t?e.clientX-r:r-e.clientX);(void 0===l||a>l)&&(void 0===c||a<=c)&&(i=a,y(a))};window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(t){u(i),y(null),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)}))}}),[n,a]),v=o.a.createElement("div",{className:"resize-bar "+t+(a?" can-resize":"")},o.a.createElement("div",{className:"inner",onMouseDown:b})),w=m||n;switch(t){case"top":return o.a.createElement(o.a.Fragment,null,v,o.a.createElement("div",{className:"resizable",style:{height:w+"px"}},o.a.createElement("div",p)));case"bottom":return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"resizable",style:{height:w+"px"}},o.a.createElement("div",p)),v);case"left":return o.a.createElement(o.a.Fragment,null,v,o.a.createElement("div",{className:"resizable",style:{width:w+"px"}},o.a.createElement("div",p)));case"right":return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"resizable",style:{width:w+"px"}},o.a.createElement("div",p)),v);default:return null}}),sn=function(e){var t=e.value,n=e.onConfirm,r=e.onCancel,a=Object(i.useState)(t),l=h()(a,2),s=l[0],c=l[1],u=Object(i.useCallback)((function(e){e.target&&c(e.target.value)}),[]),p=Object(i.useCallback)((function(e){e.stopPropagation(),"Enter"!=e.key?"Escape"!=e.key||r():n(e.target.value)}),[]),f=Object(i.useCallback)((function(e){n(e.target.value)}),[]),d=Object(i.useCallback)((function(e){e.target.select()}),[]),m=Object(i.useCallback)((function(e){console.log("got drag start"),e.stopPropagation(),e.preventDefault()}),[]);return o.a.createElement(X.InputGroup,{value:s,onChange:u,onKeyDown:p,onBlur:f,onFocus:d,onDragStart:m,autoFocus:!0})},cn=function(e){var t,n=e.value,r=e.onChange,a=(s()(e,["value","onChange"]),Object(i.useState)(!1)),l=h()(a,2),c=l[0],u=l[1],p=Object(i.useCallback)((function(){u(!0)}),[]),f=Object(i.useCallback)((function(e){r(e),u(!1)}),[]),d=Object(i.useCallback)((function(){u(!1)}),[]);return t=c?o.a.createElement(sn,{value:n,onConfirm:f,onCancel:d}):n,o.a.createElement("span",{className:"label-editor",onDoubleClick:p},t)},un="openoverlay/layer",pn="openoverlay/script",fn=function(e,t){return!(!e.dataTransfer.types||0==e.dataTransfer.types.length)&&e.dataTransfer.types.includes(t)},dn=(n(460),function(e){var t=e.index,n=e.dragging,r=e.onDragStart,a=e.child,l=Object(i.useCallback)((function(e){r?r(e,a.key,t):e.preventDefault()}),[r,a.key,t]);return o.a.createElement("div",{className:"item","data-id":a.key,"data-index":t,dragging:n,draggable:!0,onDragStart:l},a)}),mn=function(e){var t=e.itemType,n=e.onReorderItem,r=e.children,a=Object(i.useState)(null),l=h()(a,2),s=l[0],c=l[1],u=Object(i.useState)(null),p=h()(u,2),f=p[0],d=p[1],m=Object(i.useCallback)((function(e){window.removeEventListener("dragend",m),c(null),d(null)}),[]),y=Object(i.useCallback)((function(e,n,r){"INPUT"!=e.target.name?(window.addEventListener("dragend",m),e.dataTransfer.setData(t,n),c(r),d(n)):e.preventDefault()}),[]),g=Object(i.useCallback)((function(e){if(fn(e,t))if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",e.target.matches(".reorderable-list"))s!=r.length&&c(r.length);else{var n=e.target.closest(".item");if(n){var a=parseInt(n.getAttribute("data-index"));if("true"==n.getAttribute("dragging"))return;var i=n.getBoundingClientRect(),o=e.nativeEvent.clientY>i.top+i.height/2?a+1:a;s!=o&&c(o)}}}),[s]),b=Object(i.useCallback)((function(e){if(e.preventDefault(),e.stopPropagation(),fn(e,t)){var r=e.dataTransfer.getData(t);n(r,s),c(null),d(null)}}),[s]),v=null;if(null!=f){var w=r.find((function(e){return e.key==f}));v=o.a.createElement(dn,{key:f,index:s,child:w,dragging:"true"})}var x=r.reduce((function(e,t,n){return n==s&&e.push(v),t.key!=f&&e.push(o.a.createElement(dn,{key:t.key,index:n,child:t,onDragStart:y})),n==r.length-1&&s>n&&e.push(v),e}),[]);return o.a.createElement("div",{className:"reorderable-list",onDragOver:g,onDrop:b},x)},yn=function(e){var t=Ie();return o.a.createElement(X.Popover,{position:Ze.a.RIGHT_BOTTOM,interactionKind:X.PopoverInteractionKind.CLICK,boundary:"window"},e.children,o.a.createElement(X.Menu,null,Object.entries(j.a).map((function(n){return o.a.createElement(X.MenuItem,{key:n[0],text:n[0],popoverProps:{openOnTargetFocus:!1}},n[1].map((function(n){var r=j.b[n];return o.a.createElement(X.MenuItem,{key:n,text:r.displayName,onClick:function(r){return t("CreateLayerEffect",{id:e.layer.id,effectName:n})}})})))}))))},hn=(n(462),function(e){var t=e.layer,n=e.effect,r=e.effectName,a=e.config,l=e.dispatch,s=Object(i.useCallback)((function(){l("DeleteLayerEffect",{id:t.id,effectName:r})}),[]),c=Object(i.useCallback)((function(){l("UpdateLayerEffect",{id:t.id,effectName:r,config:{hidden:!a.hidden}})}),[t.id,r,a.hidden]);Object(i.useCallback)((function(){l("DeleteLayerEffect",{id:t.id,effectName:r})}),[t.id,r]);return o.a.createElement("div",{className:"effect"},o.a.createElement(X.Button,{icon:"eye-open",minimal:!0,intent:a.hidden?"danger":"success",title:"Show/Hide",onClick:c}),o.a.createElement("div",{className:"label",style:{opacity:a.hidden?.5:1}},n.displayName),o.a.createElement(X.Button,{icon:"trash",minimal:!0,title:"Delete",onClick:s}))}),gn=function(e){var t,n,r=e.layer,a=e.element,l=e.isSelected,s=e.dispatch,c=Object(i.useCallback)((function(e){s("UpdateLayers",{layers:[{id:r.id,label:e}]})}),[r.id]),u=Object(i.useCallback)((function(){s("UpdateLayers",{layers:[{id:r.id,hidden:!r.hidden}]})}),[r.id,r.hidden]),p=Object(i.useCallback)((function(e){s("SelectLayer",{id:r.id,append:e.ctrlKey||e.metaKey,selectBetween:e.shiftKey})}),[r.id]);if(0==a.manifest.effectsAllowed||a.manifest.nonVisual||(t=o.a.createElement(yn,{layer:r},o.a.createElement(X.Button,{icon:"plus",minimal:!0,title:"Add Effect"}))),0!=a.manifest.effectsAllowed&&r.effects){n=[];for(var f=0,d=Object.entries(r.effects);f<d.length;f++){var m=h()(d[f],2),y=m[0],g=m[1],b=j.b[y];n.push(o.a.createElement(hn,{key:y,layer:r,effectName:y,effect:b,config:g,dispatch:s}))}}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"layer-header",isselected:l?"true":null,style:r.hidden?{opacity:.5}:null},o.a.createElement(X.Button,{icon:"eye-open",minimal:!0,intent:r.hidden?"danger":"success",title:"Toggle Visibility",onClick:u}),o.a.createElement("div",{className:"label",onClick:p},o.a.createElement(cn,{value:r.label,onChange:c,selectAllOnFocus:!0})),t,o.a.createElement(X.Button,{icon:"trash",title:"Delete",minimal:!0,onClick:function(){return s("DeleteLayers",[r.id])}})),n)},bn=function(){var e=Ie((function(e){return e.elements}),(function(e){return e.overlay.layers}),(function(e){return e.selectedLayerIds}),(function(e){return e.editors})),t=h()(e,2),n=h()(t[0],4),r=n[0],a=n[1],l=n[2],s=n[3],c=t[1],u=Object(i.useCallback)((function(e){console.log({createlayer:e}),c("CreateLayers",[{elementName:e}])}),[]),p=Object(i.useCallback)((function(e,t){c("ReorderLayer",{id:parseInt(e),newIndex:t})}),[]);return o.a.createElement("div",{className:"main-list layer-list"},o.a.createElement("div",{className:"actions"},o.a.createElement(X.Button,{text:"Animation",small:!0,minimal:!0,icon:"walk",active:s.some((function(e){return"animation"===e.key})),onClick:function(){return c("ToggleEditor",{type:"animation"})}}),o.a.createElement("div",{className:"right"},o.a.createElement(X.Popover,{position:"right-top"},o.a.createElement(X.Button,{small:!0,title:"New Layer",icon:"plus",intent:"primary",rightIcon:"caret-right"}),o.a.createElement(X.Menu,null,Object.entries(r).map((function(e){var t=h()(e,2),n=t[0],r=t[1];return o.a.createElement(X.MenuItem,{key:n,icon:r.manifest.icon,text:r.manifest.name,onClick:function(){return u(n)}})})))))),o.a.createElement("div",{className:"list-items"},o.a.createElement(mn,{itemType:un,onReorderItem:p},(a||[]).map((function(e){return o.a.createElement(gn,{key:e.id,layer:e,element:r[e.elementName],isSelected:l.includes(e.id),dispatch:c})})))))},vn=n(20);n(464);function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sn=function(e,t,n){if(e){var r=e.getBoundingClientRect();return r.height<=0||r.width<=0?1:r.height/r.width<t/n?r.height/t:r.width/n}},On=function(e){var t=Ie((function(e){return e.elements}),(function(e){return e.overlay}),(function(e){return e.animationContext}),(function(e){return e.isExecutingScript}),(function(e){return e.stageTool}),(function(e){return e.stageTransform}),(function(e){return e.preferences})),n=h()(t,2),r=h()(n[0],7),a=r[0],l=r[1],s=r[2],c=r[3],u=r[4],p=r[5],f=r[6],d=n[1],m=Object(i.useRef)();Object(i.useEffect)((function(){var e=m.current,t=function(t){d("SetStageAutoFitZoom",Sn(e,p.height,p.width))};return d("SetStageAutoFitZoom",Sn(e,p.height,p.width)),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[f]);var y=Object(i.useCallback)((function(e,t){if(2==(2&e.buttons)){var n=e.clientX,r=e.clientY,a=t.panning,i=function(e){var i=[a[0]+(e.clientX-n)/t.zoom,a[1]+(e.clientY-r)/t.zoom];d("SetStageTransform",xn(xn({},t),{},{panning:i}))};document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",(function e(t){document.body.removeEventListener("mousemove",i),document.body.removeEventListener("mouseup",e)}))}}),[]),g=Object(i.useCallback)((function(e){y(e,p)}),[p]),b=Object(i.useCallback)((function(e){e.preventDefault()}),[]),v=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"}),[]),w=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),d("HandleFileUpload",{files:e.dataTransfer.files,autoCreateLayers:!0})}),[]),x=Object(i.useCallback)((function(e){e.nativeEvent.intercepted||d("StepZoom",-e.deltaY/100)}),[]),S=Object(i.useCallback)((function(e){d("SetOverlayDomElement",e)}),[]),O=Object(i.useCallback)((function(e){d("SetScriptState",e)}),[]),E=Object(i.useMemo)((function(){return{width:p.width+"px",height:p.height+"px",transform:"scale(".concat(p.zoom,") translate(").concat(p.panning[0],"px, ").concat(p.panning[1],"px)")}}),[p]);return o.a.createElement("div",{className:"stage-container",onWheel:x,onDragOver:v,onDrop:w,onMouseDown:g,onContextMenu:b,ref:m},o.a.createElement("div",{className:"stage",style:E},o.a.createElement(vn.a,{overlay:l,disableBuiltinElements:!0,elements:a,animationContext:s,executeScripts:c,onOverlayDomReady:S,onScriptStateChanged:O})),u?o.a.createElement(u.component,null):null)},En=function(e){Object(i.useEffect)((function(){function t(t){"INPUT"!=t.target.tagName&&"SELECT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName&&(t.preventDefault(),t.clipboardData.items&&e("HandlePaste",t.clipboardData.items),t.clipboardData.files&&e("HandleFileUpload",{files:t.clipboardData.files,autoCreateLayers:!0}))}document.addEventListener("paste",t)}),[])},kn=(n(466),function(e){var t,n,r=e.assetKey,a=e.asset,i=e.dispatch;switch(a.type){case"image":t="media";break;case"video":t="video";break;case"script":t="code-block";break;case"html":t="code";break;default:t="blank"}return a.inline||(n=o.a.createElement(X.Icon,{icon:"document-share"})),o.a.createElement("div",{className:"asset-list-item"},o.a.createElement(X.ButtonGroup,{fill:!0,minimal:!0},o.a.createElement(X.Button,{text:a.name,alignText:"left",fill:!0,icon:t,rightIcon:n}),o.a.createElement(X.Button,{icon:"trash",title:"Delete",onClick:function(){return i("DeleteAsset",r)}})))}),Cn=function(e){var t,n=Ie((function(e){return e.overlay.assets})),r=h()(n,2),a=h()(r[0],1)[0],i=r[1];return a&&(t=Object.entries(a).map((function(e){var t=h()(e,2),n=t[0],r=t[1];return o.a.createElement(kn,{key:n,assetKey:n,asset:r,dispatch:i})}))),o.a.createElement("div",{className:"asset-list-wrapper"},o.a.createElement("div",{className:"asset-list"},t))},jn=(n(468),function(e){var t,n=e.scriptKey,r=e.dispatch,a=Object(i.useState)(),l=h()(a,2),s=l[0],c=l[1],u=Object(i.useCallback)((function(){r("OpenEditor",{type:"script",params:{scriptKey:n}})}),[]),p=Object(i.useCallback)((function(e){r("UpdateScriptKey",{scriptKey:n,newScriptKey:e})}),[n]),f=Object(i.useCallback)((function(){r("DeleteScript",n)}),[]);switch(n){case"main.js":t="document-open";break;case"settings.json":t="cog";break;default:t="document"}var d=o.a.createElement(X.Button,{icon:"trash",minimal:!0,title:"Delete",onClick:function(){return c((function(e){return!e}))}});return s&&(d=o.a.createElement(X.Popover,{isOpen:!0,position:"left",boundary:"window"},d,o.a.createElement("div",{className:"delete-popover-body"},"Deleting this script is permanent and cannot be undone.  Continue?",o.a.createElement("div",{className:"buttons"},o.a.createElement(X.Button,{icon:"cross",onClick:function(){return c(!1)}},"No, cancel"),o.a.createElement(X.Button,{icon:"tick",intent:"danger",onClick:f},"Yes, Delete"))))),o.a.createElement("div",{className:"script-list-item"},o.a.createElement(X.Icon,{icon:t}),o.a.createElement("div",{className:"label",onClick:u},o.a.createElement(cn,{value:n,onChange:p,selectAllOnFocus:!0})),d)}),Nn=function(){var e,t=Ie((function(e){return e.overlay.scripts})),n=h()(t,2),r=h()(n[0],1)[0],a=n[1],l=Object(i.useState)(!1),s=h()(l,2),c=s[0],u=s[1],p=Object(i.useCallback)((function(e,t){a("ReorderScript",{scriptKey:e,newIndex:t})}),[]);if(c){e=[];var f=!1;r&&null!=r["main.js"]||(e.push(o.a.createElement(X.MenuItem,{key:"main.js",icon:"document-share",text:"main.js",intent:"success",onClick:function(){return a("CreateScript","main.js")}})),f=!0),r&&null!=r["settings.json"]||(e.push(o.a.createElement(X.MenuItem,{key:"settings.json",icon:"cog",text:"settings.json",intent:"success",onClick:function(){return a("CreateScript","settings.json")}})),f=!0),f&&e.push(o.a.createElement(X.MenuDivider,{key:"sep"})),e.push(o.a.createElement(X.MenuItem,{key:"new",icon:"document",text:"New Script",onClick:function(){return a("CreateScript")}}))}var d=r?Object.keys(r):[];return o.a.createElement("div",{className:"main-list script-list"},o.a.createElement("div",{className:"actions"},o.a.createElement(X.AnchorButton,{text:"Reference",small:!0,minimal:!0,icon:"manual",target:"openoverlay-reference",href:"docs/"}),o.a.createElement("div",{className:"right"},o.a.createElement(X.Popover,{position:"right-top",isOpen:c,onInteraction:u},o.a.createElement(X.Button,{small:!0,icon:"plus",title:"New Script",intent:"primary",rightIcon:"caret-right"}),o.a.createElement(X.Menu,null,e)))),o.a.createElement("div",{className:"list-items"},o.a.createElement(mn,{itemType:pn,onReorderItem:p},d.map((function(e){return o.a.createElement(jn,{key:e,scriptKey:e,dispatch:a})})))))};n(470);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ln=function(e){var t,n=e.settingsJson,r=Ie((function(e){return e.overlay.settings})),a=h()(r,2),l=h()(a[0],1)[0],s=a[1],c=Object(i.useMemo)((function(){try{return JSON.parse(n)}catch(e){return null}}),[n]);if(!c)return o.a.createElement("div",{className:"error"},"Error parsing settings.json.");c.info&&(t=o.a.createElement(X.Card,null,c.info));var u=Pn(Pn({},c.initial),l);return o.a.createElement("div",{className:"script-settings-panel"},t,o.a.createElement(Ct,{parameters:c.parameters||[],parameterValues:u,onParameterValuesChanged:function(e){s("UpdateScriptSettings",e,!1)}}))},Tn=(n(472),function(){var e=Ie((function(e){return e.isExecutingScript}),(function(e){return e.scriptState})),t=h()(e,2),n=h()(t[0],2),r=n[0],a=n[1],i=t[1],l=a&&a.logs?a.logs:[];return o.a.createElement("div",{className:"console-panel"},o.a.createElement("div",{className:"console-header"},o.a.createElement("div",{className:"title"},"Console"),o.a.createElement(X.Button,{icon:r?"pause":"play",intent:r?"warning":"success",title:"Execute (Ctrl+e)",minimal:!0,onClick:function(){return i("ExecuteScript")}})),o.a.createElement("div",{className:"console-window"},l.map((function(e,t){return o.a.createElement("div",{key:t,className:"log-row"},e.map((function(e){return e.toString()})))}))))}),In=(n(474),function(e){We()(e);var t=Ie((function(e){return e.overlay.scripts?e.overlay.scripts["settings.json"]:null}),(function(e){return e.preferences}),(function(e){return e.editors}),(function(e){return e.selectedEditorTab})),n=h()(t,2),r=h()(n[0],4),a=r[0],l=r[1],s=r[2],c=r[3],u=n[1],p=Object(i.useState)("layers"),f=h()(p,2),d=f[0],m=f[1];En(u),G(U.GLOBAL),G(U.LAYERS);var y,g,b,v,w=Object(i.useCallback)((function(e){u("SavePreferences",e)}),[]);s.length>0&&(y=o.a.createElement(X.Tabs,{id:"editor-tabs",onChange:function(e){return u("SelectEditor",e)},selectedTabId:c,animate:!1,className:"editor-tabs normal-tabs"},o.a.createElement(X.Button,{className:"btn-minimize-bottom",icon:l.bottomPanelMinimized?"double-chevron-up":"double-chevron-down",minimal:!0,onClick:function(){return w({bottomPanelMinimized:!l.bottomPanelMinimized})}}),s.map((function(e){var t=ye[e.type],n=t.key(e.params);return c==n&&"script"==e.type&&(b=!0),o.a.createElement(X.Tab,{key:n,id:n,panel:o.a.createElement(t.component,I()({editorKey:n},e.params))},o.a.createElement(X.Icon,{icon:t.icon(e.params)}),o.a.createElement("span",{className:"title"},t.title(e.params)),o.a.createElement(X.Button,{minimal:!0,icon:"cross",title:"Close",small:!0,onClick:function(t){t.stopPropagation(),u("CloseEditor",e.key)}}))}))),b&&(g=o.a.createElement(ln,{edge:"left",defaultSize:l.consolePanelSize,minimum:100,onSizeChanged:function(e){return w({consolePanelSize:e})},className:"console-wrapper"},o.a.createElement(Tn,null))));return a&&(v=o.a.createElement(X.Tooltip,{content:"Settings"},o.a.createElement(X.Button,{active:"settings"==d,text:"Settings",alignText:"left",icon:"settings",onClick:function(){return m("settings")}}))),o.a.createElement("div",{className:"layout-changer"},o.a.createElement(_e,null),o.a.createElement(ln,{edge:"right",defaultSize:l.leftPanelWidth,minimum:350,maximum:500,onSizeChanged:function(e){return w({leftPanelWidth:e})},className:"leftpanel-wrapper panel-bg"},o.a.createElement(ln,{edge:"bottom",defaultSize:l.layerListSize||300,minimum:100,maximum:800,onSizeChanged:function(e){return w({layerListSize:e})},className:"lists-wrapper"},o.a.createElement(X.ButtonGroup,{fill:!0,className:"toolbar"},v,o.a.createElement(X.Tooltip,{content:"Layers"},o.a.createElement(X.Button,{active:"layers"==d,text:"Layers",alignText:"left",icon:"layers",onClick:function(){return m("layers")}})),o.a.createElement(X.Tooltip,{content:"Assets"},o.a.createElement(X.Button,{active:"assets"==d,text:"Assets",alignText:"left",icon:"archive",onClick:function(){return m("assets")}})),o.a.createElement(X.Tooltip,{content:"Scripts"},o.a.createElement(X.Button,{active:"scripts"==d,text:"Scripts",alignText:"left",icon:"manually-entered-data",onClick:function(){return m("scripts")}}))),o.a.createElement("div",{className:"lists-panel"},"settings"==d?o.a.createElement(Ln,{settingsJson:a}):null,"layers"==d?o.a.createElement(bn,null):null,"assets"==d?o.a.createElement(Cn,null):null,"scripts"==d?o.a.createElement(Nn,null):null)),o.a.createElement(qt,null)),o.a.createElement("div",{className:"center-wrapper"},o.a.createElement("div",{className:"stage-wrapper",dropeffect:"copy"},o.a.createElement("div",{className:"toolbar-wrapper"},o.a.createElement(on,null)),o.a.createElement(On,null)),y?o.a.createElement(ln,{edge:"top",defaultSize:l.bottomPanelMinimized?29:l.bottomPanelSize,canResize:!l.bottomPanelMinimized,minimum:100,maximum:500,onSizeChanged:function(e){return w({bottomPanelSize:e})},className:"bottom-panel-wrapper panel-bg"},y,g):null))}),Dn=(n(476),function(e){return Object(i.useEffect)((function(){var e=function(e){e.ctrlKey&&(e.stopPropagation(),e.preventDefault())};return window.addEventListener("wheel",e,{passive:!1}),function(){return window.removeEventListener("wheel",e,{passive:!1})}}),[]),o.a.createElement(Te,e,o.a.createElement(Re,null,o.a.createElement(Ve,null,o.a.createElement(In,null))))});t.default=Dn},6:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return h}));n(10),n(18);var r=n(2),a=n.n(r),i=n(8),o=n.n(i);n(3);function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){return e?"function"==typeof e?e:function(){return e}:null},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseFloat(e);return isNaN(n)?t:n},p=function(e,t){return t>e?t:e},f=function(e,t){if(1==t.length){var n=d(t[0]);return e.reduce((function(e,t,r){return n(t)&&e.push(r),e}),[])}var r=t.map(d);return e.reduce((function(e,t,n){var a,i=l(r);try{for(i.s();!(a=i.n()).done;){if((0,a.value)(t)){e.push(n);break}}}catch(e){i.e(e)}finally{i.f()}return e}),[])},d=function(e){if(!e)return function(e){return!0};switch(o()(e)){case"object":return function(t){for(var n=0,r=Object.entries(e);n<r.length;n++){var i=a()(r[n],2),o=i[0],l=i[1];if(t[o]!=l)return!1}return!0};case"string":return function(t){return t.label==e};case"number":return function(t){return t.id==e};default:return e}};var m=function(e){var t=document.createElement("textarea");t.style.position="absolute",t.style.top="-99999px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),setTimeout((function(){document.body.removeChild(t)}),100)},y=function(e,t,n){var r=n.top,a=n.left,i=0,o=0;return r-=t.height/2,a-=t.width/2,r+=t.panning[1],a+=t.panning[0],r*=t.zoom,a*=t.zoom,r+=e.height/2,a+=e.width/2,n.bottom?i=(n.bottom-n.top)*t.zoom:n.height&&(i=n.height*t.zoom),n.right?o=(n.right-n.left)*t.zoom:n.width&&(o=n.width*t.zoom),{top:r,left:a,height:i,width:o}},h=function(e,t,n){var r=n.top,a=n.left;return r-=e.height/2,a-=e.width/2,r/=t.zoom,a/=t.zoom,r-=t.panning[1],a-=t.panning[0],{top:r+=t.height/2,left:a+=t.width/2,height:n.height?n.height/t.zoom:0,width:n.width?n.width/t.zoom:0}}},9:function(e,t,n){"use strict";t.a={PLAYING:"playing",PAUSED:"paused"}}}]);