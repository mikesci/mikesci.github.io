(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[3],{13:function(e,t,n){"use strict";var r=n(8),a=n.n(r),i=n(4),o=n.n(i),l=n(1),c=n.n(l),s=n(0),u=n.n(s),f=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i;function p(e,t){if(!d(e))return e;if(!t)return null;var n=t[e];return n?n.src:null}function d(e){return!!e&&e.startsWith("asset:")}function m(e){if(!e||d(e))return null;var t=e.match(f);return t?t[1]:null}var y=["rect"],h=["border","backgroundColor","opacity","padding","shadow","filters","cornerClip","3dtransform"],g=["font","letterSpacing","textStroke","textShadow","lineHeight"],b=["autoFit"],v={manifest:{name:"Rectangle",icon:"square",preserveAspect:!1,primative:!0,parameters:[],allowedStyles:[].concat(c()(y),c()(h)),defaultStyle:{top:0,left:0,width:640,height:360,backgroundColor:"#FF0000"}},component:function(e){return null}},w={manifest:{name:"Text",icon:"new-text-box",preserveAspect:!1,primative:!0,parameters:[{name:"text",displayName:null,type:"textarea",defaultValue:"text"}],allowedStyles:[].concat(c()(y),c()(g),c()(h)),defaultStyle:{top:0,left:0,width:400,height:400,fontFamily:"Arial",fontSize:"60px",color:"rgba(255,255,255,1)",whiteSpace:"pre"}},component:function(e){var t=e.text;return u.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit",whiteSpace:"inherit"}},t)}},x={manifest:{name:"Image",width:400,height:400,icon:"media",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"image/*",inline:!0}],allowedStyles:[].concat(c()(y),c()(b),c()(h)),defaultStyle:{top:0,left:0,width:400,height:400},getNaturalDimensions:function(e,t){return new Promise((function(n,r){if(e.url){var a=p(e.url,t);if(a){var i=new Image;i.addEventListener("load",(function(){n({width:i.naturalWidth,height:i.naturalHeight})})),i.src=a,setTimeout((function(){return r("Timeout getting image size.")}),500)}else r("Could not get asset source.")}else r("No url specified.")}))},preload:function(e){var t=p(e.url);if(t)return new Promise((function(e,n){var r=new Image;r.addEventListener("load",e),r.addEventListener("error",e),r.addEventListener("abort",e),r.src=t}))},referencedAssets:function(e){return d(e.url)?[e.url]:null}},component:function(e){var t=p(e.url,e.assets);return u.a.createElement("img",{src:t,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}},S={manifest:{name:"Video",icon:"video",primative:!0,preserveAspect:!0,parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"video/*",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,width:50},{name:"loop",type:"checkbox",displayName:"Loop",defaultValue:!1,inline:!0,width:50}],allowedStyles:[].concat(c()(y),c()(b),c()(h)),defaultStyle:{top:0,left:0,width:1280,height:720},getNaturalDimensions:function(e,t){return new Promise((function(n,r){if(e.url){var a=p(e.url,t);if(a){var i=document.createElement("video");i.addEventListener("loadeddata",(function(){n({width:i.videoWidth,height:i.videoHeight})}));var o=document.createElement("source");o.src=a,i.appendChild(o),setTimeout((function(){return r("Timeout getting video size.")}),500)}else r("Could not get asset source.")}else r("No url specified.")}))},referencedAssets:function(e){return d(e.url)?[e.url]:null},preload:function(e){return m(e.url)?(window.onYouTubeIframeAPIReadyPromise||(window.onYouTubeIframeAPIReadyPromise=new Promise((function(e){if(window.YT)e();else{var t=document.createElement("script");t.type="text/javascript",t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=e}}))),window.onYouTubeIframeAPIReadyPromise):null}},YoutubeVideoComponent:function(e){var t=e.videoId,n=e.url,r=e.playing,a=void 0===r||r,i=e.loop,l=void 0!==i&&i,c=e.volume,f=void 0===c?100:c,p=(e.assets,Object(s.useRef)()),d=Object(s.useState)(),m=o()(d,2),y=m[0],h=m[1],g=Object(s.useState)(),b=o()(g,2),v=b[0],w=b[1];return Object(s.useEffect)((function(){if(window.YT)var e=new YT.Player(p.current,{width:"100%",height:"100%",playerVars:{controls:0,modestbranding:1},events:{onReady:function(t){h(e)},onStateChange:function(e){var t=e.data;w(t)}}})}),[window.YT]),Object(s.useEffect)((function(){y&&y.loadVideoByUrl("http://www.youtube.com/v/".concat(t,"?version=3"))}),[y,t]),Object(s.useEffect)((function(){y&&y.setLoop(l)}),[y,l]),Object(s.useEffect)((function(){y&&v&&-1==v&&y.seekTo(0)}),[y,v]),Object(s.useEffect)((function(){y&&(a?y.playVideo():y.pauseVideo())}),[y,a]),Object(s.useEffect)((function(){y&&y.setVolume(f)}),[y,f]),u.a.createElement("div",{style:{overflow:"hidden",height:"100%",width:"100%",display:null!=n&&n.length>0?"block":"none"}},u.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),u.a.createElement("div",{ref:p}))},HTMLVideoComponent:function(e){var t=e.src,n=e.url,r=e.playing,a=void 0===r||r,i=e.loop,o=void 0!==i&&i,l=e.volume,c=void 0===l?100:l,f=(e.assets,Object(s.useRef)());Object(s.useEffect)((function(){f.current.load()}),[n]),Object(s.useEffect)((function(){f.current.currentTime=0,a?f.current.play():f.current.pause()}),[a]),Object(s.useEffect)((function(){f.current.volume=c/100}),[c]);var p=Object(s.useCallback)((function(e){a&&f.current.play().catch((function(e){console.log(e.message)}))}),[]);return u.a.createElement("video",{ref:f,onLoadedData:p,loop:o,style:{height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}},u.a.createElement("source",{src:t}))},component:function(e){var t=m(e.url);return t?u.a.createElement(S.YoutubeVideoComponent,a()({videoId:t},e)):u.a.createElement(S.HTMLVideoComponent,a()({src:p(e.url,e.assets)},e))}},O={manifest:{name:"Audio",nonVisual:!0,effectsAllowed:!1,primative:!0,icon:"volume-up",parameters:[{name:"url",displayName:"Url/Asset",type:"assetUrl",accept:"audio/*",inline:!0},{name:"volume",type:"slider",displayName:"Volume",defaultValue:100,inline:!0},{name:"playing",type:"checkbox",displayName:"Playing",defaultValue:!0,inline:!0,width:50},{name:"loop",type:"checkbox",displayName:"Looping",defaultValue:!1,inline:!0,width:50}],allowedStyles:[],referencedAssets:function(e){return d(e.url)?[e.url]:null}},component:function(e){var t=e.url,n=e.playing,r=void 0===n||n,a=e.loop,i=void 0!==a&&a,o=e.volume,l=void 0===o?100:o,c=e.assets,f=Object(s.useRef)();Object(s.useEffect)((function(){f.current.load()}),[t]),Object(s.useEffect)((function(){r?f.current.play():f.current.pause()}),[r]),Object(s.useEffect)((function(){f.current.volume=l/100}),[l]);var d=Object(s.useCallback)((function(e){r&&f.current.play().catch((function(e){console.log(e.message)}))}),[]),m=p(t,c);return u.a.createElement("audio",{ref:f,onLoadedData:d,loop:i},u.a.createElement("source",{src:m}))}},E={manifest:{name:"Iframe",icon:"globe-network",primative:!0,preserveAspect:!1,parameters:[{name:"url",type:"assetUrl",displayName:"Url/Asset",accept:"text/html"}],allowedStyles:[].concat(c()(y),c()(b),c()(h)),defaultStyle:{top:0,left:0,width:1280,height:720},referencedAssets:function(e){return d(e.url)?[e.url]:null}},component:function(e){var t=p(e.url,e.assets);return u.a.createElement("iframe",{src:t,style:{border:"0",height:"100%",width:"100%",objectFit:"inherit",objectPosition:"inherit"}})}};t.a={text:w,rectangle:v,image:x,video:S,audio:O,iframe:E}},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n(3);var r={Effects:["duplicator"]},a={duplicator:{type:"wrapper",displayName:"Duplicator",parameters:[{name:"copies",type:"number",tag:"copies",defaultValue:5,inline:!0},{type:"group",items:[{name:"sx",type:"number",tag:"Δ x",defaultValue:5,width:33.3333},{name:"sy",type:"number",tag:"Δ y",defaultValue:5,width:33.3333},{name:"sz",type:"number",tag:"Δ z",defaultValue:5,width:33.3333}]}],component:function(e){for(var t=e.sx,n=void 0===t?5:t,r=e.sy,a=void 0===r?5:r,i=e.sz,o=void 0===i?5:i,l=e.copies,c=void 0===l?5:l,s=e.children,u=[],f=0;f<c;f++){var p=o<0?c-f-1:f;u.push(React.createElement("div",{key:f,style:{position:"absolute",transformStyle:"preserve-3d",transform:"perspective(1000px) translate3d(".concat(n*p,"px, ").concat(a*p,"px, ").concat(o*p,"px"),width:"100%",height:"100%"}},s))}return React.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},u)}}}},21:function(e,t,n){"use strict";var r=n(3),a={fade:{displayName:"Fade",parameters:[{type:"group",items:[{name:"from",type:"number",displayName:"From",tag:"%",min:0,max:100,width:50},{name:"to",type:"number",displayName:"To",tag:"%",min:0,max:100,width:50}]}],keyframes:function(e){return[{offset:0,opacity:e.from/100},{offset:1,opacity:e.to/100}]}},slide:{displayName:"Slide",parameters:[{type:"group",items:[{name:"fromTop",type:"number",displayName:"From Top",tag:"px",width:35},{name:"fromLeft",type:"number",displayName:"From Left",tag:"px",width:35},{name:"fromRelative",type:"select",displayName:"Relative To",width:30,options:[{label:"Stage",value:"stage"},{label:"Self",value:"self"}]}]},{type:"group",items:[{name:"toTop",type:"number",displayName:"To Top",tag:"px",width:35},{name:"toLeft",type:"number",displayName:"To Left",tag:"px",width:35},{name:"toRelative",type:"select",displayName:"Relative To",width:30,options:[{label:"Stage",value:"stage"},{label:"Self",value:"self"}]}]}],keyframes:function(e,t){var n=e.fromTop,a=void 0===n?0:n,i=e.fromLeft,o=void 0===i?0:i,l=e.fromRelative,c=e.toTop,s=void 0===c?0:c,u=e.toLeft,f=void 0===u?0:u,p="stage"==l,d="stage"==e.toRelative,m=Object(r.e)(a),y=Object(r.e)(o),h=Object(r.e)(s),g=Object(r.e)(f);return p||(t.style.top&&(m+=Object(r.e)(t.style.top)),t.style.left&&(y+=Object(r.e)(t.style.left))),d||(t.style.top&&(h+=Object(r.e)(t.style.top)),t.style.left&&(g+=Object(r.e)(t.style.left))),[{offset:0,top:m+"px",left:y+"px"},{offset:1,top:h+"px",left:g+"px"}]}}};t.a=a},23:function(e,t,n){"use strict";var r=n(1),a=n.n(r);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,c=[(l=["Arial","Arial Black","Comic Sans MS","Courier New","Georgia","Impact","Lucida Sans Unicode","Lucida Console","Tahoma","Trebuchet MS","Times New Roman","Verdana"],{fontNames:l,loadFont:function(e){return l.includes(e)?Promise.resolve():null}}),function(){var e=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Baloo","Baloo Bhai","Baloo Bhaijaan","Baloo Bhaina","Baloo Chettan","Baloo Da","Baloo Paaji","Baloo Tamma","Baloo Tammudu","Baloo Thambi","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Battambang","Baumans","Bayon","Belgrano","Bellefair","Belleza","BenchNine","Bentham","Berkshire Swash","Beth Ellen","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Gothic A1","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Grenze","Griffy","Gruppo","Gudea","Gugi","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Josefin Sans","Josefin Slab","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kumar One","Kumar One Outline","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Muli","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Neucha","Neuton","New Rocker","News Cycle","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Red Hat Display","Red Hat Text","Redressed","Reem Kufi","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Song Myung","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Mono","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trirong","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"];return{fontNames:e,loadFont:function(t){return e.includes(t)?new Promise((function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href="https://fonts.googleapis.com/css?family="+encodeURIComponent(t),r.addEventListener("load",e),r.addEventListener("abort",n),r.addEventListener("error",n),document.head.appendChild(r)})):null}}}()];t.a=function(){var e=[],t={},n=null;return{GetFontNames:function(){if(!n){n=[];var e,t=i(c);try{for(t.s();!(e=t.n()).done;){var r,o=e.value;(r=n).push.apply(r,a()(o.fontNames))}}catch(e){t.e(e)}finally{t.f()}n=n.sort()}return n},LoadFont:function(n){if(e.includes(n))return null;if(t[n])return t[n];var r,a=i(c);try{for(a.s();!(r=a.n()).done;){var o=r.value.loadFont(n);if(o)return t[n]=o,o.then((function(){e.push(n),delete t[n]})),o}}catch(e){a.e(e)}finally{a.f()}return null}}}()},24:function(e,t,n){"use strict";var r=n(8),a=n.n(r),i=n(5),o=n.n(i),l=n(4),c=n.n(l),s=n(0),u=n.n(s),f=n(13),p=n(21);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){return e.reduce((function(e,t,n){0==n&&t.offset>0&&e.push({offset:0,easing:t.easing});var r=t.style;return r.offset=t.offset,n<animation.keyframes.length-1&&(r.easing=animation.keyframes[n+1].easing),e.push(r),e}),[])},h=n(18),g=n(7),b=n(9),v=n(10),w=n.n(v),x=n(1),S=n.n(x),O=n(14),E=n(3);function k(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e,t){var n=Object(s.useState)(null),r=c()(n,2),a=r[0],i=r[1];return Object(s.useEffect)((function(){if(t&&e.scripts&&e.scripts["main.js"]){window._scriptingContexts||(window._scriptingContexts={});var n=window._lastScriptId?window._lastScriptId+1:1;window._lastScriptId=n;var r,a={layers:S()(e.layers),maxLayerId:e.layers.map((function(e){return e.id})).reduce((function(e,t){return t.id>e?t.id:e}),0),eventHandlers:{},timeouts:[],intervals:[],scriptUrls:{},isBulkUpdating:!1},o=function(){a.isBulkUpdating||i(A({},a))};window._scriptingContexts[n]={settings:e.settings||{},on:function(e,t){var n=a.eventHandlers[e];n||(n=a.eventHandlers[e]=[]),n.push(t),o()},off:function(e,t){var n=a.eventHandlers[e];if(n){var r=n.indexOf(t);-1!=r&&(n.splice(r,1),o())}},addLayer:function(e,t,n){var r;return(r="object"===w()(e)?e:{elementName:e,config:t,style:n}).id=++a.maxLayerId,a.layers.push(r),o(),r.id},layer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(E.c)(a.layers,t),i={length:r.length,config:function(e){if(!e)return 0==r.length?null:a.layers[r[0]].config;var t,n=k(r);try{for(n.s();!(t=n.n()).done;){var l=t.value,c=A({},a.layers[l]);c.config=A(A({},c.config),e),a.layers[l]=c}}catch(e){n.e(e)}finally{n.f()}return o(),i},style:function(e){if(!e)return 0==r.length?null:a.layers[r[0]].style;var t,n=k(r);try{for(n.s();!(t=n.n()).done;){var l=t.value,c=A({},a.layers[l]);c.style=A(A({},c.style),e),a.layers[l]=c}}catch(e){n.e(e)}finally{n.f()}return o(),i},moveUp:function(e){var n;if(0==r.length)return i;if(console.log({indexes:r,layers:a.layers}),0==r[0])return i;var l=e?0:r[0]-1,c=[];return a.layers=a.layers.reduce((function(e,t,n){return r.includes(n)?c.push(t):e.push(t),e}),[]),(n=a.layers).splice.apply(n,[l,null].concat(c)),o(),r=Object(E.c)(a.layers,t),i},moveDown:function(e){var n;if(0==r.length)return i;if(r[r.length-1]==a.layers.length-1)return i;var l=e?a.layers.length-1:r[0]+1,c=[];return a.layers=a.layers.reduce((function(e,t,n){return r.includes(n)?c.push(t):e.push(t),e}),[]),(n=a.layers).splice.apply(n,[l,null].concat(c)),o(),r=Object(E.c)(a.layers,t),i},remove:function(){a.layers=a.layers.filter((function(e,t){return!r.includes(t)})),o()},clone:function(){return 1==r.length?Object(O.cloneDeep)(a.layers[r[0]]):r.map((function(e){return Object(O.cloneDeep)(a.layers[e])}))}};return i},bulkUpdate:function(e){a.isBulkUpdating=!0,e(),a.isBulkUpdating=!1,o()},setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=setTimeout(e,t);a.timeouts.push(n)})),setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=setInterval(e,t);a.intervals.push(n)}))};try{r=function e(t,n,r,a){var i=r[n];if(!i)throw"Could not find script: "+n;var o=i.replace(/(import (.+ from )?["'])(\.\/)(.+)(["'])/g,(function(n,i,o,l,c,s){return i+(a[c]||e(t,c,r,a))+s})),l=new Blob(["//# sourceURL=openoverlay/".concat(n,"\nconst { settings, on, off, addLayer, layer, bulkUpdate, setTimeout, setInterval } = window._scriptingContexts[").concat(t,"];\n").concat(o)],{type:"text/javascript"}),c=URL.createObjectURL(l);return a[n]=c,c}(n,"main.js",e.scripts,a.scriptUrls)}catch(e){console.log("Error compiling script:\n".concat(e))}return r&&import(r).catch((function(e){Object.keys(e).map(console.log),console.log("Error executing script:\n".concat(e.stack))})),function(){var e,t=k(a.timeouts);try{for(t.s();!(e=t.n()).done;){var r=e.value;clearTimeout(r)}}catch(e){t.e(e)}finally{t.f()}var o,l=k(a.intervals);try{for(l.s();!(o=l.n()).done;){var c=o.value;clearInterval(c)}}catch(e){l.e(e)}finally{l.f()}for(var s=0,u=Object.values(a.scriptUrls);s<u.length;s++){var f=u[s];URL.revokeObjectURL(f)}delete window._scriptingContexts[n],i(null)}}}),[t]),a},L=n(23);n(41);function P(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){return Object(s.useMemo)((function(){var t=e?D(D({},f.a),e):f.a;return function e(n){var r=n.layer,i=n.index,o=n.assets,l=n.wrapperRef,f=function(e,t){return m(m({},e.style),{},{zIndex:1e3-t})}(r,i),p=Object(s.useState)(),d=c()(p,2),y=d[0],g=d[1],b=t[r.elementName];if(!b)return null;var v=Object(s.useMemo)((function(){return function(e,t){var n=[];if(e.manifest.preload){var r=e.manifest.preload(t.config);r&&n.push(r)}return t.style.fontFamily&&n.push(L.a.LoadFont(t.style.fontFamily)),0==n.length?null:Promise.all(n)}(b,r)}),[b,r]);if(v&&null==y)return g(!0),v.finally((function(e){return g(!1)})),null;var w=[],x=[];if(r.effects)for(var S=0,O=Object.entries(r.effects);S<O.length;S++){var E=c()(O[S],2),k=E[0],C=E[1],j=h.b[k];j?C.hidden||("style"==j.type?w.push({effect:j,effectConfig:C}):"wrapper"==j.type&&x.push({effect:j,effectConfig:C})):console.log("Unknown effect",k)}for(var A=0,N=w;A<N.length;A++){var P=N[A];f=P.effect.apply(r,f,P.effectConfig)}for(var T=u.a.createElement("div",{"data-id":r.id,className:"layer-wrapper",style:f,ref:l},u.a.createElement(b.component,a()({},r.config,{layer:r,assets:o,ElementRenderer:e}))),I=0,D=x;I<D.length;I++){var M=D[I];T=u.a.createElement(M.effect.component,a()({},M.effectConfig,{layer:r}),T)}return T}}),[e])},z=function(e){var t=e.overlay,n=e.layer,r=e.index,a=e.animationContext,i=e.onLayerCreated,o=e.onLayerRemoved,l=e.ElementRenderer,f=Object(s.useRef)(),d=n.hidden||t.hidden;return a||(a=function(e,t){var n=Object(s.useState)({phase:g.a.HIDDEN,state:b.a.PLAYING,offset:0}),r=c()(n,2),a=r[0],i=r[1];return Object(s.useEffect)((function(){if(e){var n=t[g.a.EXIT.key];if(n){var r=setTimeout((function(){i((function(e){return D(D({},e),{},{phase:g.a.HIDDEN})}))}),n);return i((function(e){return D(D({},e),{},{phase:g.a.EXIT})})),function(){clearTimeout(r)}}i((function(e){return D(D({},e),{},{phase:g.a.HIDDEN})}))}else i((function(e){return D(D({},e),{},{phase:g.a.ENTRY})}))}),[e,t]),a}(d,t.phases)),Object(s.useEffect)((function(){if(i&&i(n,f.current),o)return function(){return o(n,f.current)}}),[]),Object(s.useEffect)((function(){var e=function(e,t){return e&&t.animations?e.reduce((function(e,n){if(!t.animations.includes(n.id))return e;if(void 0===n.delay)return console.log("Animation does not define a delay",n),e;if(void 0===n.duration)return console.log("Animation does not define a duration",n),e;var r;if(n.preset){var a=p.a[n.preset];if(!a)return console.log("Animation preset not found",n),e;r=a.keyframes(n.config,t)}else{if(!n.keyframes)return console.log("Animation defines neither preset nor keyframes",n),e;r=y(n.keyframes)}var i=e[n.phase];return i||(i=e[n.phase]=[]),i.push({delay:n.delay,duration:n.duration,easing:n.easing,keyframes:r}),e}),{}):{}}(t.animations,n),r=f.current;r.style.display=d?"none":"block";var i,o=P(r.getAnimations());try{for(o.s();!(i=o.n()).done;){var l=i.value;l.transitionProperty||l.cancel()}}catch(e){o.e(e)}finally{o.f()}var c=e[a.phase.key];if(c){var s,u=a.state==b.a.PAUSED?a.offset:0,m=P(c);try{for(m.s();!(s=m.n()).done;){var h=s.value,g=r.animate(h.keyframes,{delay:h.delay-u,duration:h.duration,easing:h.easing,fill:"both"});a.state==b.a.PAUSED?g.pause():g.play()}}catch(e){m.e(e)}finally{m.f()}}}),[d,t.animations,n,r,a]),u.a.createElement(l,{key:n.id,layer:n,index:r,assets:t.assets,wrapperRef:f})};t.a=function(e){var t=e.overlay,n=e.elements,r=e.zIndex,a=void 0===r?1e4:r,i=e.hidden,o=void 0!==i&&i,l=e.animationContext,c=e.ElementRenderer,f=e.executeScripts,p=e.onLayerCreated,d=e.onLayerRemoved;void 0===c&&(c=M(n)),void 0===f&&(f=!o);var m=t.id||"default",y=Object(s.useRef)(),h=N(t,f),g=(h?h.layers:t.layers).map((function(e,n){return u.a.createElement(z,{key:e.id,overlayId:m,overlay:t,layer:e,index:n,animationContext:l,ElementRenderer:c,onLayerCreated:p,onLayerRemoved:d})}));return u.a.createElement("div",{className:"overlay","data-overlayid":m,ref:y,style:{zIndex:a}},g)}},253:function(e,t,n){var r=n(254);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},254:function(e,t,n){(t=n(30)(!1)).push([e.i,".move-and-resize-tool { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: visible; z-index: 10001; }\r\n.move-and-resize-tool .resizer-selector { position: relative; display: inline-block; }\r\n.move-and-resize-tool .resize-handle { position: absolute; }\r\n.move-and-resize-tool .resize-handle-center { cursor: move; top: 0; left: 0; bottom: 0; right: 0; z-index: 2; }\r\n.move-and-resize-tool .resize-handle-nw { cursor: nw-resize; border-top: 1px solid Gray; border-left: 1px solid gray; top: -10px; left: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-n { cursor: ns-resize; top: -10px; left: 0; right: 0; height: 10px; }\r\n.move-and-resize-tool .resize-handle-ne { cursor: ne-resize; border-top: 1px solid Gray; border-right: 1px solid gray; top: -10px; right: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-e { cursor: ew-resize; top: 0; right: -10px; bottom: 0; width: 10px; }\r\n.move-and-resize-tool .resize-handle-se { cursor: se-resize; border-bottom: 1px solid Gray; border-right: 1px solid gray; bottom: -10px; right: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-s { cursor: ns-resize; bottom: -10px; left: 0; right: 0; height: 10px; }\r\n.move-and-resize-tool .resize-handle-sw { cursor: sw-resize; border-bottom: 1px solid Gray; border-left: 1px solid gray; bottom: -10px; left: -10px; width: 10px; height: 10px; }\r\n.move-and-resize-tool .resize-handle-w { cursor: ew-resize; top: 0; left: -10px; bottom: 0; width: 10px; }\r\n.move-and-resize-tool .resizer-subrect { position: absolute; border: 1px dashed #333; z-index: 1; }\r\n.move-and-resize-tool .resizer-selector-box { position: absolute; border: 1px dashed #ddd; z-index: 1; }",""]),e.exports=t},255:function(e,t,n){var r=n(256);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},256:function(e,t,n){(t=n(30)(!1)).push([e.i,".size-and-position-capture-tool { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: visible; z-index: 10001; cursor: crosshair; }\r\n.size-and-position-capture-tool .selector-box { position: absolute; border: 1px dashed #ddd; z-index: 1; }",""]),e.exports=t},257:function(e,t,n){var r=n(258);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},258:function(e,t,n){(t=n(30)(!1)).push([e.i,'\r\n.animation-panel { height: 100%; overflow: hidden; display:flex; }\r\n.animation-panel .scrubber-height { height: 15px; }\r\n.animation-panel .phase-layers { height: 100%; flex: 1 1 auto; border-left: 1px solid #ffffff20; display: flex; flex-direction: column; overflow: hidden; }\r\n.animation-panel .phase-layers .label-width { width: 200px; border-right: 1px solid #ffffff20; }\r\n.animation-panel .phase-layers > .scroll-body { overflow-x: hidden; overflow-y: auto; height: 100%; }\r\n.animation-panel .phase-layers .phase-layer { position: relative; width: 100%; overflow: hidden; border-bottom: 1px solid #ffffff20; background: #00000020; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row { border-bottom: 1px solid #ffffff20; background: #ffffff20; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row .label-width { text-align: right; padding-right: 3px; font-size: 0.8em; }\r\n.animation-panel .phase-layers .phase-layer > .layer-name-row .label-width label { padding-right: 5px; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row { border-bottom: 1px solid #ffffff20; display: flex; flex-direction: row; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row[isselected="true"] { background: #6cb0ff20; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .animation-name { text-align: right; padding-right: 3px; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline { flex: 1 1 auto; position: relative; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle { position: absolute; top: 0; height: 100%; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle::before { content: ""; position: absolute; top: 10px; width: 100%; height: 8px; background: #00a2ff40; }\r\n.animation-panel .phase-layers .phase-layer > .animation-row > .timeline > .keyframe-handle .bp3-icon { position: absolute; top: 6px; right: -7px; z-index: 2; }\r\n.animation-panel .phase-layers .phase-header { flex: 0 0 40px; padding: 5px; background: #00000020; display:flex; align-items: center; justify-content: space-between; }\r\n.animation-panel .phase-layers .phase-header .timing { width: 200px; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group { align-items: center; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group .bp3-tag { margin: 3px; }\r\n.animation-panel .phase-layers .phase-header .timing .bp3-control-group .bp3-input { height: 25px; }\r\n.animation-panel .phase-layers .scrubber-row { flex: 0 0 15px; display: flex; background: linear-gradient(#ffffff00, #ffffff20); }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber { flex: 1 1 auto; display: flex; position: relative; font-size: 0.8em; margin-right: 1px; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber:last-child { margin-right: 0; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber .caret { position: absolute; top: 0; border-left: 2px solid #FFFFFF20; height: 100vh; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber .caret .bp3-icon { margin-left: -9px; }\r\n.animation-panel .phase-layers .scrubber-row > .scrubber label { flex: 1 1 auto; text-align: right; border-left: 1px solid #ffffff20; padding: 0 3px; }\r\n\r\n.animation-panel .animation-editor { border-left: 1px solid #ffffff20; height: 100%; width: 200px; padding: 10px; }',""]),e.exports=t},289:function(e,t,n){var r=n(290);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},290:function(e,t,n){(t=n(30)(!1)).push([e.i,".console-wrapper { display: flex; flex-direction: column; height: 100%; }\r\n",""]),e.exports=t},295:function(e,t,n){var r=n(296);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},296:function(e,t,n){(t=n(30)(!1)).push([e.i,".script-wrapper { overflow: auto; height: 100%; width: 100%; }\r\n.script-wrapper .editor-wrapper { float: left; font-family: Consolas, monospace; font-size: 12px; min-width: 100%; min-height: 100%; }\r\n.script-wrapper .editor-wrapper pre,\r\n.script-wrapper .editor-wrapper textarea { white-space: pre !important;}\r\n\r\n/*\r\n.script-wrapper .button-bar { margin: 0 5px; display: flex; flex-direction: row; justify-content: space-between; }\r\n.script-wrapper .button-bar button { }\r\n*/\r\n\r\n/* Syntax highlighting */\r\n.script-wrapper .token.comment,\r\n.script-wrapper .token.prolog,\r\n.script-wrapper .token.doctype,\r\n.script-wrapper .token.cdata { color: #90a4ae; }\r\n.script-wrapper .token.punctuation { color: #9e9e9e; }\r\n.script-wrapper .namespace { opacity: 0.7; }\r\n.script-wrapper .token.property,\r\n.script-wrapper .token.tag,\r\n.script-wrapper .token.boolean,\r\n.script-wrapper .token.number,\r\n.script-wrapper .token.constant,\r\n.script-wrapper .token.symbol,\r\n.script-wrapper .token.deleted { color: #e91e63; }\r\n.script-wrapper .token.selector,\r\n.script-wrapper .token.attr-name,\r\n.script-wrapper .token.string,\r\n.script-wrapper .token.char,\r\n.script-wrapper .token.builtin,\r\n.script-wrapper .token.inserted { color: #4caf50; }\r\n.script-wrapper .token.operator,\r\n.script-wrapper .token.entity,\r\n.script-wrapper .token.url,\r\n.script-wrapper .language-css .token.string,\r\n.script-wrapper .style .token.string { color: #795548; }\r\n.script-wrapper .token.atrule,\r\n.script-wrapper .token.attr-value,\r\n.script-wrapper .token.keyword { color: #769dd8; }\r\n.script-wrapper .token.function { color: #f44336; }\r\n.script-wrapper .token.regex,\r\n.script-wrapper .token.important,\r\n.script-wrapper .token.variable { color: #ff9800; }\r\n.script-wrapper .token.important,\r\n.script-wrapper .token.bold { font-weight: bold; }\r\n.script-wrapper .token.italic { font-style: italic; }\r\n.script-wrapper .token.entity { cursor: help; }",""]),e.exports=t},3:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return h}));n(12),n(22);var r=n(4),a=n.n(r),i=n(10),o=n.n(i);n(5);function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){return e?"function"==typeof e?e:function(){return e}:null},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseFloat(e);return isNaN(n)?t:n},f=function(e,t){return t>e?t:e},p=function(e,t){if(1==t.length){var n=d(t[0]);return e.reduce((function(e,t,r){return n(t)&&e.push(r),e}),[])}var r=t.map(d);return e.reduce((function(e,t,n){var a,i=l(r);try{for(i.s();!(a=i.n()).done;){if((0,a.value)(t)){e.push(n);break}}}catch(e){i.e(e)}finally{i.f()}return e}),[])},d=function(e){if(!e)return function(e){return!0};switch(o()(e)){case"object":return function(t){for(var n=0,r=Object.entries(e);n<r.length;n++){var i=a()(r[n],2),o=i[0],l=i[1];if(t[o]!=l)return!1}return!0};case"string":return function(t){return t.label==e};case"number":return function(t){return t.id==e};default:return e}};var m=function(e){var t=document.createElement("textarea");t.style.position="absolute",t.style.top="-99999px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),setTimeout((function(){document.body.removeChild(t)}),100)},y=function(e,t,n){var r=n.top,a=n.left,i=0,o=0;return r-=t.height/2,a-=t.width/2,r+=t.panning[1],a+=t.panning[0],r*=t.zoom,a*=t.zoom,r+=e.height/2,a+=e.width/2,n.bottom?i=(n.bottom-n.top)*t.zoom:n.height&&(i=n.height*t.zoom),n.right?o=(n.right-n.left)*t.zoom:n.width&&(o=n.width*t.zoom),{top:r,left:a,height:i,width:o}},h=function(e,t,n){var r=n.top,a=n.left;return r-=e.height/2,a-=e.width/2,r/=t.zoom,a/=t.zoom,r-=t.panning[1],a-=t.panning[0],{top:r+=t.height/2,left:a+=t.width/2,height:n.height?n.height/t.zoom:0,width:n.width?n.width/t.zoom:0}}},41:function(e,t,n){var r=n(42);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},42:function(e,t,n){(t=n(30)(!1)).push([e.i,".overlay { animation-delay: 0; animation-play-state: running; }\r\n.overlay * { animation-delay: inherit; animation-play-state: inherit; }\r\n.layer-positioner { position: absolute; transform-style: preserve-3d; }\r\n.layer-wrapper { position: absolute; transform-style: preserve-3d; }\r\n.layer-style { width: 100%; height: 100%; box-sizing: content-box; display: flex; white-space: pre; box-sizing: border-box; }",""]),e.exports=t},460:function(e,t,n){var r=n(461);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},461:function(e,t,n){(t=n(30)(!1)).push([e.i,"/*# sourceURL=FontStyleEditor.css*/\r\n.font-style-editor {  }\r\n.font-style-editor .button-row-2 > * { flex-basis: 16.66666666666667 !important; margin: 1px 0; }\r\n.font-style-editor .font-family { width: 50%; }\r\n.font-style-editor .font-size { width: 33.3333333%; }\r\n.font-style-editor .font-color { width: 16.6666666%; }\r\n.font-style-editor .font-color .bp3-popover-target { width: 100%; border-left: 1px solid #000; }\r\n.font-style-editor .font-color button { width: 100%; }\r\n.font-style-editor .text-wrap { flex: 0 0 50% !important; margin: 8px 1px 3px 0; }\r\n\r\n.font-style-editor .border-input { display: flex; flex-direction: row; justify-content: flex-start; align-items: stretch; height: 100%; }\r\n.font-style-editor .border-input input[type='color'] { width: 2em !important; height: 2em; margin-right: 0.1em; }\r\n.font-style-editor .border-input select { width: 10em !important; margin-right: 0.1em; }\r\n.font-style-editor .border-input input[type='text'] { width: 5em !important; margin-right: 0.1em; }",""]),e.exports=t},462:function(e,t,n){var r=n(463);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},463:function(e,t,n){(t=n(30)(!1)).push([e.i,".configuration-form { display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-between; overflow: hidden; }\r\n\r\n.configuration-form > .group { margin: 3px 14px 4px 10px; width: 100%; }\r\n.configuration-form > .group > label { margin-bottom: 5px; }\r\n.configuration-form > .group > .group-items { display: flex; flex-direction: row; width: 100%; }\r\n.configuration-form > .group > .group-items > .group-item { display: flex; flex-direction: row; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group { margin: 1px 0 2px 0 !important; width: 100%; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group label { padding: 0 8px 0 0px !important; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group.bp3-inline label { margin: 0; }\r\n.configuration-form > .group > .group-items > .group-item > .bp3-form-group .bp3-form-content { margin: 0; padding: 0 2px 0 2px !important; }\r\n\r\n.configuration-form > .bp3-form-group { flex: 1 1 100%; margin-bottom: 10px; margin: 3px 14px 4px 10px !important; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-label { flex-basis: 30%; }\r\n.configuration-form > .bp3-form-group.bp3-inline .bp3-form-content { flex-basis: 70%; }\r\n\r\n/* hide chrome number arrows */\r\n.configuration-form input::-webkit-outer-spin-button,\r\n.configuration-form input::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n/* Firefox */\r\n.configuration-form input[type=number] { -moz-appearance: textfield; }\r\n\r\n.configuration-form .bp3-input-action { cursor: ns-resize; }\r\n\r\n/* not sure where else to put this, but i know it doesn't belong here */\r\n.group.size-and-position { margin: 0; }\r\n.group.size-and-position .group-item .bp3-label { flex: 0 0 45%; font-size: 0.9em; text-align: right; }\r\n.group.size-and-position .group-item .bp3-form-content { flex: 0 0 55%; }",""]),e.exports=t},464:function(e,t,n){var r=n(465);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},465:function(e,t,n){(t=n(30)(!1)).push([e.i,".collapsible-panel { }\r\n.collapsible-panel > .panel-header { display: flex; align-items: center; background: #00000020; padding: 3px; cursor: pointer; }\r\n.collapsible-panel > .panel-header:hover { background: #ffffff10; }\r\n.collapsible-panel > .panel-header > .bp3-icon { padding: 4px; }\r\n.collapsible-panel > .panel-header > label { flex: 1 1 auto; cursor: inherit; }\r\n.collapsible-panel > .panel-header > .bp3-button { padding: 4px 10px; min-height: 20px; min-width: 20px; }",""]),e.exports=t},466:function(e,t,n){var r=n(467);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},467:function(e,t,n){(t=n(30)(!1)).push([e.i,".no-layers-selected { height: 100%; width: 100%; background: #00000020; display: flex; align-items: center; justify-content: center; font-size: 20px; }\r\n.create-keyframe { height: 100%; width: 100%; background: #00000020; display: flex; align-items: center; justify-content: center; font-size: 20px; }",""]),e.exports=t},468:function(e,t,n){var r=n(469);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},469:function(e,t,n){(t=n(30)(!1)).push([e.i,".main-toolbar { display: flex; }\r\n.main-toolbar .bp3-button-group { border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; background: #000; margin-right: 10px; }\r\n.main-toolbar .bp3-button-group:last-child { margin-right: 0; }\r\n.main-toolbar .bp3-button { border-top-left-radius: 0 !important; border-top-right-radius: 0 !important; }",""]),e.exports=t},470:function(e,t,n){var r=n(471);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},471:function(e,t,n){(t=n(30)(!1)).push([e.i,".resizable { flex-shrink: 0; flex-grow: 0; }\r\n.resize-bar {  position: relative; overflow: visible; }\r\n.resize-bar .inner { position: absolute; top: 0; left: 0; height: 100%; border:0px solid #44505A; z-index: 11; }\r\n.resize-bar.top .inner { height: 4px; margin-top: -4px;cursor: ns-resize; border-bottom-width: 1px; width: 100%; }\r\n.resize-bar.bottom .inner { height: 4px; cursor: ns-resize; border-top-width: 1px; width: 100%; }\r\n.resize-bar.left .inner { width: 4px; margin-left: -4px; cursor: ew-resize; border-right-width: 1px; }\r\n.resize-bar.right .inner { width: 4px; cursor: ew-resize; border-left-width: 1px; }",""]),e.exports=t},472:function(e,t,n){var r=n(473);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},473:function(e,t,n){(t=n(30)(!1)).push([e.i,'.reorderable-list { height: 100%; }\r\n.reorderable-list > .item { background: #ffffff10; }\r\n.reorderable-list > .item[dragging="true"] { background: #137cbd80; }\r\n.reorderable-list > .item:not([isselected="true"]):hover { background: rgba(138, 155, 168, 0.4); }',""]),e.exports=t},474:function(e,t,n){var r=n(475);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},475:function(e,t,n){(t=n(30)(!1)).push([e.i,'.layer-list .layer-header { display: flex; align-items: center; cursor: pointer; }\r\n.layer-list .layer-header[isselected="true"] { background: #137cbd80; }\r\n.layer-list .layer-header .label { flex: 1 1 100%; text-align: left; padding: 6px 5px; }\r\n.layer-list .layer-header .label .label-editor { width: 100%; display: inline-block; }\r\n.layer-list .layer-header .label input { height: 25px; min-height: 0; }\r\n\r\n.layer-list .effect { display: flex; align-items: center; font-size: 0.9em !important; padding-left: 20px; background: #00000020; }\r\n.layer-list .effect .bp3-button { font-size: inherit; min-height: 20px; }\r\n.layer-list .effect .label { flex: 1 1 100%; align-self: center; padding: 0 5px; cursor: pointer; }\r\n',""]),e.exports=t},476:function(e,t,n){var r=n(477);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},477:function(e,t,n){(t=n(30)(!1)).push([e.i,".stage-container {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    line-height: normal;\r\n    z-index: 1;\r\n    background: #111 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIBJREFUeNq01EsKwCAMBFBNV73/YUsLJU2ggkj90MwMzE4eEoxZVdObbN2tW1rLZT1HB4QFF5wCF5wCuyks2C8tLNjHLSy4fi1weIaH4BEehns4BP7CYXCLQ+Eah8MFp8AWzdWXC4Wth7Bg6y0seGX9f8MzPASP8DDcwyGw5xFgACKHOSst2JgZAAAAAElFTkSuQmCC');\r\n}\r\n.stage-container .stage { flex: 0 0 auto; position: relative; overflow: visible;  z-index: 1; background-size: contain; background-position: center center; background-repeat: no-repeat; }\r\n.stage-container .stage > * { height: 100%; width: 100%; background: rgba(0, 0, 0, 0.5); }\r\n.stage-container .stage-view-container { position: absolute; top: 10px; right: 10px; z-index: 10002; display: flex; }",""]),e.exports=t},478:function(e,t,n){var r=n(479);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},479:function(e,t,n){(t=n(30)(!1)).push([e.i,'.asset-list-wrapper { flex: 1 1 auto; height: 100%; overflow: hidden; }\r\n\r\n.asset-list { height: 100%; display: flex; flex-direction: column; }\r\n/*\r\n.asset-list > .layer-list-layers { margin: 0px 1px 5px 5px; overflow-y: auto; }\r\n.asset-list > .layer-list-layers > .layer { background: #ffffff10; }\r\n.asset-list > .layer-list-layers > .layer[isselected="true"] { background: #137cbd80; }\r\n.asset-list > .layer-list-layers > .layer > .effect { font-size: 0.9em !important; padding-left: 20px; background: #00000020; }\r\n.asset-list > .layer-list-layers > .layer > .effect .bp3-button { font-size: inherit; min-height: 20px; }\r\n.asset-list > .layer-list-layers > .layer > .effect .label { flex: 1 1 100%; align-self: center; padding: 0 5px; }\r\n.asset-label { display: flex; justify-content: space-between; align-items: center; }\r\n.asset-label .buttons { display: flex; }\r\n.asset-label .buttons a { padding: 0; min-height: 20px; min-width: 20px; margin-left: 5px; }\r\n.asset-label .buttons a.hideable { display: none; }\r\n.asset-label:hover .buttons a.hideable { display: block; }\r\n.asset-label .buttons .bp3-editable-text:hover { cursor: default; }\r\n.asset-label .buttons .bp3-editable-text:hover::before { content: none; }\r\n.asset-label .buttons a .bp3-icon:first-child:last-child, .layer-label a .bp3-spinner + .bp3-icon:last-child { margin: 2px; }\r\n*/\r\n',""]),e.exports=t},480:function(e,t,n){var r=n(481);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},481:function(e,t,n){(t=n(30)(!1)).push([e.i,".script-list { padding: 5px 0; }\r\n.script-list .script-list-item { display: flex; align-items: center; }\r\n.script-list .script-list-item .bp3-icon { padding: 0 5px; }\r\n.script-list .script-list-item .label { flex: 1 1 100%; text-align: left; padding: 6px 5px; }\r\n.script-list .script-list-item .label .label-editor { width: 100%; display: inline-block; }\r\n.script-list .script-list-item .label input { height: 25px; min-height: 0; }",""]),e.exports=t},482:function(e,t,n){var r=n(483);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},483:function(e,t,n){(t=n(30)(!1)).push([e.i,".script-settings-panel { padding: 5px; }\r\n.script-settings-panel .configuration-form { padding: 5px 0; }",""]),e.exports=t},484:function(e,t,n){var r=n(485);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},485:function(e,t,n){(t=n(30)(!1)).push([e.i,".layout-changer { width: 100%; height: 100%; display: flex; flex-direction: row; overflow: hidden; user-select: none; position: relative; }\r\n\r\n.layout-changer .script-wrapper {  }\r\n.layout-changer .panel-bg { background: #293742; }\r\n\r\n.layout-changer .app-toaster { position: absolute !important; }\r\n.layout-changer .bottom-bar { padding: 5px 0; flex: 0 0 auto; overflow: hidden; display: flex; flex-direction: column; height: 100%; }\r\n.layout-changer .bottom-bar .center-buttons { display: flex; flex-direction: row; justify-content: center; margin: 5px 0; }\r\n.layout-changer .bottom-bar .center-buttons > * { margin-right: 5px; }\r\n.layout-changer .bottom-bar .center-buttons > *:last-child { margin-right: 0; }\r\n.layout-changer .bottom-bar .bottom-tabs .bp3-tab-panel { margin-top: 5px; }\r\n.layout-changer .leftpanel-wrapper {  z-index: 3; height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .rightpanel-wrapper { z-index: 3; height: 100%; display: flex; flex-direction: column; justify-content: flex-start; overflow-y: auto; overflow-x: hidden; }\r\n\r\n.layout-changer .lists-wrapper { height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .lists-panel { flex: 1 1 auto; margin-bottom: 1px; background: #00000040; overflow: hidden; }\r\n\r\n.layout-changer .lists-panel .main-list { flex: 1 1 auto; height: 100%; height: 100%; display: flex; flex-direction: column; }\r\n.layout-changer .lists-panel .main-list > .actions { padding: 10px; border-bottom: 1px solid #ffffff20; display: flex; }\r\n.layout-changer .lists-panel .main-list > .actions .bp3-divider { border-color: #ffffff20; }\r\n.layout-changer .lists-panel .main-list > .actions .right { flex: 1 1 auto; text-align: right; }\r\n.layout-changer .lists-panel .main-list > .list-items { margin: 0px 1px 5px 0; flex: 1 1 auto; overflow-y: auto; }\r\n\r\n.layout-changer .center-wrapper { display: flex; flex-direction: column; flex: 1 1 auto; overflow: hidden; }\r\n.layout-changer .center-wrapper .stage-wrapper { flex: 1 1 auto; flex-direction:column; position: relative; }\r\n.layout-changer .center-wrapper .bottom-panel-wrapper { height: 100%; }\r\n\r\n.layout-changer .stage-wrapper .toolbar-wrapper { margin-top: -30px; width: 100%; display: flex; justify-content: center; }\r\n.layout-changer .stage-wrapper .toolbar-wrapper > * { margin-top: 30px; z-index: 2; height: 30px; }\r\n\r\n.layout-changer .animations-toggle { position: relative; overflow: visible; }\r\n.layout-changer .animations-toggle .inner { position: absolute; left: 0; bottom: 0; width: 100%; display: flex; justify-content: center; z-index:10; height: 0; }\r\n.layout-changer .animations-toggle .inner .bp3-button { margin-top: -2.5em; }\r\n\r\n/* disable focus outlines */\r\n.layout-changer *:focus { outline: none; }\r\n\r\n/* should probably go somewhere else */\r\n.toolbar .bp3-button { border-radius: 0 !important; }",""]),e.exports=t},486:function(e,t,n){var r=n(487);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(31)(r,a);r.locals&&(e.exports=r.locals)},487:function(e,t,n){(t=n(30)(!1)).push([e.i,'/* reusable styles for the editor */\r\n.normal-tabs { height: 100%; display: flex; flex-direction: column; overflow: hidden; }\r\n.normal-tabs .bp3-tab-list { }\r\n.normal-tabs .bp3-tab-list .bp3-tab { padding: 0 5px 2px 5px; margin-right: 0; color: #ffffff80;  }\r\n.normal-tabs .bp3-tab-list .bp3-tab .bp3-icon { padding: 0 1px 0 5px }\r\n.normal-tabs .bp3-tab-list .bp3-tab .title { padding: 0 5px; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:not([aria-selected="true"]) button { visibility: hidden; }\r\n.normal-tabs .bp3-tab-list .bp3-tab button { min-height: 20px; height: 20px; vertical-align: text-top; }\r\n.normal-tabs .bp3-tab-list .bp3-tab button:hover { background: none !important; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:hover button { visibility: visible; }\r\n.normal-tabs .bp3-tab-list .bp3-tab[aria-selected="true"] { color: #ffffff; background-color: #00000040; }\r\n.normal-tabs .bp3-tab-list .bp3-tab:not([aria-disabled="true"]):hover { color: inherit; }\r\n.normal-tabs .bp3-tab-panel { margin-top: 0; background-color: #00000040; flex: 1 1 auto; overflow: auto; }',""]),e.exports=t},491:function(e,t,n){"use strict";n.r(t);var r,a,i=n(0),o=n.n(i),l=n(78),c=n.n(l),s=n(251),u=n.n(s),f=n(12),p=n.n(f),d=n(1),m=n.n(d),y=n(22),h=n.n(y),g=n(4),b=n.n(g),v=n(5),w=n.n(v),x=/.*(?:www\.youtube\.com\/(?:(?:watch\?v=)|(?:embed\/))|(?:youtu\.be\/))([a-z0-9\-]+)(?:\?(?:(?:t)|(?:start))=(\d+))?/i,S=[{match:function(e){return e.match(/image/i)},assetType:"image",getLayer:function(e){return{elementName:"image",config:{url:e}}},getNaturalDimensions:(a=h()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=new Image;r.addEventListener("load",(function(){e({width:r.naturalWidth,height:r.naturalHeight})})),r.src=t,setTimeout(n,500)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{match:function(e,t){return e.match(/video/i)||e.match(/text\/html/i)&&t&&t.match(x)},assetType:"video",getLayer:function(e){return{elementName:"video",config:{url:e}}},getNaturalDimensions:(r=h()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.match(x)){e.next=3;break}return e.abrupt("return",{width:1280,height:720});case 3:return e.next=5,new Promise((function(e,n){var r=document.createElement("video");r.addEventListener("loadeddata",(function(){e({width:r.videoWidth,height:r.videoHeight})}));var a=document.createElement("source");a.src=t,r.appendChild(a),setTimeout(n,500)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{match:function(e){return e.match(/audio/i)},assetType:"audio",getLayer:function(e){return{elementName:"audio",config:{url:e}}}},{match:function(e){return e.match(/text\/javascript/i)},assetType:"script"},{match:function(e){return e.match(/text\/html/i)},assetType:"html",getLayer:function(e){return{elementName:"iframe",config:{url:e}}}}];function O(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var C="__undo",j="__redo",A=function(e,t,n,r){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),i=[],o={pointer:0,history:[]},l=function(e,t){var r=n(e,t);if(!r)return null;if(o.pointer>0){var a=o.history.length-o.pointer;o.history.splice(a,o.pointer),o.pointer=0}o.history.length>40&&o.history.splice(0,1),o.history.push(r)},c=function(e){if(0!=o.history.length){var t=o.pointer+(e?-1:1);if(console.log({newUndoPointer:t,len:o.history.length}),!(t>o.history.length-1||t<0)){o.pointer=t;var n=o.history[o.history.length-1-t];r(a,n)}}};return{_state:a,select:function(e){return e.map((function(e){return e(a)}))},subscribe:function(e){i.push(e)},unsubscribe:function(e){i=i.filter((function(t){return t!=e}))},dispatch:function e(n,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n==C)c(!1);else if(n==j)c(!0);else{var s=t[n];if(!s)return void console.log("Unknown reducer method:"+n);var u=s(a,r);if(!u)return;if("function"==typeof u)return void u(e);o&&l(a,u),a=Object.assign(a,u)}var f,p=O(i);try{for(p.s();!(f=p.n()).done;){var d=f.value;d()}}catch(e){p.e(e)}finally{p.f()}}}},N=n(18),L=n(3),P=n(7),T=n(9),I="design",D="animate",M=n(13),z=n(8),F=n.n(z),B=n(252),R=n.n(B);function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={GLOBAL:[{key:"z",ctrl:!0,action:function(e){return e(C)}},{key:"y",ctrl:!0,action:function(e){return e(j)}},{key:"0",ctrl:!0,action:function(e){return e("ResetStageZoom")}}],LAYERS:[{key:"a",ctrl:!0,action:function(e){return e("SelectAllLayers")}},{key:"r",ctrl:!1,action:function(e){return e("ResetSelectedLayers")}},{key:"[",ctrl:!1,action:function(e){return e("RaiseSelectedLayers",!1)}},{key:"[",ctrl:!0,action:function(e){return e("RaiseSelectedLayers",!0)}},{key:"]",ctrl:!1,action:function(e){return e("LowerSelectedLayers",!1)}},{key:"]",ctrl:!0,action:function(e){return e("LowerSelectedLayers",!0)}},{key:"Tab",shift:!1,action:function(e){return e("SelectNextLayer",!1)}},{key:"Tab",shift:!0,action:function(e){return e("SelectNextLayer",!0)}},{key:"Delete",action:function(e){return e("DeleteSelection")}},{key:"c",ctrl:!0,action:function(e){return e("CopySelectedLayersToClipboard")}}],MOVE_AND_RESIZE:[{key:"c",ctrl:!1,action:function(e,t){return e("CenterSelectedLayers",t.current)}},{key:"f",ctrl:!1,action:function(e,t){return e("FullscreenSelectedLayers",t.current)}},{key:"+",shift:!1,action:function(e,t){return e("ScaleSelectedLayers",V(V({},t.current),{},{direction:"up",precise:!1}))}},{key:"+",shift:!0,action:function(e,t){return e("ScaleSelectedLayers",V(V({},t.current),{},{direction:"up",precise:!0}))}},{key:"-",shift:!1,action:function(e,t){return e("ScaleSelectedLayers",V(V({},t.current),{},{direction:"down",precise:!1}))}},{key:"-",shift:!0,action:function(e,t){return e("ScaleSelectedLayers",V(V({},t.current),{},{direction:"down",precise:!0}))}},{key:"ArrowRight",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"right",toEdge:!0,precise:!1}))}},{key:"ArrowRight",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"right",toEdge:!1,precise:!0}))}},{key:"ArrowRight",action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"right",toEdge:!1,precise:!1}))}},{key:"ArrowLeft",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"left",toEdge:!0,precise:!1}))}},{key:"ArrowLeft",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"left",toEdge:!1,precise:!0}))}},{key:"ArrowLeft",action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"left",toEdge:!1,precise:!1}))}},{key:"ArrowUp",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"up",toEdge:!0,precise:!1}))}},{key:"ArrowUp",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"up",toEdge:!1,precise:!0}))}},{key:"ArrowUp",action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"up",toEdge:!1,precise:!1}))}},{key:"ArrowDown",ctrl:!0,action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"down",toEdge:!0,precise:!1}))}},{key:"ArrowDown",shift:!0,action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"down",toEdge:!1,precise:!0}))}},{key:"ArrowDown",action:function(e,t){return e("NudgeSelectedLayers",V(V({},t.current),{},{direction:"down",toEdge:!1,precise:!1}))}}],ANIMATION:[{key:" ",action:function(e){return e("ToggleAnimationPlaying")}}],SCRIPT:[{key:"e",ctrl:!0,action:function(e){return e("ExecuteScript")}}]},Y=function e(t){var n=this;R()(this,e),w()(this,"_dispatch",void 0),w()(this,"_registrations",[]),w()(this,"register",(function(e,t){n._registrations.push({hotkeySet:e,context:t})})),w()(this,"unregister",(function(e){n._registrations=n._registrations.filter((function(t){return t.hotkeySet!=e}))})),w()(this,"handleKeydown",(function(e){var t=e.ctrlKey||e.metaKey,r=e.shiftKey;if("INPUT"!=e.target.tagName&&"SELECT"!=e.target.tagName&&"TEXTAREA"!=e.target.tagName){var a,i=!1,o=U(n._registrations);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(i)break;var c,s=U(l.hotkeySet);try{for(s.s();!(c=s.n()).done;){var u=c.value;if(e.key==u.key&&(t==!!u.ctrl&&r==!!u.shift)){e.preventDefault(),u.action(n._dispatch,l.context),i=!0;break}}}catch(e){s.e(e)}finally{s.f()}}}catch(e){o.e(e)}finally{o.f()}}})),w()(this,"canCleanUp",(function(){return 0==n._registrations.length})),this._dispatch=t},W=function(e,t){var n=Re();Object(i.useEffect)((function(){return window.hotkeyManager||(window.hotkeyManager=new Y(n),window.addEventListener("keydown",window.hotkeyManager.handleKeydown)),window.hotkeyManager.register(e,t),function(){window.hotkeyManager.unregister(e),window.hotkeyManager.canCleanUp()&&(window.removeEventListener("keydown",window.hotkeyManager.handleKeydown),window.hotkeyManager=null)}}),[])};n(253);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X={top:!0,left:!0,bottom:!0,right:!0},$={top:!1,left:!1,bottom:!1,right:!1},q=function(e){var t=e.containerElement,n=Re((function(e){return e.overlay.layers}),(function(e){return e.layerDomElements}),(function(e){return e.animationContext}),(function(e){return e.selectedLayerIds}),(function(e){return e.stageTransform})),r=b()(n,2),a=b()(r[0],5),l=a[0],c=a[1],s=a[2],u=a[3],f=a[4],p=r[1],d=Object(i.useState)(),y=b()(d,2),h=y[0],g=y[1],v=Object(i.useMemo)((function(){return function(e,t,n){return e.reduce((function(e,t){if(!t.style)return e;if(null==t.style.width||null==t.style.height)return e;var n={layerid:t.id,top:Object(L.e)(t.style.top),left:Object(L.e)(t.style.left),height:Object(L.e)(t.style.height),width:Object(L.e)(t.style.width)};return n.bottom=n.top+n.height,n.right=n.left+n.width,e.push(n),e}),[])}(l)}),[l,c,s]),x=Object(i.useMemo)((function(){return function(e,t){var n=e.reduce((function(e,n){return t.includes(n.layerid)&&(e.rects.push(n),n.top<e.boundingBox.top&&(e.boundingBox.top=n.top),n.left<e.boundingBox.left&&(e.boundingBox.left=n.left),n.bottom>e.boundingBox.bottom&&(e.boundingBox.bottom=n.bottom),n.right>e.boundingBox.right&&(e.boundingBox.right=n.right)),e}),{selectedLayerIds:t,rects:[],boundingBox:{top:Number.MAX_SAFE_INTEGER,left:Number.MAX_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER,right:Number.MIN_SAFE_INTEGER}});return n.rects.length>0&&(n.boundingBox.width=n.boundingBox.right-n.boundingBox.left,n.boundingBox.height=n.boundingBox.bottom-n.boundingBox.top),n}(v,u)}),[v,u]),S=Object(i.useRef)();Object(i.useEffect)((function(){S.current={selectableRects:v,selection:x,stageTransform:f}}),[v,x,f]);var O=Object(i.useRef)();Object(i.useEffect)((function(){O.current=x}),[x]),W(H.MOVE_AND_RESIZE,O);var E=Object(i.useCallback)((function(e,t){var n=S.current,r=n.selectableRects,a=n.selection,i=e.left,o=e.top,l=e.width,c=e.height,s=e.left+e.width,f=e.top+e.height;if(0==l||0==c){var p=r.reduce((function(e,t){return o>t.top&&i>t.left&&o<t.bottom&&i<t.right&&e.push(t.layerid),e}),[]);if(0==p.length)return[];if(0==a.selectedLayerIds.length)return[p[0]];if(t)return u.includes(p[0])?u.filter((function(e){return e!=p[0]})):[].concat(m()(a.selectedLayerIds),[p[0]]);var d=p.findIndex((function(e){return a.selectedLayerIds.includes(e)}));return-1==d?[p[0]]:(d=(d+1)%p.length,[p[d]])}var y=r.reduce((function(e,t){return o<t.top&&i<t.left&&f>t.bottom&&s>t.right&&e.push(t.layerid),e}),[]);if(t){var h,g=m()(a.selectedLayerIds),b=_(y);try{for(b.s();!(h=b.n()).done;){var v=h.value;g.contains(v)||g.push(v)}}catch(e){b.e(e)}finally{b.f()}return g}return y}),[]),k=Object(i.useCallback)((function(e){if(1==e.buttons){var n,r=e.target.getAttribute("data-edge");if(n=r?"center"==r?X:{top:"nw"==r||"n"==r||"ne"==r,left:"nw"==r||"w"==r||"sw"==r,right:"ne"==r||"e"==r||"se"==r,bottom:"sw"==r||"s"==r||"se"==r}:$){var a=S.current,i=t.getBoundingClientRect(),o=a.selection.boundingBox,l=a.selection.rects,c=function(e){return Object(L.a)(i,a.stageTransform,e)},s=function(e,t){var n=e.width/o.width,r=e.height/o.height;p("UpdateSelectionStyle",(function(t){var a=l.find((function(e){return e.layerid==t.id}));return{top:e.top+(a.top-o.top)*r+"px",left:e.left+(a.left-o.left)*n+"px",width:a.width*n,height:a.height*r}}),t)};t.style.cursor=e.target.getAttribute("data-cursor");var u,f={top:e.clientY-i.top,left:e.clientX-i.left,height:0,width:0},d=u=r?Object(L.g)(i,a.stageTransform,{top:o.top,left:o.left,height:o.height,width:o.width}):{top:f.top,left:f.left,height:0,width:0},m=function(e){var t=e.clientY-i.top,r=e.clientX-i.left-f.left,a=t-f.top,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u);if(n==$)a<0&&(o.top=f.top+a,a*=-1),r<0&&(o.left=f.left+r,r*=-1),o.height=a,o.width=r;else if(n==X)e.ctrlKey?Math.abs(r/a)>1?o.left+=r:o.top+=a:(o.left+=r,o.top+=a);else if(n){var l,p=-o.height/o.width,m=e.ctrlKey;if((n.top||n.bottom)&&(n.left||n.right)&&m)l=n.bottom?n.left?(-o.height-a)/(o.width-r):(-o.height-a)/(-o.width-r):n.left?(o.height-a)/(o.width-r):(o.height-a)/(-o.width-r),n.top&&n.left||n.bottom&&n.right?l<-p?a=r*-p:r=a/-p:l>p?a=r*p:r=a/p;n.top&&(o.height-a<0?(o.top=o.top+o.height-1,o.height=1):(o.top+=a,o.height=o.height-a)),n.bottom&&(o.height=Math.max(1,o.height+a)),n.left&&(o.width-r<0?(o.left=o.left+o.width,o.width=1):(o.left+=r,o.width=o.width-r)),n.right&&(o.width=Math.max(1,o.width+r))}if(d=o,n!=$){var y=c(o);s(y,!1)}else g(o)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",(function e(r){if(t.style.cursor="",window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",e),d==u){var a=E(c(f),r.ctrlKey);p("SelectLayers",a)}else if(n==$){var i=E(c(d),r.ctrlKey);p("SelectLayers",i),g(null)}else s(c(d),!0)}))}}}),[]);Object(i.useEffect)((function(){return t.addEventListener("mousedown",k),function(){return t.removeEventListener("mousedown",k)}}),[]);var C=[],j=t.getBoundingClientRect();if(x.boundingBox){var A=Object(L.g)(j,f,x.boundingBox),N={top:A.top+"px",left:A.left+"px",width:A.width+"px",height:A.height+"px"};C.push(o.a.createElement("div",{className:"resizer-selector",style:N,key:"-1"},o.a.createElement("div",{className:"resize-handle resize-handle-nw","data-edge":"nw"}),o.a.createElement("div",{className:"resize-handle resize-handle-n","data-edge":"n"}),o.a.createElement("div",{className:"resize-handle resize-handle-ne","data-edge":"ne"}),o.a.createElement("div",{className:"resize-handle resize-handle-e","data-edge":"e"}),o.a.createElement("div",{className:"resize-handle resize-handle-se","data-edge":"se"}),o.a.createElement("div",{className:"resize-handle resize-handle-s","data-edge":"s"}),o.a.createElement("div",{className:"resize-handle resize-handle-sw","data-edge":"sw"}),o.a.createElement("div",{className:"resize-handle resize-handle-w","data-edge":"w"}),o.a.createElement("div",{className:"resize-handle resize-handle-center","data-edge":"center"})))}var P,T=_(x.rects);try{for(T.s();!(P=T.n()).done;){var I=P.value,D=Object(L.g)(j,f,I),M={top:D.top+"px",left:D.left+"px",width:D.width+"px",height:D.height+"px"};C.push(o.a.createElement("div",{className:"resizer-subrect",style:M,key:I.layerid}))}}catch(e){T.e(e)}finally{T.f()}return o.a.createElement(o.a.Fragment,null,h?o.a.createElement("div",{className:"resizer-selector-box",key:"selector-box",style:h}):null,C)},Q=function(e){var t=Object(i.useRef)(),n=Object(i.useState)(),r=b()(n,2),a=r[0],l=r[1];return Object(i.useEffect)((function(){l(t.current)}),[]),o.a.createElement("div",{className:"move-and-resize-tool",ref:t},t.current?o.a.createElement(q,F()({containerElement:a},e)):null)},ee=(n(255),function(e){var t,n=e.elementName,r=Re((function(e){return e.stageTransform})),a=b()(r,2),l=b()(a[0],1)[0],c=a[1],s=Object(i.useRef)(),u=Object(i.useState)(),f=b()(u,2),p=f[0],d=f[1],m=Object(i.useCallback)((function(e){c("CreateLayers",[{elementName:n,style:{top:e.top+"px",left:e.left+"px",height:e.height+"px",width:e.width+"px"}}]),c("SetStageTool",te.moveAndResize)}),[]),y=Object(i.useCallback)((function(e,t){if(1==e.buttons){var n=s.current.getBoundingClientRect(),r={top:e.clientY-n.top,left:e.clientX-n.left,height:0,width:0},a=r,i=function(e){var t=e.clientX-n.left-r.left,i=e.clientY-n.top-r.top;a={top:i<0?r.top+i:r.top,left:t<0?r.left+t:r.left,height:Math.abs(i),width:Math.abs(t)},d(a)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",(function e(r){var o;d(null),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",e),a.height>0&&a.width>0&&m((o=a,Object(L.a)(n,t,o)))}))}}),[]),h=Object(i.useCallback)((function(e){y(e,l)}),[l]);return p&&(t=o.a.createElement("div",{className:"selector-box",style:p})),o.a.createElement("div",{className:"size-and-position-capture-tool",onMouseDown:h,ref:s},t)}),te={moveAndResize:{displayName:"Move And Resize",icon:"select",component:Q},text:{displayName:"Text",icon:"new-text-box",component:function(e){return React.createElement(ee,F()({},e,{elementName:"text"}))}},rectangle:{displayName:"Rectangle",icon:"square",component:function(e){return React.createElement(ee,F()({},e,{elementName:"rectangle"}))}},image:{displayName:"Image",icon:"media",component:function(e){return React.createElement(ee,F()({},e,{elementName:"image"}))}},video:{displayName:"Video",icon:"video",component:function(e){return React.createElement(ee,F()({},e,{elementName:"video"}))}},iframe:{displayName:"Iframe",icon:"globe-network",component:function(e){return React.createElement(ee,F()({},e,{elementName:"iframe"}))}},knockout:{displayName:"Knockout",icon:"heat-grid",component:function(e){return React.createElement(ee,F()({},e,{elementName:"knockout"}))}}},ne=(te.text,te.rectangle,te.image,te.video,te.iframe,te.knockout,n(61)),re={fadein:{displayName:"Fade In",create:function(e){return{phase:"entry",preset:"fade",config:{from:0,to:100}}}},fadeout:{displayName:"Fade Out",create:function(e){return{phase:"exit",preset:"fade",config:{from:100,to:0}}}},slidedown:{displayName:"Slide Down",create:function(e){return{phase:"entry",preset:"slide",config:{absolute:!1,fromLeft:0,fromTop:-1080,toLeft:0,toTop:0}}}},slideup:{displayName:"Slide Up",create:function(e){return{phase:"exit",preset:"slide",config:{absolute:!1,fromLeft:0,fromTop:0,toLeft:0,toTop:-1080}}}}},ae={entry:[re.fadein,re.slidedown],exit:[re.fadeout,re.slideup]},ie=(n(257),n(21));function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue={isStartEnd:!0,offset:0},fe={isStartEnd:!0,offset:1},pe=function(e){var t=e.keyframe,n=e.offset,r=e.prevOffset,a=e.onMouseDown,l=Object(i.useCallback)((function(e){if(1==(1&e.buttons)&&a){var n=e.target.classList.contains("keyframe-handle");a(e,t,n)}}),[a,t]);return o.a.createElement("div",{className:"keyframe-handle",style:{left:100*r+"%",width:100*(n-r)+"%"},onMouseDown:l},o.a.createElement(ne.Icon,{icon:t.isStartEnd?"symbol-square":"symbol-diamond"}))},de=function(e){var t=e.animationContext,n=e.timelineDuration,r=e.onChangeOffset,a=e.onGetClipOffsets,l=e.showCaret,c=void 0!==l&&l,s=Object(i.useRef)(),u=Object(i.useRef)(),f=Object(i.useCallback)((function(e){var i=s.current.getBoundingClientRect(),o=a(),l=.01*n,c=function(e){return Math.max(0,Math.min(1,(e.clientX-i.left)/i.width))*t.duration};r(c(e));var u=function(e){var t=c(e);if(!e.ctrlKey){var n,a=ce(o);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(Math.abs(i-t)<l){t=i;break}}}catch(e){a.e(e)}finally{a.f()}}r(t)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",(function e(t){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",e)}))}),[t,n,a]);Object(i.useEffect)((function(){if(c&&t.phase!=P.a.STATIC){var e,r=t.state==T.a.PLAYING,a=ce(u.current.getAnimations());try{for(a.s();!(e=a.n()).done;){e.value.cancel()}}catch(e){a.e(e)}finally{a.f()}var i=u.current.animate([{offset:0,left:0},{offset:1,left:"100%"}],{delay:r?0:1-t.offset,duration:n});r?i.play():i.pause()}}),[c,t,n]);var p,d=Object(i.useMemo)((function(){for(var e=n,t=Math.pow(10,parseInt(Math.log10(e))),r=[],a=0;a<e;){var i=a+t>e?e-a:t;a+=i;var l=i/e*100;r.push(o.a.createElement("label",{key:a,style:{width:l+"%"}},a,"ms"))}return r}),[n]);return c&&(p=o.a.createElement("div",{className:"caret",ref:u},o.a.createElement(ne.Icon,{icon:"caret-down"}))),o.a.createElement("div",{className:"scrubber",onMouseDown:f,ref:s},p,d)},me=function(e){var t=e.animation,n=e.selected,r=e.timelineDuration,a=e.dispatch,l=Object(i.useState)(),c=b()(l,2),s=c[0],u=c[1],f=Object(i.useCallback)((function(){a("DeleteAnimation",t.id)}),[t]),p=Object(i.useCallback)((function(e,n,i){var o=e.ctrlKey,l=e.target.closest(".timeline").getBoundingClientRect(),c=e.clientX,s=t,f=function(e){var a,f,p=(e.clientX-c)/l.width*r;i?a=Math.min(r-t.duration,Math.max(0,t.delay+p)):0!=n.offset||o?1!=n.offset||o||(f=Math.min(r-t.delay,Math.max(1,t.duration+p))):(a=Math.min(t.delay+t.duration-1,Math.max(0,t.delay+p)),f=t.duration-(a-t.delay)),s=le(le({},t),{},{delay:null!=a?a:t.delay,duration:null!=f?f:t.duration}),u(s)};window.addEventListener("mousemove",f),window.addEventListener("mouseup",(function e(n){t==s&&a("SelectAnimation",{id:t.id,additive:n.ctrlKey}),a("UpdateAnimation",s),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",e),u(null)}))}),[r,t]);s&&(t=s);var d=[];if(t.preset){var m=t.delay/r,y=(t.delay+t.duration)/r;d.push(o.a.createElement(pe,{key:"start",keyframe:ue,offset:m,prevOffset:m,onMouseDown:p})),d.push(o.a.createElement(pe,{key:"end",keyframe:fe,offset:y,prevOffset:m,onMouseDown:p}))}var h=t.preset?ie.a[t.preset].displayName:null;return o.a.createElement("div",{className:"animation-row",isselected:n.toString()},o.a.createElement("div",{className:"animation-name label-width"},o.a.createElement(ne.Button,{minimal:!0,icon:"trash",onClick:f}),o.a.createElement(ne.Tag,null,h)),o.a.createElement("div",{className:"timeline"},d))},ye=function(e){var t,n=e.phaseKey,r=e.layer,a=e.dispatch,l=e.children,c=Object(i.useState)(!1),s=b()(c,2),u=s[0],f=s[1],p=Object(i.useCallback)((function(e){f(e)}),[]),d=Object(i.useCallback)((function(e){var t=e.create(r);a("CreateAnimation",{layerid:r.id,animation:t})}),[r]);return u&&(t=o.a.createElement(ne.Menu,null,ae[n].map((function(e){return o.a.createElement(ne.MenuItem,{key:e.displayName,text:e.displayName,onClick:function(){return d(e)}})})))),o.a.createElement(ne.Popover,{position:"top",boundary:"window",isOpen:u,onInteraction:p},l,t)},he=function(e){var t,n=e.phaseKey,r=e.timelineDuration,a=e.layer,i=e.animations,l=e.selectedAnimations,c=e.dispatch;return a.animations&&i&&(t=i.filter((function(e){return e.phase==n&&a.animations.includes(e.id)})).map((function(e){return o.a.createElement(me,{key:e.id,animation:e,selected:l.includes(e.id),timelineDuration:r,dispatch:c})}))),o.a.createElement("div",{className:"phase-layer"},o.a.createElement("div",{className:"layer-name-row"},o.a.createElement("div",{className:"label-width"},o.a.createElement("label",null,a.label),o.a.createElement(ye,{phaseKey:n,layer:a,dispatch:c},o.a.createElement(ne.Tooltip,{position:"top",content:"New Animation"},o.a.createElement(ne.Button,{icon:"plus",small:!0,minimal:!0}))))),t)},ge=function(){var e=Re((function(e){return e.selectedLayerIds}),(function(e){return e.selectedAnimations}),(function(e){return e.overlay.layers}),(function(e){return e.overlay.animations}),(function(e){return e.animationContext})),t=b()(e,2),n=b()(t[0],5),r=n[0],a=n[1],l=n[2],c=n[3],s=n[4],u=t[1],f=Object(i.useState)(P.a.ENTRY),p=b()(f,2),d=p[0],m=p[1],y=Object(i.useState)(500),h=b()(y,2),g=h[0],v=h[1];W(H.ANIMATION);var w=Object(i.useState)(!0),x=b()(w,2),S=x[0],O=x[1],E=Object(i.useCallback)((function(e){var t=e.deltaY;v((function(e){return Math.max(0,e+t)}))}),[]),k=Object(i.useCallback)((function(){u("ToggleAnimationPlaying",{phase:d,duration:g})}),[d,g]),C=Object(i.useCallback)((function(e){console.log(" pp key down",{key:e.key})," "!=e.key&&"Enter"!=e.key||(e.stopPropagation(),e.preventDefault())}),[]),j=Object(i.useCallback)((function(e){e=parseInt(Math.round(e)),u("SetAnimationContext",{offset:e})}),[]),A=Object(i.useCallback)((function(){return[]}),[l,s.phase.key]),N=S?l:l.filter((function(e){return r.includes(e.id)}));return o.a.createElement("div",{className:"animation-panel",onWheel:E},o.a.createElement("div",{className:"phase-layers"},o.a.createElement("div",{className:"phase-header"},o.a.createElement(ne.ButtonGroup,null,o.a.createElement(ne.Button,{key:"entry",text:P.a.ENTRY.displayName,active:d==P.a.ENTRY,onClick:function(){return m(P.a.ENTRY)}}),o.a.createElement(ne.Button,{key:"exit",text:P.a.EXIT.displayName,active:d==P.a.EXIT,onClick:function(){return m(P.a.EXIT)}})),o.a.createElement("div",{className:"timing"},o.a.createElement(ne.Button,{minimal:!0,tabIndex:-1,icon:s.state==T.a.PLAYING?"pause":"play",onClick:k,onKeyDown:C})),o.a.createElement(ne.Tooltip,{content:S?"Showing selected & unselected layers":"Showing selected layers only"},o.a.createElement(ne.Button,{icon:"eye-open",active:S,onClick:function(e){return O(!S)}}))),o.a.createElement("div",{className:"scrubber-row"},o.a.createElement("div",{className:"label-width"}),o.a.createElement(de,{showCaret:s.state==T.a.PLAYING,timelineDuration:g,animationContext:s,onChangeOffset:j,onGetClipOffsets:A})),o.a.createElement("div",{className:"scroll-body"},N.map((function(e){return o.a.createElement(he,{key:e.id,phaseKey:d.key,animationContext:s,timelineDuration:g,layer:e,animations:c,selectedAnimations:a,dispatch:u})})))))},be=(n(289),function(){Re();return o.a.createElement("div",{className:"console-wrapper"},"console")}),ve=n(291),we=n.n(ve),xe=n(292),Se=(n(293),n(294),n(295),{animation:{key:function(){return"animation"},icon:function(){return"walk"},title:function(){return"Animation"},component:ge},console:{key:function(){return"console"},icon:function(){return"console"},title:function(){return"Console"},component:be},script:{key:function(e){return e.scriptKey},icon:function(e){switch(e.scriptKey){case"main.js":return"document-share";case"settings.json":return"cog";default:return"document"}},title:function(e){return e.scriptKey},component:function(e){e.editorKey;var t=e.scriptKey,n=Re((function(e){return e.overlay.scripts?e.overlay.scripts[t]:null})),r=b()(n,2),a=b()(r[0],1)[0],l=r[1],c=Object(i.useCallback)((function(e){l("UpdateScript",{scriptKey:t,content:e})}),[]),s=Object(i.useCallback)((function(e){"Enter"==e.key&&(e.target.closest(".script-wrapper").scrollLeft=0),"e"==e.key&&e.ctrlKey&&(l("ExecuteScript"),e.preventDefault())}),[]);return W(H.SCRIPT),null==a?null:o.a.createElement("div",{className:"script-wrapper"},o.a.createElement(we.a,{value:a,onValueChange:c,onKeyDown:s,highlight:function(e){return Object(xe.highlight)(e,xe.languages.javascript)},padding:5,className:"editor-wrapper"}))}}});function Oe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=o.a.createContext();function Ae(e,t){if(!t)return null;var n=t(e.overlay);if(!n)return null;var r=Ce(Ce({},e.overlay),n);return e.onOverlayChanged&&e.onOverlayChanged(r,e.overlay),{overlay:r}}function Ne(e,t,n){return Ae(e,(function(e){return{layers:e.layers.map((function(e){if(e.id!=t)return e;var r=n(e);return r?Ce(Ce({},e),r):e}))}}))}function Le(e,t,n){return Ae(e,(function(e){return{layers:e.layers.map((function(e){if(!t.includes(e.id))return e;var r=n(e);return r?Ce(Ce({},e),r):e}))}}))}function Pe(e,t){var n=Object(L.f)(t);return Le(e,e.selectedLayerIds,(function(e){var t=n(e);if(!t)return null;for(var r=Ce({},e.style),a=0,i=Object.entries(t);a<i.length;a++){var o=b()(i[a],2),l=o[0],c=o[1];"DELETE"===c?delete r[l]:c&&(r[l]=c)}return{style:r}}))}function Te(e,t,n){var r=e.findIndex((function(e){return e.id==t})),a=e.splice(r,1)[0];n>r&&n--,e.splice(n,0,a)}function Ie(e){return De.apply(this,arguments)}function De(){return(De=h()(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith("http")){e.next=2;break}return e.abrupt("return","text/plain");case 2:if(!/\.png/.test(t)){e.next=6;break}return e.abrupt("return","image/png");case 6:if(!/\.jpe?g$/i.test(t)){e.next=10;break}return e.abrupt("return","image/jpeg");case 10:if(!/\.gif$/i.test(t)){e.next=14;break}return e.abrupt("return","image/gif");case 14:if(!/\.mp4$/i.test(t)){e.next=18;break}return e.abrupt("return","video/mp4");case 18:if(!/\.mov$/i.test(t)){e.next=22;break}return e.abrupt("return","video/mov");case 22:if(!/\.mkv$/i.test(t)){e.next=26;break}return e.abrupt("return","video/mkv");case 26:if(!/\.3gp$/i.test(t)){e.next=30;break}return e.abrupt("return","video/3gpp");case 30:if(!/\.ogv$/i.test(t)){e.next=34;break}return e.abrupt("return","video/ogv");case 34:if(!/\.mp3$/i.test(t)){e.next=38;break}return e.abrupt("return","audio/mpeg");case 38:if(!/\.wav$/i.test(t)){e.next=42;break}return e.abrupt("return","audio/wav");case 42:if(!/\.ogg$/i.test(t)){e.next=46;break}return e.abrupt("return","audio/ogg");case 46:if(!/\.js$/i.test(t)){e.next=48;break}return e.abrupt("return","text/javascript");case 48:return e.prev=48,e.next=51,fetch(t,{method:"HEAD",cache:"no-cache"});case 51:return n=e.sent,e.abrupt("return",n.headers.get("Content-Type"));case 55:return e.prev=55,e.t0=e.catch(48),e.abrupt("return","text/html");case 58:case"end":return e.stop()}}),e,null,[[48,55]])})))).apply(this,arguments)}function Me(e,t){return S.find((function(n){return n.match(e,t)}))}var ze={SetOptions:function(e,t){return{width:t.width||1920,height:t.height||1080,onOverlayChanged:t.onOverlayChanged,onUpload:t.onUpload,elements:t.elements||M.a}},SetOverlay:function(e,t){if(e.overlay!=t)return{overlay:t}},SetStageTool:function(e,t){return{stageTool:t,animationContext:{phase:P.a.STATIC,offset:0,state:T.a.PAUSED}}},SetStageAutoFitZoom:function(e,t){return{stageZoomSelection:Ce(Ce({},e.stageZoomSelection),{},{autoFitZoom:t}),stageTransform:Ce(Ce({},e.stageTransform),{},{zoom:e.stageZoomSelection.isAuto?t:e.stageTransform.zoom})}},SetStageZoomSelection:function(e,t){return{stageZoomSelection:t,stageTransform:Ce(Ce({},e.stageTransform),{},{zoom:t.isAuto?t.autoFitZoom:t.zoom})}},ResetStageZoom:function(e){return{stageZoomSelection:Ce(Ce({},e.stageZoomSelection),{},{isAuto:!0}),stageTransform:Ce(Ce({},e.stageTransform),{},{zoom:e.stageZoomSelection.autoFitZoom,panning:[0,0]})}},StepZoom:function(e,t){var n=t<0?e.stageTransform.zoom/(1+.1*-t):e.stageTransform.zoom*(1+.1*t);return{stageZoomSelection:Ce(Ce({},e.stageZoomSelection),{},{zoom:n,isAuto:!1}),stageTransform:Ce(Ce({},e.stageTransform),{},{zoom:n})}},SetStageTransform:function(e,t){return{stageTransform:t}},SetAnimationContext:function(e,t){var n=t.phase,r=t.offset,a=t.duration,i=t.state,o=t.timeout,l={animationContext:Ce(Ce({},e.animationContext),{},{phase:void 0===n?e.animationContext.phase:n,offset:void 0===r?e.animationContext.offset:r,duration:void 0===a?e.animationContext.duration:a,state:void 0===i?e.animationContext.state:i,timeout:void 0===o?e.animationContext.timeout:o})};return e.animationContext.timeout&&(l.animationContext.timeout=null,clearTimeout(e.animationContext.timeout)),n&&n!=e.animationContext.phase&&(l.selectedAnimations=[]),l},ToggleAnimationPlaying:function(e,t){var n=t.phase,r=t.duration;return function(t){if(e.animationContext.state==T.a.PLAYING)e.animationContext.timeout&&clearTimeout(e.animationContext.timeout),t("SetAnimationContext",{phase:P.a.STATIC,state:T.a.PAUSED,timeout:null});else{var a=setTimeout((function(){t("SetAnimationContext",{phase:P.a.STATIC,state:T.a.PAUSED,timeout:null})}),r);t("SetAnimationContext",{phase:n,offset:0,state:T.a.PLAYING,timeout:a})}}},UpdateAnimationContextDuration:function(e,t){if(e.animationContext.duration){var n=Math.max(500,e.animationContext.duration+t);return console.log({duration:n,deltaMs:t}),{animationContext:Ce(Ce({},e.animationContext),{},{duration:n})}}},SetTaskMode:function(e,t){var n={taskMode:t};if(t!=D&&e.taskMode==D)n.lastAnimationContext=e.animationContext,n.animationContext={phase:P.a.STATIC};else if(t==D&&e.taskMode!=D)if(e.lastAnimationContext)n.animationContext=e.lastAnimationContext;else{var r=500;if(e.overlay.animations){var a,i=Oe(e.overlay.animations);try{for(i.s();!(a=i.n()).done;){var o=a.value;r=Math.max(r,o.delay+o.duration)}}catch(e){i.e(e)}finally{i.f()}}n.animationContext={phase:P.a.ENTRY,offset:0,state:T.a.PAUSED,duration:r}}return n},SavePreferences:function(e,t){return{preferences:Ce(Ce({},e.preferences),t)}},SetLayerDomElement:function(e,t){var n=t.id,r=t.domElement;return r?{layerDomElements:[].concat(m()(e.layerDomElements),[{id:n,domElement:r}])}:{layerDomElements:e.layerDomElements.filter((function(e){return e.id!=n}))}},OpenEditor:function(e,t){var n=t.type,r=t.params,a={},i=Se[n].key(r);return-1==e.editors.findIndex((function(e){return e.key==i}))&&(a.editors=[].concat(m()(e.editors),[{key:i,type:n,params:r}])),a.selectedEditorTab=i,a},CloseEditor:function(e,t){var n=e.editors.findIndex((function(e){return e.key==t}));if(-1!=n){var r={};return r.editors=m()(e.editors),r.editors.splice(n,1),e.selectedEditorTab==t&&(r.editors.length>n?e.selectedEditorTab=r.editors[n].key:e.selectedEditorTab=n>0?r.editors[n-1].key:null),r}},SelectEditor:function(e,t){return{selectedEditorTab:t}},SelectPropertyTab:function(e,t){return{selectedPropertyTab:t}},CreateAsset:function(e,t){var n=t.asset,r=t.onCreated;return Ae(e,(function(e){var t="asset:"+n.name;if(e.assets)for(var a=1;null!=e.assets[t];a++)t="asset:"+n.name+"-"+a++;return r(t),{assets:Ce(Ce({},e.assets),{},w()({},t,n))}}))},DeleteAsset:function(e,t){return Ae(e,(function(e){var n=Ce({},e.assets);return delete n[t],{assets:n}}))},CreateScript:function(e,t){return function(n){if(!e.overlay.scripts||!(t&&e.overlay.scripts[t])){if(t||(t="script.js"),e.overlay.scripts){for(var r=t,a=1;null!=e.overlay.scripts[r];a++)r="(".concat(a,") ").concat(t);t=r}n("CreateScriptInternal",t)}n("OpenEditor",{type:"script",params:{scriptKey:t}})}},CreateScriptInternal:function(e,t){return Ae(e,(function(e){return{scripts:Ce(Ce({},e.scripts),{},w()({},t,""))}}))},DeleteScript:function(e,t){var n=Ae(e,(function(e){var n=Ce({},e.scripts);return delete n[t],{scripts:n}})),r=e.editors.findIndex((function(e){return"script"==e.type&&e.params.scriptKey==t}));return r>-1&&(n.editors=e.editors.filter((function(e,t){return t!=r}))),n},UpdateScript:function(e,t){var n=t.scriptKey,r=t.content;if(e.overlay.scripts)return Ae(e,(function(e){return{scripts:Ce(Ce({},e.scripts),{},w()({},n,r))}}))},ReorderScript:function(e,t){var n=t.scriptKey,r=t.newIndex;if(e.overlay.scripts)return Ae(e,(function(e){var t=e.scripts[n],a=Object.entries(e.scripts);return{scripts:a.reduce((function(e,i,o){var l=b()(i,2),c=l[0],s=l[1];return o==r&&(e[n]=t),n!=c&&(e[c]=s),o==a.length-1&&r>o&&(e[n]=t),e}),{})}}))},UpdateScriptKey:function(e,t){var n=t.scriptKey,r=t.newScriptKey;if(e.overlay.scripts&&n!=r){if(e.overlay.scripts[r])return function(e){e("ShowToast",{id:Math.random(),icon:"error",intent:"danger",message:"The specified script name is already in use.",timeout:5e3})};var a=Ae(e,(function(e){return{scripts:Object.entries(e.scripts).reduce((function(e,t){var a=b()(t,2),i=a[0],o=a[1];return i==n?e[r]=o:e[i]=o,e}),{})}})),i=e.editors.findIndex((function(e){return e.key==n&&"script"==e.type}));if(i>-1){a.editors=m()(e.editors);var o=Ce({},a.editors[i]);o.key=r,o.params=Ce(Ce({},o.params),{},{scriptKey:r}),a.editors[i]=o}return e.selectedEditorTab==n&&(a.selectedEditorTab=r),a}},ExecuteScript:function(e){return e.isExecutingScript?{isExecutingScript:!1}:{isExecutingScript:!0}},UpdateScriptSettings:function(e,t){return Ae(e,(function(e){return{settings:Ce(Ce({},e.settings),t)}}))},CreateLayers:function(e,t){var n=[],r=Ae(e,(function(r){var a,i=r.layers.map((function(e){return e.id})).reduce(L.d,1),o=m()(r.layers),l=Oe(t);try{var c=function(){var t=a.value,r=e.elements[t.elementName];if(!r)return"continue";var l,c=Ce({},t.config||{}),s=Oe(r.manifest.parameters);try{for(s.s();!(l=s.n()).done;){var u=l.value;c[u.name]||u.defaultValue&&(c[u.name]=u.defaultValue)}}catch(e){s.e(e)}finally{s.f()}var f={id:++i,elementName:t.elementName,label:t.label||r.manifest.name,config:c,effects:t.effects||(r.manifest.defaultEffects?Ce({},r.manifest.defaultEffects):null),style:Ce(Ce({},r.manifest.defaultStyle),t.styles)};t.animations&&(f.animations=t.animations);var p=f.label;p.match(/\#\d+$/)&&(p=p.substr(0,p.lastIndexOf("#")-1));for(var d=2;o.findIndex((function(e){return e.label==f.label}))>-1;d++)f.label=p+" #"+d;o.unshift(f),n.push(f.id)};for(l.s();!(a=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}return{layers:o}}));return r.selectedLayerIds=n,r},SelectLayer:function(e,t){var n=t.id,r=t.append,a=t.selectBetween;if(null!=n||0!=e.selectedLayerIds.length){var i;if(n)if(r||a)if(a)if(0==e.selectedLayerIds.length)i=[n];else{var o=e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]})),l=e.overlay.layers.findIndex((function(e){return e.id==n}));if(o>l){var c=l;l=o,o=c}i=[];for(var s=o;s<=l;s++){var u=e.overlay.layers[s];i.push(u.id)}}else(i=m()(e.selectedLayerIds)).includes(n)?i=i.filter((function(e){return e!=n})):i.push(n);else i=[n];else i=[];return{selectedLayerIds:i,selectedPropertyTab:"layer"}}},SelectLayers:function(e,t){return{selectedLayerIds:t,selectedPropertyTab:"layer"}},UpdateLayers:function(e,t){var n=t.layers;return Ae(e,(function(e){var t,r=m()(e.layers),a=Oe(n);try{var i=function(){var e=t.value,n=r.findIndex((function(t){return t.id==e.id}));if(-1==n)return"continue";r[n]=Ce(Ce({},r[n]),e)};for(a.s();!(t=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}return{layers:r}}))},DeleteLayers:function(e,t){var n=Ae(e,(function(e){return{layers:e.layers.filter((function(e){return!t.includes(e.id)}))}}));return n.selectedLayerIds=e.selectedLayerIds.filter((function(e){return!t.includes(e)})),n},ReorderLayer:function(e,t){var n=t.id,r=t.newIndex;return Ae(e,(function(e){var t=m()(e.layers);return Te(t,n,r),{layers:t}}))},DeleteSelection:function(e){if(0!=e.selectedLayerIds.length){var t=Ae(e,(function(t){return{layers:t.layers.filter((function(t){return!e.selectedLayerIds.includes(t.id)}))}}));return t.selectedLayerIds=[],t}},CopySelectedLayersToClipboard:function(e){if(0!=e.selectedLayerIds.length){var t=e.overlay.layers.filter((function(t){return e.selectedLayerIds.includes(t.id)}));Object(L.b)(JSON.stringify({objectType:"layers",data:t}))}},CenterSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox;if(0!=n.length){var a=e.width/2-(r.left+r.width/2),i=e.height/2-(r.top+r.height/2);return Pe(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t)return{top:t.top+i+"px",left:t.left+a+"px",height:t.height+"px",width:t.width+"px"}}))}},FullscreenSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox;if(0!=n.length){var a=-r.left,i=-r.top,o=e.width/r.width,l=e.height/r.height;return Pe(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t)return{top:(t.top+i)*l+"px",left:(t.left+a)*o+"px",width:t.width*o+"px",height:t.height*l+"px"}}))}},ResetSelectedLayers:function(e){if(0!=e.selectedLayerIds.length)return function(){var t=h()(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.selectedLayerIds.map((function(t){var n=e.overlay.layers.find((function(e){return e.id==t})),r=e.elements[n.elementName];return r.manifest.getNaturalDimensions?r.manifest.getNaturalDimensions(n.config,e.overlay.assets).then((function(e){return Ce({id:n.id},e)})):Promise.resolve({})})));case 2:r=t.sent,n("ResetSelectedLayers_Complete",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ResetSelectedLayers_Complete:function(e,t){return Pe(e,(function(e,n){var r=t.find((function(e){return e.id==n.id}));if(r)return{top:0,left:0,width:r.width+"px",height:r.height+"px"}}))},RaiseSelectedLayers:function(e,t){if(0!=e.selectedLayerIds.length){var n=[];e.overlay.layers.forEach((function(t,r){e.selectedLayerIds.includes(t.id)&&n.push({index:r,layer:t})}));var r=n.map((function(e){return e.index})).reduce((function(e,t){return Math.min(e,t)}),1e4);if(0!=r)return t&&(u()("topMostIndex"),r=1),Ae(e,(function(e){var t=m()(e.layers);return n.forEach((function(e,a){var i=r-1+a;Te(t,n[a].layer.id,i)})),{layers:t}}))}},LowerSelectedLayers:function(e,t){if(0!=e.selectedLayerIds.length){var n=[];e.overlay.layers.forEach((function(t,r){e.selectedLayerIds.includes(t.id)&&n.push({index:r,layer:t})}));var r=n.map((function(e){return e.index})).reduce((function(e,t){return Math.max(e,t)}),0);if(r!=e.overlay.layers.length-1)return t&&(u()("bottomMostIndex"),r=e.overlay.layers.length-2),Ae(e,(function(e){var t=m()(e.layers);return n.forEach((function(e,a){var i=r+2-a;Te(t,n[a].layer.id,i)})),{layers:t}}))}},ScaleSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox,a=t.direction,i=t.precise;if(0!=n.length){var o=i?1.1:1.2;return"down"==a&&(o=1/o),Pe(e,(function(e){var t=n.find((function(t){return t.layerid==e.id}));if(t){var a=t.top-r.top,i=t.left-r.left;return{top:t.top+a*(o-1)+"px",left:t.left+i*(o-1)+"px",width:t.width*o+"px",height:t.height*o+"px"}}}))}},NudgeSelectedLayers:function(e,t){var n=t.rects,r=t.boundingBox,a=t.direction,i=t.precise,o=t.toEdge;if(0!=n.length){var l=i?1:5;return Pe(e,(function(t){var i=n.find((function(e){return e.layerid==t.id}));if(i)switch(a){case"left":return{left:(o?i.left-r.left:i.left-l)+"px"};case"right":return{left:(o?i.left+(e.width-r.right):i.left+l)+"px"};case"up":return{top:(o?i.top-r.top:i.top-l)+"px"};case"down":return{top:(o?i.top+(e.height-r.bottom):i.top+l)+"px"}}}))}},UpdateLayerConfig:function(e,t){var n=t.id,r=t.config;return Ne(e,n,(function(e){return{config:Ce(Ce({},e.config),r)}}))},CreateLayerEffect:function(e,t){var n=t.id,r=t.effectName,a=N.b[r];if(a){var i,o={},l=Oe(a.parameters);try{for(l.s();!(i=l.n()).done;){var c=i.value;null!=c.defaultValue&&(o[c.name]=c.defaultValue)}}catch(e){l.e(e)}finally{l.f()}return Ne(e,n,(function(e){if(!e.effects||!e.effects[r])return{effects:Ce(Ce({},e.effects),{},w()({},r,o))}}))}},UpdateLayerEffect:function(e,t){var n=t.id,r=t.effectName,a=t.config;return Ne(e,n,(function(e){if(e.effects&&e.effects[r]){var t=Ce(Ce({},e.effects[r]),a);return{effects:Ce(Ce({},e.effects),{},w()({},r,t))}}}))},DeleteLayerEffect:function(e,t){var n=t.id,r=t.effectName;return Ne(e,n,(function(e){var t=Ce({},e.effects);return delete t[r],{effects:t}}))},UpdateSelectedLayersConfig:function(e,t){var n=t.config;if(0!=e.selectedLayerIds.length)return Le(e,e.selectedLayerIds,(function(e){return{config:Ce(Ce({},e.config),n)}}))},UpdateSelectedLayersEffect:function(e,t){var n=t.effectName,r=t.config;if(0!=e.selectedLayerIds.length)return Le(e,e.selectedLayerIds,(function(e){if(e.effects&&e.effects[n]){var t=Ce({},e.effects);return r?t[n]=Ce(Ce({},t[n]),r):delete t[n],{effects:t}}}))},SelectNextLayer:function(e,t){var n=[];if(0==e.selectedLayerIds.length)e.overlay.layers.length>0&&(n=[e.overlay.layers[0].id]);else{var r=(e.overlay.layers.findIndex((function(t){return t.id==e.selectedLayerIds[0]}))+e.overlay.layers.length+(t?-1:1))%e.overlay.layers.length;n=[e.overlay.layers[r].id]}return{selectedLayerIds:n}},SelectAllLayers:function(e){return{selectedLayerIds:e.overlay.layers.map((function(e){return e.id}))}},UpdateSelectionStyle:function(e,t){return Pe(e,t)},CreateAnimation:function(e,t){var n,r=t.layerid,a=t.animation;return n=e.overlay.animations?e.overlay.animations.reduce((function(e,t){return t.id>e&&(e=t.id),e}),1):0,a=Ce({id:n+1,delay:0,duration:500},a),Ae(e,(function(e){var t=e.animations?m()(e.animations):[];return t.push(a),{animations:t,layers:e.layers.map((function(e){return e.id==r&&((e=Ce({},e)).animations=e.animations?m()(e.animations):[],e.animations.push(a.id)),e}))}}))},UpdateAnimation:function(e,t){return Ae(e,(function(e){return{animations:e.animations.map((function(e){return e.id==t.id?t:e}))}}))},DeleteAnimation:function(e,t){return Ae(e,(function(e){return{animations:e.animations.filter((function(e){return e.id!=t})),layers:e.layers.map((function(e){var n=e.animations?e.animations.findIndex((function(e){return e.id==t})):-1;return n>0&&((e=Ce({},e)).animations=m()(e.animations),e.animations.splice(n,1)),e}))}}))},SelectAnimation:function(e,t){var n,r=t.id;if(t.additive){var a=(n=m()(e.selectedAnimations)).findIndex((function(e){return e==r}));a>-1?n.splice(a,1):n.push(r)}else n=[r];return{selectedAnimations:n,selectedPropertyTab:"animation"}},UpdateSelectedAnimations:function(e,t){return Ae(e,(function(n){return{animations:n.animations.map((function(n){return e.selectedAnimations.includes(n.id)&&(n=Ce(Ce({},n),t)),n}))}}))},HandlePaste:function(e,t){return function(){var n=h()(p.a.mark((function n(r){var a,i,o,l,c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=function(e){r("CreateLayers",e)},i=function(e){r("ShowToast",{id:Math.random(),icon:"error",intent:"danger",message:e,timeout:5e3})},o=Oe(t),n.prev=3,c=p.a.mark((function t(){var n,r,o,c,s,u,f,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("text/plain"==(n=l.value).type){t.next=3;break}return t.abrupt("return","continue");case 3:return t.next=5,new Promise((function(e){return n.getAsString(e)}));case 5:if(!(r=t.sent).startsWith("{")){t.next=12;break}try{o=JSON.parse(r)}catch(e){}if(!o){t.next=12;break}if("layers"!=o.objectType){t.next=12;break}return a(o.data),t.abrupt("return","continue");case 12:if(!r.startsWith("http")){t.next=36;break}return t.next=15,Ie(r);case 15:if(c=t.sent,s=Me(c,r)){t.next=20;break}return i("Unsupported file type '".concat(c,"'.")),t.abrupt("return","continue");case 20:if(!s.getLayer){t.next=35;break}if(u=s.getLayer(r),!(f=e.elements[u.elementName])){t.next=34;break}if(!f.manifest.getDimensions){t.next=32;break}return t.next=27,f.manifest.getDimensions(u.config,{});case 27:d=t.sent,u.width=d.width,u.height=d.height,t.next=34;break;case 32:u.width=f.manifest.width,u.height=f.manifest.height;case 34:a([u]);case 35:return t.abrupt("return","continue");case 36:return i("Unsupported paste data format."),t.abrupt("return","continue");case 38:case"end":return t.stop()}}),t)})),o.s();case 6:if((l=o.n()).done){n.next=13;break}return n.delegateYield(c(),"t0",8);case 8:if("continue"!==n.t0){n.next=11;break}return n.abrupt("continue",11);case 11:n.next=6;break;case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(3),o.e(n.t1);case 18:return n.prev=18,o.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[3,15,18,21]])})));return function(e){return n.apply(this,arguments)}}()},HandleFileUpload:function(e,t){var n=t.files,r=t.onComplete,a=t.autoCreateLayers;return function(t){var i,o=function(e,n){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:n/e.size,timeout:0})},l=function(e,n){t("ShowToast",{id:e.name,icon:"error",intent:"danger",message:n.toString(),timeout:5e3})},c=function(t,n){return e.onUpload?e.onUpload(t,n).then((function(e){return{name:t.name,src:e}})):function(e,t){return e.size>134217728?Promise.reject("File sizes greater than 128MB are not supported."):new Promise((function(n,r){var a=new FileReader;a.addEventListener("load",(function(){return n(a.result)})),a.addEventListener("progress",(function(n){return t(e,n.loaded)})),a.addEventListener("error",r),a.readAsDataURL(e)}))}(t,n).then((function(e){return{name:t.name,src:e,inline:!0}}))},s=function(){var n=h()(p.a.mark((function n(r,a,i,o){var l,c,s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.getLayer){n.next=2;break}return n.abrupt("return");case 2:if(l=r.getLayer(i),c=e.elements[l.elementName]){n.next=7;break}return console.log("Tried to create layer for unknown element:"+l.elementName),n.abrupt("return");case 7:if(l.name=a,!c.manifest.getNaturalDimensions){n.next=14;break}return n.next=11,c.manifest.getNaturalDimensions(l.config,w()({},i,o));case 11:s=n.sent,n.next=15;break;case 14:c.manifest.width&&c.manifest.height&&(s={width:c.manifest.width,height:c.manifest.height});case 15:s&&(l.styles||(l.styles={}),l.styles.rect={top:0,left:0,width:s.width,height:s.height}),t("CreateLayers",[l]);case 17:case"end":return n.stop()}}),n)})));return function(e,t,r,a){return n.apply(this,arguments)}}(),u=Oe(n);try{var f=function(){var e=i.value,n=Me(e.type,null);if(!n)return l(e,"".concat(e.name,": Unsupported file type '").concat(e.type,"'.")),"continue";!function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:0,timeout:0,onCancel:function(){e.cancel&&e.cancel()}})}(e),c(e,o).then((function(i){i&&i.src?(!function(e){t("ShowToast",{id:e.name,icon:"cloud-upload",message:e.name,progress:1,timeout:500})}(e),i.type=n.assetType,new Promise((function(e){t("CreateAsset",{asset:i,onCreated:e},!1)})).then((function(t){a&&s(n,e.name,t,i),r&&r(t)}))):l(e,"Upload failed: asset or asset.src is null.")})).catch((function(t){l(e,t)}))};for(u.s();!(i=u.n()).done;)f()}catch(e){u.e(e)}finally{u.f()}}},ShowToast:function(e,t){var n=!1,r=e.toasts.map((function(e){return e.id!=t.id?e:(n=!0,t)}));return n||r.push(t),{toasts:r}},DismissToast:function(e,t){return t.onCancel&&t.onCancel(),{toasts:e.toasts.filter((function(e){return e!=t}))}}},Fe={width:1920,height:1080,onOverlayChanged:null,onUpload:null,elements:M.a,overlay:{layers:[],assets:[],scripts:[]},taskMode:I,stageTool:te.moveAndResize,stageZoomSelection:{zoom:1,autoFitZoom:1,isAuto:!0},stageTransform:{zoom:1,panning:[0,0],width:1920,height:1080},animationContext:{phase:P.a.STATIC},isExecutingScript:!1,selectedLayerIds:[],selectedAnimations:[],layerDomElements:[],preferences:{leftPanelWidth:380,bottomPanelSize:300},editors:[],selectedPropertyTab:null,selectedEditorTab:null,toasts:[]},Be=function(e){var t=e.overlay,n=e.width,r=e.height,a=e.onOverlayChanged,l=e.onUpload,s=e.elements,u=e.children,f=(c()(e,["overlay","width","height","onOverlayChanged","onUpload","elements","children"]),Object(i.useRef)());if(!f.current){f.current=A(Fe,ze,(function(e,t){return t.overlay&&e.overlay!=t.overlay&&t.overlay.layers&&e.overlay.layers==t.overlay.layers?{layers:t.overlay.layers}:null}),(function(e,t){e.overlay.layers=t.layers}))}return Object(i.useMemo)((function(){f.current.dispatch("SetOptions",{width:n,height:r,onOverlayChanged:a,onUpload:l,elements:s})}),[n,r,a,l,s]),Object(i.useMemo)((function(){f.current.dispatch("SetOverlay",t)}),[t]),o.a.createElement(je.Provider,{value:f.current},u)},Re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(i.useContext)(je);if(0==t.length)return r.dispatch;var a=Object(i.useState)((function(){return r.select(t)})),o=b()(a,2),l=o[0],c=o[1];return Object(i.useEffect)((function(){function e(){var e=r.select(t);c((function(t){for(var n=0;n<t.length;n++)if(t[n]!=e[n])return e;return t}))}return r.subscribe(e),function(){return r.unsubscribe(e)}}),[]),[l,r.dispatch]};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=o.a.createContext(),Ve={};function He(){var e=Re((function(e){return e.overlay.layers}),(function(e){return e.selectedLayerIds}),(function(e){return e.elements})),t=b()(e,2),n=b()(t[0],3),r=n[0],a=n[1],i=n[2];t[1];return r.reduce((function(e,t){if(a.includes(t.id)){var n=i[t.elementName];if(!e)return{mergedElement:{element:n,elementName:t.elementName,config:t.config},mergedEffects:t.effects?Ge({},t.effects):Ve,allowedStyles:n.manifest.allowedStyles?m()(n.manifest.allowedStyles):[],mergedStyle:Ge({},t.style)};if(e.mergedElement&&e.mergedElement.elementName!=t.elementName&&(e.mergedElement=null),e.mergedEffects!=Ve)if(t.effects&&0!=t.effects.length)for(var r=0,o=Object.keys(e.mergedEffects);r<o.length;r++){var l=o[r];t.effects[l]||delete e.mergedEffects[l]}else e.mergedEffects=Ve;if(e.allowedStyles.length>0){var c=n.manifest.allowedStyles;c&&0!=c.length?e.allowedStyles=e.allowedStyles.filter((function(e){return c.includes(e)})):e.allowedStyles=[]}if(e.mergedStyle&&t.style)for(var s=0,u=Object.entries(t.style);s<u.length;s++){var f=b()(u[s],2),p=f[0],d=f[1];e.mergedStyle[p]!=d&&delete e.mergedStyle[p]}}return e}),null)}var Ye=function(e){return o.a.createElement(Ke.Provider,F()({value:He()},e))},We={};function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _e=o.a.createContext();function Je(){var e,t=Re((function(e){return e.overlay.animations}),(function(e){return e.selectedAnimations})),n=b()(t,2),r=b()(n[0],2),a=r[0],i=r[1];n[1];return i.length>0&&(e=a.reduce((function(e,t){return i.includes(t.id)&&(null==e?e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t):function(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var a=b()(r[n],2),i=a[0],o=a[1];t[i]!=o&&(e[i]=We)}}(e,t)),e}),null)),{mergedAnimation:e}}var Xe=function(e){return o.a.createElement(_e.Provider,F()({value:Je()},e))},$e=n(178),qe=n.n($e),Qe=n(88),et=function(e){e.props;var t=Re((function(e){return e.toasts})),n=b()(t,2),r=b()(n[0],1)[0],a=n[1];return o.a.createElement(ne.Toaster,{position:Qe.a.BOTTOM,usePortal:!1,className:"app-toaster"},r.map((function(e){var t;return t=null!=e.progress?o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.ProgressBar,{intent:e.progress<1?"primary":"success",stripes:e.progress<1,value:e.progress}),o.a.createElement("div",null,e.message)):e.message,o.a.createElement(ne.Toast,F()({key:e.id},e,{message:t,onDismiss:function(){return a("DismissToast",e)}}))})))},tt=n(179),nt=n(23);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lt=o.a.createContext(),ct=function(e){var t=e.parameterValues,n=e.onParameterValuesChanged,r=e.onHandleUpload,a=e.reportAllValues,l=c()(e,["parameterValues","onParameterValuesChanged","onHandleUpload","reportAllValues"]),s=Object(i.useRef)(null);if(!s.current){var u=[],f=t;s.current={subscribe:function(e){u.push(e)},unsubscribe:function(e){u=u.filter((function(t){return t!=e}))},getValue:function(e){return f[e.name]},notifyForChanges:function(e){f=e;var t,n=it(u);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(e){n.e(e)}finally{n.f()}},onParameterValueChanged:function(e,t,n){var r=a?at(at({},f),{},w()({},e.name,t)):w()({},e.name,t);s.current.onParameterValuesChanged(r,n)}}}return Object(i.useMemo)((function(){return s.current.onParameterValuesChanged=n,n}),[n]),Object(i.useMemo)((function(){return s.current.onHandleUpload=r,r}),[r]),Object(i.useEffect)((function(){s.current.notifyForChanges(t)}),[t]),o.a.createElement(lt.Provider,F()({value:s.current},l))},st=function(e){var t=Object(i.useContext)(lt),n=Object(i.useState)((function(){return t.getValue(e)})),r=b()(n,2),a=r[0],o=r[1],l=Object(i.useCallback)((function(){var n=t.getValue(e);o((function(e){return e!=n?n:e}))}),[t]);return Object(i.useEffect)((function(){return t.subscribe(l),function(){return t.unsubscribe(l)}}),[t,l]),[a,t.onParameterValueChanged,t.onHandleUpload]};n(460);function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=function(e){switch(e){case"flex-start":return"left";case"flex-end":return"right";case"center":return"center";default:return null}},dt=/^rgba\((\d+),(\d+),(\d+),(\d*(?:\.\d+)?)\)$/i,mt=function(e){var t=e.parameter,n=st(t),r=b()(n,2),a=r[0],l=r[1],c=Object(i.useState)(),s=b()(c,2),u=s[0],f=s[1],p=Object(i.useRef)(a);Object(i.useEffect)((function(){p.current=a}),[a]);var d,m,y=Object(i.useCallback)((function(e){l(t,ft(ft({},p.current),{},{fontFamily:e.target.value}),!0)}),[]),h=Object(i.useCallback)((function(e){f(e.target.value)}),[]),g=Object(i.useCallback)((function(e){var n=e.target.value;n.match(/[0-9]+(pt|px|em)/)||(n=n.replace(/^[0-9]\./g,"")+"pt"),l(t,ft(ft({},p.current),{},{fontSize:n}),!0),f(null)}),[]),v=Object(i.useCallback)((function(e){"Enter"==e.key&&(e.preventDefault(),e.target.blur())}),[]),x=Object(i.useCallback)((function(e){var n=e.target.closest(".font-size").querySelector("input").value,r=e.clientY,a=parseInt(n);if(!isNaN(a)){var i=n,o=function(e){var n=r-e.clientY,o=Math.max(1,a+n);i=o.toString()+"px",l(t,ft(ft({},p.current),{},{fontSize:i}),!1)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(n){l(t,ft(ft({},p.current),{},{fontSize:i}),!0),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)}))}}),[]),S=Object(i.useCallback)((function(e){l(t,ft(ft({},p.current),{},{color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")}),!1)}),[]),O=Object(i.useCallback)((function(e){l(t,ft(ft({},p.current),{},{color:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")}),!0)}),[]),E=Object(i.useCallback)((function(e,n){l(t,ft(ft({},p.current),{},"justifyContent"==e?{justifyContent:n,textAlign:pt(n)}:w()({},e,n)),!0)}),[]);return o.a.createElement("div",{className:"font-style-editor"},o.a.createElement(ne.ControlGroup,{fill:!0},o.a.createElement(ne.HTMLSelect,{value:a.fontFamily||"",onChange:y,options:nt.a.GetFontNames(),className:"font-family",fill:!0}),o.a.createElement(ne.InputGroup,{fill:!0,type:"text",value:u||a.fontSize||"",rightElement:o.a.createElement(ne.Tag,{minimal:!0,onMouseDown:x},"px"),onChange:h,onBlur:g,onKeyDown:v,className:"font-size"}),o.a.createElement(ne.Popover,{boundary:"window",className:"font-color"},o.a.createElement(ne.Button,{className:"font-color",style:{backgroundColor:a.color},text:""}),o.a.createElement(tt.SketchPicker,{color:(d=a.color,m=d.match(dt),m?{r:m[1],g:m[2],b:m[3],a:m[4]}:""),onChange:S,onChangeComplete:O}))),o.a.createElement(ne.ButtonGroup,{fill:!0,className:"button-row-2"},o.a.createElement(ne.Button,{icon:"bold",active:"bold"==a.fontWeight,onClick:function(){return E("fontWeight","bold"==a.fontWeight?"DELETE":"bold")}}),o.a.createElement(ne.Button,{icon:"italic",active:"italic"==a.fontStyle,onClick:function(){return E("fontStyle","italic"==a.fontStyle?"DELETE":"italic")}}),o.a.createElement(ne.Button,{icon:"underline",active:"underline"==a.textDecoration,onClick:function(){return E("textDecoration","underline"==a.textDecoration?"DELETE":"underline")}}),o.a.createElement(ne.Button,{icon:"align-left",active:"flex-start"==a.justifyContent,onClick:function(){return E("justifyContent","flex-start"==a.justifyContent?"DELETE":"flex-start")}}),o.a.createElement(ne.Button,{icon:"align-center",active:"center"==a.justifyContent,onClick:function(){return E("justifyContent","center"==a.justifyContent?"DELETE":"center")}}),o.a.createElement(ne.Button,{icon:"align-right",active:"flex-end"==a.justifyContent,onClick:function(){return E("justifyContent","flex-end"==a.justifyContent?"DELETE":"flex-end")}})),o.a.createElement(ne.ButtonGroup,{fill:!0},o.a.createElement(ne.Switch,{checked:"pre-wrap"==a.whiteSpace,label:"Text Wrap",onChange:function(){return E("whiteSpace","pre-wrap"==a.whiteSpace?"pre":"pre-wrap")},className:"text-wrap"}),o.a.createElement(ne.Button,{icon:"alignment-top",active:"flex-start"==a.alignItems,onClick:function(){return E("alignItems","flex-start"==a.alignItems?"DELETE":"flex-start")}}),o.a.createElement(ne.Button,{icon:"alignment-horizontal-center",active:"center"==a.alignItems,onClick:function(){return E("alignItems","center"==a.alignItems?"DELETE":"center")}}),o.a.createElement(ne.Button,{icon:"alignment-bottom",active:"flex-end"==a.alignItems,onClick:function(){return E("alignItems","flex-end"==a.alignItems?"DELETE":"flex-end")}})))},yt=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},ht=function(e){return"#".concat(yt(e.r)).concat(yt(e.g)).concat(yt(e.b)).concat(yt(Math.floor(255*e.a)))},gt=function(e){var t=e.parameter,n=st(t),r=b()(n,2),a=r[0],l=r[1],c=Object(i.useCallback)((function(e){l(t,ht(e.rgb),!1)}),[]),s=Object(i.useCallback)((function(e){l(t,ht(e.rgb),!0)}),[]);return o.a.createElement(ne.Popover,{boundary:"window"},o.a.createElement(ne.Button,{style:{backgroundColor:a},text:""}),o.a.createElement(tt.SketchPicker,{color:a,onChange:c,onChangeComplete:s}))},bt=function(e){var t=e.parameter,n=st(t),r=b()(n,2),a=r[0],l=r[1],c=Object(i.useCallback)((function(e){l(t,e.target.checked,!0)}),[]);return o.a.createElement(ne.Switch,{checked:a,onChange:c,label:0!=t.compact?t.displayName:null})},vt=function(e){var t=e.parameter,n=st(t),r=b()(n,2),a=r[0],l=r[1],c="function"==typeof t.options,s=Object(i.useState)((function(){return c?[]:null})),u=b()(s,2),f=u[0],p=u[1];c&&Promise.resolve(t.options()).then(p);var d=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]);return o.a.createElement(ne.HTMLSelect,{value:a,onChange:d,fill:!0,options:f||t.options})},wt=function(e){var t=e.parameter,n=st(t),r=b()(n,2),a=r[0],l=r[1],c="function"==typeof t.options,s=Object(i.useState)((function(){return c?[]:null})),u=b()(s,2),f=u[0],p=u[1];c&&Promise.resolve(t.options()).then(p);var d=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]),m=f||t.options||[];return o.a.createElement(ne.RadioGroup,{selectedValue:a,onChange:d},m.map((function(e){return o.a.createElement(ne.Radio,{key:e.value,label:e.label,value:e.value})})))},xt=function(e){var t="function"==typeof e,n=useState((function(){return t?[]:null})),r=b()(n,2),a=r[0],i=r[1];return t&&Promise.resolve(e()).then(i),a||e},St=function(e){var t=e.parameter,n=st(t),r=b()(n,2),a=r[0],l=r[1],c=xt(t.options),s=Object(i.useCallback)((function(e){l(t,e.target.value,!0)}),[]);return o.a.createElement(ne.ButtonGroup,null,c.map((function(e){return o.a.createElement(ne.Button,{text:e.label,key:e.value,active:a==e.value,onClick:function(){return s(e.value)}})})))},Ot=function(e){var t=e.parameter,n=st(t),r=b()(n,2),a=r[0],l=r[1],c=Object(i.useCallback)((function(e){l(t,e,!1)}),[]),s=Object(i.useCallback)((function(e){l(t,e,!0)}),[]);return o.a.createElement(ne.Slider,{value:a,onChange:c,onRelease:s,min:t.min||0,max:t.max||100,stepSize:t.step,labelStepSize:t.labelStepSize||(t.max||100)/2})},Et=function(e){var t=e.parameter,n=st(t),r=b()(n,3),a=r[0],l=r[1],c=r[2],s=Object(i.useState)(),u=b()(s,2),f=u[0],p=u[1],d=Object(i.useCallback)((function(e){p(e.target.value)}),[]),m=Object(i.useCallback)((function(e){p(e.target.value)}),[]),y=Object(i.useCallback)((function(e){l(t,e.target.value,!0),p(null)}),[]),h=Object(i.useCallback)((function(e){var n=document.createElement("input");n.type="file",n.style="display: none",n.accept=t.accept,n.addEventListener("change",(function(e){n.files.length>0&&c(n.files,(function(e){l(t,e,!0)}))})),n.click()}),[]),g=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),c(e.dataTransfer.files,(function(e){l(t,e,!0)}))}),[]),v=o.a.createElement(ne.Button,{icon:"cloud-upload",minimal:!0,onClick:h});return o.a.createElement(ne.InputGroup,{value:null!=f?f:a||"",type:"text",onFocus:d,onChange:m,onBlur:y,fill:!0,onDrop:g,dropeffect:"copy",overridedrop:"true",rightElement:v})},kt=function(e){var t=e.parameter,n=st(t),r=b()(n,2),a=r[0],l=r[1],c=Object(i.useState)(),s=b()(c,2),u=s[0],f=s[1],p=Object(i.useCallback)((function(e){f(e.target.value)}),[]),d=Object(i.useCallback)((function(e){f(e.target.value)}),[]),m=Object(i.useCallback)((function(e){l(t,e.target.value,!0),f(null)}),[]);return o.a.createElement(ne.TextArea,{value:null!=u?u:a,onFocus:p,onChange:d,onBlur:m,fill:!0,growVertically:!0})},Ct=function(e){var t,n=e.parameter,r=st(n),a=b()(r,2),l=a[0],c=a[1],s=Object(i.useState)(),u=b()(s,2),f=u[0],p=u[1],d=Object(i.useCallback)((function(e){p(e.target.value)}),[]),m=Object(i.useCallback)((function(e){p(e.target.value)}),[]),y=Object(i.useCallback)((function(e){p(null);var t=e.target.value;"number"==n.type&&(t=parseFloat(t),isNaN(t))||c(n,t,!0)}),[]),h=Object(i.useCallback)((function(e){var t=e.target.closest(".bp3-input-group").querySelector("input"),r=e.clientY,a=parseFloat(t.value),i=n.step||1,o=function(e){var t=a+(r-e.clientY)*(e.ctrlKey?5:1)*i;return void 0!==n.min&&(t=Math.max(n.min,t)),void 0!==n.max&&(t=Math.min(n.max,t)),t},l=function(e){c(n,o(e),!1)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",(function e(t){c(n,o(t),!0),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",e)}))}),[]);return n.tag&&(t=o.a.createElement(ne.Tag,{minimal:!0,onMouseDown:"number"==n.type?h:null},n.tag)),o.a.createElement(ne.InputGroup,{value:null!=f?f:l,type:n.type,min:n.min,max:n.max,onFocus:d,onChange:m,onBlur:y,fill:!0,rightElement:t})},jt=(n(462),function(e){var t,n=e.parameter;switch(n.type){case"font":t=o.a.createElement(mt,{parameter:n});break;case"color":t=o.a.createElement(gt,{parameter:n});break;case"checkbox":t=o.a.createElement(bt,{parameter:n});break;case"select":t=o.a.createElement(vt,{parameter:n});break;case"radiogroup":t=o.a.createElement(wt,{parameter:n});break;case"buttongroup":t=o.a.createElement(St,{parameter:n});break;case"slider":t=o.a.createElement(Ot,{parameter:n});break;case"assetUrl":t=o.a.createElement(Et,{parameter:n});break;case"textarea":t=o.a.createElement(kt,{parameter:n});break;case"text":default:t=o.a.createElement(Ct,{parameter:n})}var r="checkbox"==n.type&&0!=n.compact?null:n.displayName;return o.a.createElement(ne.FormGroup,{key:n.name,label:r,"label-for":n.name,inline:n.inline},t)}),At=function(e){var t=e.parameter,n=t.displayName?o.a.createElement("label",{className:"bp3-label"},t.displayName):null,r=t.items.map((function(e){var t=e.width?{flexShrink:0,flexGrow:0,flexBasis:e.width+"%",width:e.width+"%"}:null;return o.a.createElement("div",{key:e.name,className:"group-item",style:t},o.a.createElement(jt,{parameter:e}))}));return o.a.createElement("div",{className:"group "+(t.className||"")},n,o.a.createElement("div",{className:"group-items"},r))},Nt=function(e){var t,n=e.parameters,r=e.parameterValues,a=e.onParameterValuesChanged,i=e.onHandleUpload,l=e.reportAllValues;return n&&(t=n.map((function(e,t){return"group"==e.type?o.a.createElement(At,{key:t,parameter:e}):o.a.createElement(jt,{key:t,parameter:e})}))),o.a.createElement(ct,{parameterValues:r,onParameterValuesChanged:a,onHandleUpload:i,reportAllValues:l},o.a.createElement("div",{className:"configuration-form"},t))},Lt=(n(464),function(e){var t,n=e.label,r=e.defaultIsOpen,a=e.rightElement,l=e.disabled,c=e.title,s=e.children,u=Object(i.useState)(r),f=b()(u,2),p=f[0],d=f[1];return Object(i.useEffect)((function(){d(r)}),[r]),s&&"function"==typeof s&&(s=p?s():null),t=l?"minus":p?"caret-down":"caret-right",o.a.createElement("div",{className:"collapsible-panel"},o.a.createElement("div",{className:"panel-header",onClick:function(){return d(!p)},title:c},o.a.createElement(ne.Icon,{icon:t,iconSize:"16"}),o.a.createElement("label",null,n),a),o.a.createElement(ne.Collapse,{isOpen:p},s))}),Pt=(n(466),/(rgba?\([\. ,0-9]+\)|(?:#[0-9A-Fa-f]{3,8})) (\-?[\.0-9]+)px (\-?[\.0-9]+)px \-?([\.0-9]+)px/),Tt=/(rgba?\([\. ,0-9]+\)|(?:#[0-9A-Fa-f]{3,8})) (\-?[\.0-9]+)px (\-?[\.0-9]+)px (\-?[\.0-9]+)px(?: (\-?[\.0-9]+)px)?/,It=/polygon\(([0-9\.]+)px 0px, calc\(100% - ([0-9\.]+)px\) 0px, 100% ([0-9\.]+)px, 100% calc\(100% - ([0-9\.]+)px\), calc\(100% - ([0-9\.]+)px\) 100%, ([0-9\.]+)px 100%, 0px calc\(100% - ([0-9\.]+)px\), 0px ([0-9\.]+)px, ([0-9\.]+)px 0px\)/,Dt=/blur\(([0-9\.]+)px\)/,Mt=/brightness\(([0-9\.]+)\)/,zt=/contrast\(([0-9\.]+)\)/,Ft=/saturate\(([0-9\.]+)\)/,Bt=/hue-rotate\(([0-9\.]+)deg\)/,Rt=/invert\(([0-9\.]+)\)/,Ut=/sepia\(([0-9\.]+)\)/,Gt=/perspective\(([0-9\.]+)px\) translate3d\((\-?[0-9\.]+)px, (\-?[0-9\.]+)px, (\-?[0-9\.]+)px\) rotate3d\(1, 0, 0, (\-?[0-9\.]+)deg\) rotate3d\(0, 1, 0, (\-?[0-9\.]+)deg\) rotate\((\-?[0-9\.]+)deg\) scale3d\(([0-9\.]+), ([0-9\.]+), ([0-9\.]+)\)/,Kt={rect:{displayName:"Size & Position",properties:["left","top","height","width"],permanent:!0,parameters:[{type:"group",className:"size-and-position",items:[{name:"left",displayName:"Left",type:"number",width:50,inline:!0,tag:"px"},{name:"top",displayName:"Top",type:"number",width:50,inline:!0,tag:"px"}]},{type:"group",className:"size-and-position",items:[{name:"width",displayName:"Width",type:"number",width:50,inline:!0,tag:"px"},{name:"height",displayName:"Height",type:"number",width:50,inline:!0,tag:"px"}]}],initialConfig:{left:0,top:0,height:400,width:400},extract:function(e){return e.width||e.height?{left:Object(L.e)(e.left),top:Object(L.e)(e.top),width:Object(L.e)(e.width),height:Object(L.e)(e.height)}:null},apply:function(e){var t=e.left,n=e.top,r=e.width,a=e.height,i={};return void 0!==t&&(i.left=t+"px"),void 0!==n&&(i.top=n+"px"),void 0!==r&&(i.width=r+"px"),void 0!==a&&(i.height=a+"px"),i}},font:{displayName:"Font",properties:["fontFamily","fontStyle","fontSize","color","fontWeight","fontSize","textDecoration","justifyContent","alignItems","whiteSpace","textAlign"],permanent:!0,parameters:[{name:"font",displayName:null,type:"font"}],initialConfig:{font:{fontFamily:"Arial",fontSize:"60px",color:"rgba(255,255,255,1)"}},extract:function(e){return{font:{fontFamily:e.fontFamily,fontSize:parseFloat(e.fontSize),color:e.color,fontWeight:e.fontWeight,fontStyle:e.fontStyle,textDecoration:e.textDecoration,justifyContent:e.justifyContent,alignItems:e.alignItems,whiteSpace:e.whiteSpace}}},apply:function(e){return e.font}},letterSpacing:{displayName:"Letter Spacing",properties:["letterSpacing"],parameters:[{name:"amount",type:"slider",displayName:null,min:-100,max:100}],initialConfig:{amount:0},extract:function(e){return e.letterSpacing?{amount:parseFloat(e.letterSpacing)}:null},apply:function(e){var t=e.amount;return{letterSpacing:"".concat(void 0===t?0:t,"px")}}},lineHeight:{displayName:"Line Height",properties:["lineHeight"],parameters:[{name:"amount",type:"slider",displayName:null,min:0,max:200,labelStepSize:50}],initialConfig:{amount:0},extract:function(e){return e.lineHeight?{amount:parseInt(e.lineHeight)}:null},apply:function(e){var t=e.amount;return{lineHeight:"".concat(void 0===t?0:t,"px")}}},textStroke:{displayName:"Text Stroke",properties:["WebkitTextStrokeWidth","WebkitTextStrokeColor"],parameters:[{type:"group",items:[{name:"width",type:"number",tag:"Width",width:85,min:0,step:.1},{name:"color",type:"color",width:15}]}],initialConfig:{width:0,color:"#FFFFFF"},extract:function(e){var t=e.WebkitTextStrokeWidth||e["-webkit-text-stroke-width"],n=e.WebkitTextStrokeColor||e["-webkit-text-stroke-color"];return t||n?{width:parseFloat(t),color:n}:null},apply:function(e){var t=e.width;return{WebkitTextStrokeWidth:t?t+"px":null,WebkitTextStrokeColor:e.color}}},textShadow:{displayName:"Text Shadow",properties:["textShadow"],parameters:[{type:"group",items:[{name:"offsetx",type:"number",tag:"X",width:25},{name:"offsety",type:"number",tag:"Y",width:25},{name:"size",type:"number",tag:"Size",width:35,min:0},{name:"color",type:"color",width:15}]}],initialConfig:{offsetx:0,offsety:0,size:5,color:"#000000"},extract:function(e){var t=e.textShadow;if(!t)return null;var n=t.match(Pt);return n?{color:n[1],offsetx:parseFloat(n[2]),offsety:parseFloat(n[3]),size:parseFloat(n[4])}:null},apply:function(e){var t=e.offsetx,n=void 0===t?0:t,r=e.offsety,a=void 0===r?0:r,i=e.size,o=void 0===i?5:i,l=e.color;return{textShadow:"".concat(void 0===l?"#000000":l," ").concat(n,"px ").concat(a,"px ").concat(o,"px")}}},backgroundColor:{displayName:"Background Color",properties:["backgroundColor"],parameters:[{name:"color",type:"color",displayName:null}],initialConfig:{color:"#FFFFFF"},extract:function(e){return e.backgroundColor?{color:e.backgroundColor}:null},apply:function(e){var t=e.color;return{backgroundColor:void 0===t?"#FFFFFF":t}}},opacity:{displayName:"Opacity",properties:["opacity"],parameters:[{name:"amount",type:"slider",min:0,max:100}],initialConfig:{amount:100},extract:function(e){return void 0===e.opacity?null:{amount:100*parseFloat(e.opacity)}},apply:function(e){var t=e.amount;return{opacity:"".concat((void 0===t?100:t)/100)}}},border:{displayName:"Border",properties:["borderWidth","borderStyle","borderColor","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],parameters:[{type:"group",displayName:"Style",items:[{name:"width",type:"number",tag:"Width",width:55,min:0},{name:"style",type:"select",width:30,options:[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"}]},{name:"color",type:"color",width:15}]},{type:"group",displayName:"Corner Radius",items:[{name:"tl",type:"number",width:25,tag:"TL",min:0},{name:"tr",type:"number",width:25,tag:"TR",min:0},{name:"br",type:"number",width:25,tag:"BR",min:0},{name:"bl",type:"number",width:25,tag:"BL",min:0}]}],initialConfig:{width:0,style:"solid",color:"#FFFFFF",tl:0,tr:0,br:0,bl:0},extract:function(e){return e.borderStyle?{width:parseFloat(e.borderWidth),style:e.borderStyle,color:e.borderColor,tl:parseFloat(e.borderTopLeftRadius),tr:parseFloat(e.borderTopRightRadius),br:parseFloat(e.borderBottomRightRadius),bl:parseFloat(e.borderBottomLeftRadius)}:null},apply:function(e){var t=e.width,n=e.style,r=e.color,a=e.tl,i=e.tr,o=e.br,l=e.bl,c={};return c.borderWidth=null!=t?t+"px":null,c.borderStyle=null!=n?n:null,c.borderColor=null!=r?r:null,c.borderTopLeftRadius=null!=a?a+"px":null,c.borderTopRightRadius=null!=i?i+"px":null,c.borderBottomRightRadius=null!=o?o+"px":null,c.borderBottomLeftRadius=null!=l?l+"px":null,c}},shadow:{displayName:"Shadow",properties:["boxShadow"],parameters:[{type:"group",items:[{name:"offsetx",type:"number",tag:"X",width:25},{name:"offsety",type:"number",tag:"Y",width:25},{name:"size",type:"number",tag:"Size",width:35,min:0,step:.5},{name:"color",type:"color",width:15}]}],initialConfig:{color:"#000000FF",offsetx:0,offsety:0,size:0},extract:function(e){if(!e.boxShadow)return null;var t=e.boxShadow.match(Tt);return t?{color:t[1],offsetx:parseFloat(t[2]),offsety:parseFloat(t[3]),size:parseFloat(t[4])}:null},apply:function(e){var t=e.offsetx,n=void 0===t?0:t,r=e.offsety,a=void 0===r?0:r,i=e.size,o=void 0===i?0:i,l=e.color;return{boxShadow:"".concat(void 0===l?"#000000":l," ").concat(n,"px ").concat(a,"px ").concat(o,"px")}}},cornerClip:{displayName:"Corner Clip",properties:["clipPath"],parameters:[{type:"group",items:[{name:"tl",type:"number",width:25,tag:"TL",min:0},{name:"tr",type:"number",width:25,tag:"TR",min:0},{name:"br",type:"number",width:25,tag:"BR",min:0},{name:"bl",type:"number",width:25,tag:"BL",min:0}]}],initialConfig:{tl:0,tr:0,br:0,bl:0},extract:function(e){var t=e.clipPath;if(!t)return null;var n=t.match(It);return n?{tl:parseFloat(n[1]),tr:parseFloat(n[2]),br:parseFloat(n[4]),bl:parseFloat(n[6])}:null},apply:function(e){var t=e.tl,n=void 0===t?0:t,r=e.tr,a=void 0===r?0:r,i=e.br,o=void 0===i?0:i,l=e.bl,c=void 0===l?0:l;return{clipPath:"polygon(".concat(n,"px 0px, calc(100% - ").concat(a,"px) 0px, 100% ").concat(a,"px, 100% calc(100% - ").concat(o,"px), calc(100% - ").concat(o,"px) 100%, ").concat(c,"px 100%, 0px calc(100% - ").concat(c,"px), 0px ").concat(n,"px, ").concat(n,"px 0px)")}}},padding:{displayName:"Padding",properties:["paddingTop","paddingRight","paddingBottom","paddingLeft"],parameters:[{type:"group",items:[{name:"t",type:"number",width:25,tag:"T",min:0},{name:"r",type:"number",width:25,tag:"R",min:0},{name:"b",type:"number",width:25,tag:"B",min:0},{name:"l",type:"number",width:25,tag:"L",min:0}]}],initialConfig:{t:0,r:0,b:0,l:0},extract:function(e){return e.paddingTop||e.paddingRight||e.paddingBottom||e.paddingLeft?{t:parseFloat(e.paddingTop),r:parseFloat(e.paddingRight),b:parseFloat(e.paddingBottom),l:parseFloat(e.paddingLeft)}:null},apply:function(e){var t=e.t,n=e.r,r=e.b,a=e.l;return{paddingTop:null!=t?t+"px":null,paddingRight:null!=n?n+"px":null,paddingBottom:null!=r?r+"px":null,paddingLeft:null!=a?a+"px":null}}},filters:{displayName:"Filters",properties:["filter"],parameters:[{name:"blur",displayName:"Blur",type:"slider",inline:!0},{name:"brightness",displayName:"Brightness",type:"slider",inline:!0},{name:"contrast",displayName:"Contrast",type:"slider",inline:!0},{name:"saturation",displayName:"Saturation",type:"slider",inline:!0},{name:"hue",displayName:"Hue",type:"slider",inline:!0},{name:"invert",displayName:"Invert",type:"slider",inline:!0},{name:"sepia",displayName:"Sepia",type:"slider",inline:!0}],initialConfig:{blur:0,brightness:50,contrast:50,saturation:50,hue:0,invert:0,sepia:0},extract:function(e){var t=e.filter;if(!t)return null;var n=t.match(Dt),r=t.match(Mt),a=t.match(zt),i=t.match(Ft),o=t.match(Bt),l=t.match(Rt),c=t.match(Ut);return{blur:n?parseFloat(n[1]):0,brightness:r?50*parseFloat(r[1]):50,contrast:a?50*parseFloat(a[1]):50,saturation:i?50*parseFloat(saturationMatchion[1]):50,hue:o?parseFloat(o[1])/3.6:0,invert:l?parseFloat(l[1]):0,sepia:c?parseFloat(c[1]):0}},apply:function(e){var t=e.blur,n=void 0===t?0:t,r=e.brightness,a=void 0===r?50:r,i=e.contrast,o=void 0===i?50:i,l=e.saturation,c=void 0===l?50:l,s=e.hue,u=void 0===s?0:s,f=e.invert,p=void 0===f?0:f,d=e.sepia,m=void 0===d?0:d,y="";if(0!=n&&(y+=" blur(".concat(n,"px)")),50!=a&&(y+=" brightness(".concat(a/50,")")),50!=o&&(y+=" contrast(".concat(o/50,")")),50!=c&&(y+=" saturate(".concat(c/50,")")),0!=u&&(y+=" hue-rotate(".concat(3.6*u,"deg)")),0!=p&&(y+=" invert(".concat(p,")")),0!=m&&(y+=" sepia(".concat(m,")")),y)return{filter:y}}},autoFit:{displayName:"Auto Fit",properties:["objectFit","objectPosition"],parameters:[{type:"group",items:[{name:"fit",type:"select",defaultValue:"fill",width:30,options:[{label:"Fill",value:"fill"},{label:"Contain",value:"contain"},{label:"Cover",value:"cover"}]},{name:"position",tag:"Pos.",type:"text",width:70}]}],initialConfig:{fit:"fill",position:"center center"},extract:function(e){return{fit:e.objectFit,position:e.objectPosition}},apply:function(e){var t=e.fit,n=void 0===t?"fill":t,r=e.position;return{objectFit:n,objectPosition:void 0===r?"center center":r}}},"3dtransform":{displayName:"3D Transform",properties:["transform"],parameters:[{type:"group",displayName:"Transform",items:[{name:"tx",type:"number",width:33.333,tag:"X"},{name:"ty",type:"number",width:33.333,tag:"Y"},{name:"tz",type:"number",width:33.333,tag:"Z"}]},{type:"group",displayName:"Rotate",items:[{name:"rx",type:"number",width:33.333,tag:"X"},{name:"ry",type:"number",width:33.333,tag:"Y"},{name:"rz",type:"number",width:33.333,tag:"Z"}]},{type:"group",displayName:"Scale",items:[{name:"sx",type:"number",width:33.333,tag:"X",min:0,step:.05},{name:"sy",type:"number",width:33.333,tag:"Y",min:0,step:.05},{name:"sz",type:"number",width:33.333,tag:"Z",min:0,step:.05}]},{name:"perspective",displayName:"Perspective",type:"number",defaultValue:"1000",inline:!0,tag:"px",min:1}],initialConfig:{perspective:1e3,tx:0,ty:0,tz:0,rx:0,ry:0,rz:0,sx:1,sy:1,sz:1},extract:function(e){var t=e.transform;if(!t)return null;var n=t.match(Gt);return n?{perspective:parseFloat(n[1]),tx:parseFloat(n[2]),ty:parseFloat(n[3]),tz:parseFloat(n[4]),rx:parseFloat(n[5]),ry:parseFloat(n[6]),rz:parseFloat(n[7]),sx:parseFloat(n[8]),sy:parseFloat(n[9]),sz:parseFloat(n[10])}:null},apply:function(e){var t=e.perspective,n=e.tx,r=void 0===n?0:n,a=e.ty,i=void 0===a?0:a,o=e.tz,l=void 0===o?0:o,c=e.rx,s=void 0===c?0:c,u=e.ry,f=void 0===u?0:u,p=e.rz,d=void 0===p?0:p,m=e.sx,y=void 0===m?1:m,h=e.sy,g=void 0===h?1:h,b=e.sz,v=void 0===b?1:b;return{transform:"perspective(".concat(t,"px) translate3d(").concat(r,"px, ").concat(i,"px, ").concat(l,"px) rotate3d(1, 0, 0, ").concat(s,"deg) rotate3d(0, 1, 0, ").concat(f,"deg) rotate(").concat(d,"deg) scale3d(").concat(y,", ").concat(g,", ").concat(v,")")}}}};function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zt=[{type:"group",items:[{name:"delay",displayName:"Delay",type:"number",tag:"ms",width:35},{name:"duration",displayName:"Duration",type:"number",tag:"ms",width:35},{name:"easing",displayName:"Easing",type:"select",width:30,options:[{label:"Linear",value:"linear"},{label:"Ease",value:"ease"},{label:"Ease In",value:"ease-in"},{label:"Ease Out",value:"ease-out"},{label:"Ease In/Out",value:"ease-in-out"}]}]},{name:"preset",displayName:"Type",type:"select",inline:!0,options:Object.entries(ie.a).map((function(e){var t=b()(e,2),n=t[0];return{label:t[1].displayName,value:n}}))}],_t=function(e){var t,n=e.styleName,r=e.style,a=e.onStyleChanged,l=Kt[n],c=[],s=Yt(l.properties);try{for(s.s();!(t=s.n()).done;){var u=t.value;c.push(r[u])}}catch(e){s.e(e)}finally{s.f()}var f,p=Object(i.useMemo)((function(){var e=Object.keys(r).some((function(e){return l.properties.includes(e)}));return{hasData:e,parameterValues:e?l.extract(r):l.initialConfig}}),c),d=p.hasData,m=p.parameterValues,y=Object(i.useCallback)((function(e,t){a(l.apply(Ht(Ht({},m),e)),t)}),[d,m]),h=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t,n={},r=Yt(l.properties);try{for(r.s();!(t=r.n()).done;){n[t.value]="DELETE"}}catch(e){r.e(e)}finally{r.f()}a(n,!0)}),[l]);return!l.permanent&&d&&(f=o.a.createElement(ne.Button,{icon:"trash",minimal:!0,onClick:h})),o.a.createElement(Lt,{label:l.displayName,defaultIsOpen:d,rightElement:f},(function(){return o.a.createElement(Nt,{parameters:l.parameters,parameterValues:m,onParameterValuesChanged:y,reportAllValues:!1})}))},Jt=function(e){var t=e.effectName,n=e.effectConfig,r=e.onEffectChanged,a=N.b[t],l=Object(i.useCallback)((function(e,n){r(t,e,n)}),[t]),c=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),r(t,null,!0)}),[t]);return o.a.createElement(Lt,{label:a.displayName,defaultIsOpen:!0,rightElement:o.a.createElement(ne.Button,{icon:"trash",minimal:!0,onClick:c})},(function(){return o.a.createElement(Nt,{parameters:a.parameters,parameterValues:n,onParameterValuesChanged:l,reportAllValues:!0})}))},Xt=function(e){var t=e.onHandleUpload,n=e.onElementConfigChanged,r=e.onStyleChanged,a=e.onEffectChanged,l=Object(i.useContext)(Ke);if(!l)return null;var c,s,u=l.allowedStyles,f=l.mergedElement,p=l.mergedEffects,d=l.mergedStyle,m=null;return f&&f.element.manifest.parameters&&f.element.manifest.parameters.length>0&&(m=o.a.createElement(Lt,{label:f.element.manifest.name,defaultIsOpen:!0},o.a.createElement("div",{className:"layer-config-panel"},o.a.createElement(Nt,{parameters:f.element.manifest.parameters,parameterValues:f.config,reportAllValues:!0,onParameterValuesChanged:n,onHandleUpload:t})))),p&&(c=Object.entries(p).map((function(e){var t=b()(e,2),n=t[0],r=t[1];return o.a.createElement(Jt,{key:n,effectName:n,effectConfig:r,onEffectChanged:a})}))),u&&u.length>0&&(s=u.map((function(e){return o.a.createElement(_t,{key:e,styleName:e,style:d,onStyleChanged:r})}))),o.a.createElement(o.a.Fragment,null,m,c,s)},$t=function(e){var t,n,r=e.onAnimationChanged,a=Object(i.useContext)(_e).mergedAnimation,l=Object(i.useCallback)((function(e,t){r(e)}),[]),c=Object(i.useCallback)((function(e){r({config:e})}),[]);if(!a)return null;if(a&&(t=o.a.createElement(Nt,{parameters:Zt,parameterValues:a,onParameterValuesChanged:l,reportAllValues:!0})),a&&a.preset&&a.preset!=We){var s=ie.a[a.preset];n=o.a.createElement(Nt,{parameters:s.parameters,parameterValues:a.config,onParameterValuesChanged:c,reportAllValues:!0})}return o.a.createElement(Lt,{label:"Animation",defaultIsOpen:!0},t,n)},qt=function(){var e,t,n=Re((function(e){return e.selectedPropertyTab}),(function(e){return e.selectedLayerIds}),(function(e){return e.selectedAnimations})),r=b()(n,2),a=b()(r[0],3),l=a[0],c=a[1],s=a[2],u=r[1],f=Object(i.useCallback)((function(e){u("SelectPropertyTab",e)}),[]),p=Object(i.useCallback)((function(e,t){u("HandleFileUpload",{files:e,onComplete:t,autoCreateLayers:!1})}),[]),d=Object(i.useCallback)((function(e,t){u("UpdateSelectedLayersConfig",{config:e},t)}),[]),m=Object(i.useCallback)((function(e,t,n){u("UpdateSelectedLayersEffect",{effectName:e,config:t},n)}),[]),y=Object(i.useCallback)((function(e,t){u("UpdateSelectionStyle",e,t)}),[]),h=Object(i.useCallback)((function(e){u("UpdateSelectedAnimations",e)}),[]);return c.length>0&&(e=o.a.createElement(Xt,{onHandleUpload:p,onElementConfigChanged:d,onStyleChanged:y,onEffectChanged:m})),s.length>0&&(t=o.a.createElement($t,{onHandleUpload:p,onAnimationChanged:h})),o.a.createElement(ne.Tabs,{id:"property-tabs",onChange:f,selectedTabId:l,animate:!1,className:"normal-tabs"},o.a.createElement(ne.Tab,{id:"layer",disabled:null==e,panel:e},o.a.createElement("div",{className:"title"},"Layer ",o.a.createElement(ne.Tag,{minimal:!0},c.length))),o.a.createElement(ne.Tab,{id:"animation",disabled:null==t,panel:t},o.a.createElement("div",{className:"title"},"Animation ",o.a.createElement(ne.Tag,{minimal:!0},s.length))))};function Qt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=[{value:1,label:"100%"},{value:.666666667,label:"67%"},{value:.5,label:"50%"},{value:.25,label:"25%"}],an=function(e){var t=e.zoomSelection,n=e.onZoomSelectionChanged,r=c()(e,["zoomSelection","onZoomSelectionChanged"]),a=Object(i.useCallback)((function(e){n&&("auto"==e.target.value?n(nn(nn({},t),{},{isAuto:!0})):n(nn(nn({},t),{},{zoom:parseFloat(e.target.value),isAuto:!1})))}),[t]),l=[];t.isAuto||(-1!=rn.findIndex((function(e){return e.value==t.zoom}))||l.push({label:"".concat(Math.round(100*t.zoom),"%"),value:t.zoom}));l.push({label:"Auto (".concat(Math.round(100*t.autoFitZoom),"%)"),value:"auto"});var s,u=Qt(rn);try{for(u.s();!(s=u.n()).done;){var f=s.value;l.push(f)}}catch(e){u.e(e)}finally{u.f()}return o.a.createElement(ne.HTMLSelect,F()({},r,{onChange:a,options:l,value:t.isAuto?"auto":t.zoom}))},on=(n(468),function(e){qe()(e);var t=Re((function(e){return e.stageZoomSelection})),n=b()(t,2),r=b()(n[0],1)[0],a=n[1],l=Object(i.useCallback)((function(e){a("SetStageZoomSelection",e)}),[]),c=Object(i.useCallback)((function(){a("ResetStageZoom")}),[]);return o.a.createElement("div",{className:"main-toolbar"},o.a.createElement(ne.ButtonGroup,null,o.a.createElement(ne.Tooltip,{content:"Reset Zoom"},o.a.createElement(ne.Button,{icon:"search",onClick:c})),o.a.createElement("div",{className:"bp3-button",style:{padding:0}},o.a.createElement(an,{minimal:!0,large:!1,zoomSelection:r,onZoomSelectionChanged:l}))))}),ln=(n(470),function(e){var t=e.edge,n=e.defaultSize,r=e.minimum,a=e.maximum,l=e.onSizeChanged,s=c()(e,["edge","defaultSize","minimum","maximum","onSizeChanged"]),u=Object(i.useState)(),f=b()(u,2),p=f[0],d=f[1],m="top"==t||"bottom"==t,y=Object(i.useCallback)((function(e){var i=m?e.clientY:e.clientX,o=n,c=function(e){var l=n+(m?"top"==t?i-e.clientY:e.clientY-i:"right"==t?e.clientX-i:i-e.clientX);l>r&&l<=a&&(o=l,d(l))};window.addEventListener("mousemove",c),window.addEventListener("mouseup",(function e(t){l(o),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",e)}))}),[n]),h=o.a.createElement("div",{className:"resize-bar "+t},o.a.createElement("div",{className:"inner",onMouseDown:y})),g=p||n;switch(t){case"top":return o.a.createElement(o.a.Fragment,null,h,o.a.createElement("div",{className:"resizable",style:{height:g+"px"}},o.a.createElement("div",s)));case"bottom":return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"resizable",style:{height:g+"px"}},o.a.createElement("div",s)),h);case"left":return o.a.createElement(o.a.Fragment,null,h,o.a.createElement("div",{className:"resizable",style:{width:g+"px"}},o.a.createElement("div",s)));case"right":return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"resizable",style:{width:g+"px"}},o.a.createElement("div",s)),h);default:return null}}),cn=function(e){var t=e.value,n=e.onConfirm,r=e.onCancel,a=Object(i.useState)(t),l=b()(a,2),c=l[0],s=l[1],u=Object(i.useCallback)((function(e){e.target&&s(e.target.value)}),[]),f=Object(i.useCallback)((function(e){e.stopPropagation(),"Enter"!=e.key?"Escape"!=e.key||r():n(e.target.value)}),[]),p=Object(i.useCallback)((function(e){n(e.target.value)}),[]),d=Object(i.useCallback)((function(e){e.target.select()}),[]),m=Object(i.useCallback)((function(e){console.log("got drag start"),e.stopPropagation(),e.preventDefault()}),[]);return o.a.createElement(ne.InputGroup,{value:c,onChange:u,onKeyDown:f,onBlur:p,onFocus:d,onDragStart:m,autoFocus:!0})},sn=function(e){var t,n=e.value,r=e.onChange,a=(c()(e,["value","onChange"]),Object(i.useState)(!1)),l=b()(a,2),s=l[0],u=l[1],f=Object(i.useCallback)((function(){u(!0)}),[]),p=Object(i.useCallback)((function(e){r(e),u(!1)}),[]),d=Object(i.useCallback)((function(){u(!1)}),[]);return t=s?o.a.createElement(cn,{value:n,onConfirm:p,onCancel:d}):n,o.a.createElement("span",{className:"label-editor",onDoubleClick:f},t)},un="openoverlay/layer",fn="openoverlay/script",pn=function(e,t){return!(!e.dataTransfer.types||0==e.dataTransfer.types.length)&&e.dataTransfer.types.includes(t)},dn=function(e){var t=Re();return o.a.createElement(ne.Popover,{position:Qe.a.RIGHT_BOTTOM,interactionKind:ne.PopoverInteractionKind.CLICK,boundary:"window"},e.children,o.a.createElement(ne.Menu,null,Object.entries(N.a).map((function(n){return o.a.createElement(ne.MenuItem,{key:n[0],text:n[0],popoverProps:{openOnTargetFocus:!1}},n[1].map((function(n){var r=N.b[n];return o.a.createElement(ne.MenuItem,{key:n,text:r.displayName,onClick:function(r){return t("CreateLayerEffect",{id:e.layer.id,effectName:n})}})})))}))))},mn=(n(472),function(e){var t=e.index,n=e.dragging,r=e.onDragStart,a=e.child,l=Object(i.useCallback)((function(e){r?r(e,a.key,t):e.preventDefault()}),[r,a.key,t]);return o.a.createElement("div",{className:"item","data-id":a.key,"data-index":t,dragging:n,draggable:!0,onDragStart:l},a)}),yn=function(e){var t=e.itemType,n=e.onReorderItem,r=e.children,a=Object(i.useState)(null),l=b()(a,2),c=l[0],s=l[1],u=Object(i.useState)(null),f=b()(u,2),p=f[0],d=f[1],m=Object(i.useCallback)((function(e){window.removeEventListener("dragend",m),s(null),d(null)}),[]),y=Object(i.useCallback)((function(e,n,r){"INPUT"!=e.target.name?(window.addEventListener("dragend",m),e.dataTransfer.setData(t,n),s(r),d(n)):e.preventDefault()}),[]),h=Object(i.useCallback)((function(e){if(pn(e,t))if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",e.target.matches(".reorderable-list"))c!=r.length&&s(r.length);else{var n=e.target.closest(".item");if(n){var a=parseInt(n.getAttribute("data-index"));if("true"==n.getAttribute("dragging"))return;var i=n.getBoundingClientRect(),o=e.nativeEvent.clientY>i.top+i.height/2?a+1:a;c!=o&&s(o)}}}),[c]),g=Object(i.useCallback)((function(e){if(e.preventDefault(),e.stopPropagation(),pn(e,t)){var r=e.dataTransfer.getData(t);n(r,c),s(null),d(null)}}),[c]),v=null;if(null!=p){var w=r.find((function(e){return e.key==p}));v=o.a.createElement(mn,{key:p,index:c,child:w,dragging:"true"})}var x=r.reduce((function(e,t,n){return n==c&&e.push(v),t.key!=p&&e.push(o.a.createElement(mn,{key:t.key,index:n,child:t,onDragStart:y})),n==r.length-1&&c>n&&e.push(v),e}),[]);return o.a.createElement("div",{className:"reorderable-list",onDragOver:h,onDrop:g},x)},hn=(n(474),function(e){var t=e.layer,n=e.effect,r=e.effectName,a=e.config,l=e.dispatch,c=Object(i.useCallback)((function(){l("DeleteLayerEffect",{id:t.id,effectName:r})}),[]),s=Object(i.useCallback)((function(){l("UpdateLayerEffect",{id:t.id,effectName:r,config:{hidden:!a.hidden}})}),[t.id,r,a.hidden]);Object(i.useCallback)((function(){l("DeleteLayerEffect",{id:t.id,effectName:r})}),[t.id,r]);return o.a.createElement("div",{className:"effect"},o.a.createElement(ne.Button,{icon:"eye-open",minimal:!0,intent:a.hidden?"danger":"success",title:"Show/Hide",onClick:s}),o.a.createElement("div",{className:"label",style:{opacity:a.hidden?.5:1}},n.displayName),o.a.createElement(ne.Button,{icon:"trash",minimal:!0,title:"Delete",onClick:c}))}),gn=function(e){var t,n,r=e.layer,a=e.element,l=e.isSelected,c=e.dispatch,s=Object(i.useCallback)((function(e){c("UpdateLayers",{layers:[{id:r.id,label:e}]})}),[r.id]),u=Object(i.useCallback)((function(){c("UpdateLayers",{layers:[{id:r.id,hidden:!r.hidden}]})}),[r.id,r.hidden]),f=Object(i.useCallback)((function(e){c("SelectLayer",{id:r.id,append:e.ctrlKey||e.metaKey,selectBetween:e.shiftKey})}),[r.id]);if(0==a.manifest.effectsAllowed||a.manifest.nonVisual||(t=o.a.createElement(dn,{layer:r},o.a.createElement(ne.Button,{icon:"plus",minimal:!0,title:"Add Effect"}))),0!=a.manifest.effectsAllowed&&r.effects){n=[];for(var p=0,d=Object.entries(r.effects);p<d.length;p++){var m=b()(d[p],2),y=m[0],h=m[1],g=N.b[y];n.push(o.a.createElement(hn,{key:y,layer:r,effectName:y,effect:g,config:h,dispatch:c}))}}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"layer-header",isselected:l?"true":null,style:r.hidden?{opacity:.5}:null},o.a.createElement(ne.Button,{icon:"eye-open",minimal:!0,intent:r.hidden?"danger":"success",title:"Toggle Visibility",onClick:u}),o.a.createElement("div",{className:"label",onClick:f},o.a.createElement(sn,{value:r.label,onChange:s,selectAllOnFocus:!0})),t,o.a.createElement(ne.Button,{icon:"trash",title:"Delete",minimal:!0,onClick:function(){return c("DeleteLayers",[r.id])}})),n)},bn=function(){var e=Re((function(e){return e.elements}),(function(e){return e.overlay.layers}),(function(e){return e.selectedLayerIds})),t=b()(e,2),n=b()(t[0],3),r=n[0],a=n[1],l=n[2],c=t[1],s=Object(i.useCallback)((function(e){console.log({createlayer:e}),c("CreateLayers",[{elementName:e}])}),[]),u=Object(i.useCallback)((function(e,t){c("ReorderLayer",{id:parseInt(e),newIndex:t})}),[]);return o.a.createElement("div",{className:"main-list layer-list"},o.a.createElement("div",{className:"actions"},o.a.createElement(ne.Button,{text:"Animation",small:!0,minimal:!0,icon:"walk",onClick:function(){return c("OpenEditor",{type:"animation"})}}),o.a.createElement("div",{className:"right"},o.a.createElement(ne.Popover,{position:"right-top"},o.a.createElement(ne.Button,{small:!0,title:"New Layer",icon:"plus",intent:"primary",rightIcon:"caret-right"}),o.a.createElement(ne.Menu,null,Object.entries(r).map((function(e){var t=b()(e,2),n=t[0],r=t[1];return o.a.createElement(ne.MenuItem,{key:n,icon:r.manifest.icon,text:r.manifest.name,onClick:function(){return s(n)}})})))))),o.a.createElement("div",{className:"list-items"},o.a.createElement(yn,{itemType:un,onReorderItem:u},a.map((function(e){return o.a.createElement(gn,{key:e.id,layer:e,element:r[e.elementName],isSelected:l.includes(e.id),dispatch:c})})))))},vn=n(24);n(476);function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sn=function(e,t,n){if(e){var r=e.getBoundingClientRect();return r.height<=0||r.width<=0?1:r.height/r.width<t/n?r.height/t:r.width/n}},On=function(e){var t=Re((function(e){return e.elements}),(function(e){return e.overlay}),(function(e){return e.animationContext}),(function(e){return e.isExecutingScript}),(function(e){return e.stageTool}),(function(e){return e.stageTransform})),n=b()(t,2),r=b()(n[0],6),a=r[0],l=r[1],c=r[2],s=r[3],u=r[4],f=r[5],p=n[1],d=Object(i.useRef)();Object(i.useEffect)((function(){var e=d.current,t=function(t){p("SetStageAutoFitZoom",Sn(e,f.height,f.width))};return p("SetStageAutoFitZoom",Sn(e,f.height,f.width)),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]);var m=Object(i.useCallback)((function(e,t){if(2==(2&e.buttons)){var n=e.clientX,r=e.clientY,a=t.panning,i=function(e){var i=[a[0]+(e.clientX-n)/t.zoom,a[1]+(e.clientY-r)/t.zoom];p("SetStageTransform",xn(xn({},t),{},{panning:i}))};document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",(function e(t){document.body.removeEventListener("mousemove",i),document.body.removeEventListener("mouseup",e)}))}}),[]),y=Object(i.useCallback)((function(e){m(e,f)}),[f]),h=Object(i.useCallback)((function(e){e.preventDefault()}),[]),g=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"}),[]),v=Object(i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),p("HandleFileUpload",{files:e.dataTransfer.files,autoCreateLayers:!0})}),[]),w=Object(i.useCallback)((function(e){e.nativeEvent.intercepted||p("StepZoom",-e.deltaY/100)}),[]),x=Object(i.useCallback)((function(e,t){p("SetLayerDomElement",{id:e.id,domElement:t})}),[]),S=Object(i.useCallback)((function(e,t){p("SetLayerDomElement",{id:e.id,domElement:null})}),[]),O=Object(i.useMemo)((function(){return{width:f.width+"px",height:f.height+"px",transform:"scale(".concat(f.zoom,") translate(").concat(f.panning[0],"px, ").concat(f.panning[1],"px)")}}),[f]);return o.a.createElement("div",{className:"stage-container",onWheel:w,onDragOver:g,onDrop:v,onMouseDown:y,onContextMenu:h,ref:d},o.a.createElement("div",{className:"stage",style:O},o.a.createElement(vn.a,{overlay:l,disableBuiltinElements:!0,elements:a,animationContext:c,executeScripts:s,onLayerCreated:x,onLayerRemoved:S})),u?o.a.createElement(u.component,null):null)},En=function(e){Object(i.useEffect)((function(){function t(t){"INPUT"!=t.target.tagName&&"SELECT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName&&(t.preventDefault(),t.clipboardData.items&&e("HandlePaste",t.clipboardData.items),t.clipboardData.files&&e("HandleFileUpload",{files:t.clipboardData.files,autoCreateLayers:!0}))}document.addEventListener("paste",t)}),[])},kn=(n(478),function(e){var t,n,r=e.assetKey,a=e.asset,i=e.dispatch;switch(a.type){case"image":t="media";break;case"video":t="video";break;case"script":t="code-block";break;case"html":t="code";break;default:t="blank"}return a.inline||(n=o.a.createElement(ne.Icon,{icon:"document-share"})),o.a.createElement("div",{className:"asset-list-item"},o.a.createElement(ne.ButtonGroup,{fill:!0,minimal:!0},o.a.createElement(ne.Button,{text:a.name,alignText:"left",fill:!0,icon:t,rightIcon:n}),o.a.createElement(ne.Button,{icon:"trash",title:"Delete",onClick:function(){return i("DeleteAsset",r)}})))}),Cn=function(e){var t,n=Re((function(e){return e.overlay.assets})),r=b()(n,2),a=b()(r[0],1)[0],i=r[1];return a&&(t=Object.entries(a).map((function(e){var t=b()(e,2),n=t[0],r=t[1];return o.a.createElement(kn,{key:n,assetKey:n,asset:r,dispatch:i})}))),o.a.createElement("div",{className:"asset-list-wrapper"},o.a.createElement("div",{className:"asset-list"},t))},jn=(n(480),function(e){var t,n,r=e.scriptKey,a=(e.script,e.isExecutingScript),l=e.dispatch,c=Object(i.useCallback)((function(){l("OpenEditor",{type:"script",params:{scriptKey:r}})}),[]),s=Object(i.useCallback)((function(e){l("UpdateScriptKey",{scriptKey:r,newScriptKey:e})}),[r]),u=Object(i.useCallback)((function(){l("DeleteScript",r)}),[]);switch(r){case"main.js":t="document-open",n=o.a.createElement(ne.Button,{icon:a?"pause":"play",minimal:!0,intent:a?"warning":"success",title:"Execute (Ctrl+E)",onClick:function(){return l("ExecuteScript")}});break;case"settings.json":t="cog";break;default:t="document"}return o.a.createElement("div",{className:"script-list-item"},o.a.createElement(ne.Icon,{icon:t}),o.a.createElement("div",{className:"label",onClick:c},o.a.createElement(sn,{value:r,onChange:s,selectAllOnFocus:!0})),n,o.a.createElement(ne.Button,{icon:"trash",minimal:!0,title:"Delete",onClick:u}))}),An=function(){var e,t=Re((function(e){return e.overlay.scripts}),(function(e){return e.isExecutingScript})),n=b()(t,2),r=b()(n[0],2),a=r[0],l=r[1],c=n[1],s=Object(i.useState)(!1),u=b()(s,2),f=u[0],p=u[1],d=Object(i.useCallback)((function(e,t){c("ReorderScript",{scriptKey:e,newIndex:t})}),[]);if(f){e=[];var m=!1;a&&null!=a["main.js"]||(e.push(o.a.createElement(ne.MenuItem,{key:"main.js",icon:"document-share",text:"main.js",intent:"success",onClick:function(){return c("CreateScript","main.js")}})),m=!0),a&&null!=a["settings.json"]||(e.push(o.a.createElement(ne.MenuItem,{key:"settings.json",icon:"cog",text:"settings.json",intent:"success",onClick:function(){return c("CreateScript","settings.json")}})),m=!0),m&&e.push(o.a.createElement(ne.MenuDivider,{key:"sep"})),e.push(o.a.createElement(ne.MenuItem,{key:"new",icon:"document",text:"New Script",onClick:function(){return c("CreateScript")}}))}var y=a?Object.entries(a):[];return o.a.createElement("div",{className:"main-list script-list"},o.a.createElement("div",{className:"actions"},o.a.createElement(ne.Button,{text:"Console",small:!0,minimal:!0,icon:"console",onClick:function(){return c("OpenEditor",{type:"console"})}}),o.a.createElement(ne.AnchorButton,{text:"Reference",small:!0,minimal:!0,icon:"manual",target:"openoverlay-reference",href:"https://github.com/mikesci/open-overlay/docs/SCRIPTING-v1.md"}),o.a.createElement("div",{className:"right"},o.a.createElement(ne.Popover,{position:"right-top",isOpen:f,onInteraction:p},o.a.createElement(ne.Button,{small:!0,icon:"plus",title:"New Script",intent:"primary",rightIcon:"caret-right"}),o.a.createElement(ne.Menu,null,e)))),o.a.createElement("div",{className:"list-items"},o.a.createElement(yn,{itemType:fn,onReorderItem:d},y.map((function(e){var t=b()(e,2),n=t[0],r=t[1];return o.a.createElement(jn,{key:n,scriptKey:n,script:r,isExecutingScript:l,dispatch:c})})))))};n(482);function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pn=function(e){var t,n=e.settingsJson,r=Re((function(e){return e.overlay.settings})),a=b()(r,2),l=b()(a[0],1)[0],c=a[1],s=Object(i.useMemo)((function(){try{return JSON.parse(n)}catch(e){return null}}),[n]);if(!s)return o.a.createElement("div",{className:"error"},"Error parsing settings.json.");s.info&&(t=o.a.createElement(ne.Card,null,s.info));var u=Ln(Ln({},s.initial),l);return o.a.createElement("div",{className:"script-settings-panel"},t,o.a.createElement(Nt,{parameters:s.parameters||[],parameterValues:u,onParameterValuesChanged:function(e){c("UpdateScriptSettings",e,!1)}}))},Tn=(n(484),function(e){qe()(e);var t=Re((function(e){return e.overlay.scripts?e.overlay.scripts["settings.json"]:null}),(function(e){return e.preferences}),(function(e){return e.editors}),(function(e){return e.selectedEditorTab})),n=b()(t,2),r=b()(n[0],4),a=r[0],l=r[1],c=r[2],s=r[3],u=n[1],f=Object(i.useState)("layers"),p=b()(f,2),d=p[0],m=p[1];En(u),W(H.GLOBAL),W(H.LAYERS);var y,h,g=Object(i.useCallback)((function(e){u("SavePreferences",e)}),[]);return c.length>0&&(y=o.a.createElement(ne.Tabs,{id:"editor-tabs",onChange:function(e){return u("SelectEditor",e)},selectedTabId:s,animate:!1,className:"normal-tabs"},c.map((function(e){var t=Se[e.type],n=t.key(e.params);return o.a.createElement(ne.Tab,{key:n,id:n,panel:o.a.createElement(t.component,F()({editorKey:n},e.params))},o.a.createElement(ne.Icon,{icon:t.icon(e.params)}),o.a.createElement("span",{className:"title"},t.title(e.params)),o.a.createElement(ne.Button,{minimal:!0,icon:"cross",title:"Close",small:!0,onClick:function(t){t.stopPropagation(),u("CloseEditor",e.key)}}))})))),a&&(h=o.a.createElement(ne.Tooltip,{content:"Settings"},o.a.createElement(ne.Button,{active:"settings"==d,icon:"settings",onClick:function(){return m("settings")}}))),o.a.createElement("div",{className:"layout-changer"},o.a.createElement(et,null),o.a.createElement(ln,{edge:"right",defaultSize:l.leftPanelWidth,minimum:250,maximum:500,onSizeChanged:function(e){return g({leftPanelWidth:e})},className:"leftpanel-wrapper panel-bg"},o.a.createElement(ln,{edge:"bottom",defaultSize:l.layerListSize||300,minimum:100,maximum:800,onSizeChanged:function(e){return g({layerListSize:e})},className:"lists-wrapper"},o.a.createElement(ne.ButtonGroup,{fill:!0,className:"toolbar"},h,o.a.createElement(ne.Tooltip,{content:"Layers"},o.a.createElement(ne.Button,{active:"layers"==d,icon:"layers",onClick:function(){return m("layers")}})),o.a.createElement(ne.Tooltip,{content:"Assets"},o.a.createElement(ne.Button,{active:"assets"==d,icon:"archive",onClick:function(){return m("assets")}})),o.a.createElement(ne.Tooltip,{content:"Scripts"},o.a.createElement(ne.Button,{active:"scripts"==d,icon:"manually-entered-data",onClick:function(){return m("scripts")}}))),o.a.createElement("div",{className:"lists-panel"},"settings"==d?o.a.createElement(Pn,{settingsJson:a}):null,"layers"==d?o.a.createElement(bn,null):null,"assets"==d?o.a.createElement(Cn,null):null,"scripts"==d?o.a.createElement(An,null):null)),o.a.createElement(qt,null)),o.a.createElement("div",{className:"center-wrapper"},o.a.createElement("div",{className:"stage-wrapper",dropeffect:"copy"},o.a.createElement("div",{className:"toolbar-wrapper"},o.a.createElement(on,null)),o.a.createElement(On,null)),y?o.a.createElement(ln,{edge:"top",defaultSize:l.bottomPanelSize,minimum:100,maximum:500,onSizeChanged:function(e){return g({bottomPanelSize:e})},className:"bottom-panel-wrapper panel-bg"},y):null))}),In=(n(486),function(e){return Object(i.useEffect)((function(){var e=function(e){e.ctrlKey&&(e.stopPropagation(),e.preventDefault())};return window.addEventListener("wheel",e,{passive:!1}),function(){return window.removeEventListener("wheel",e,{passive:!1})}}),[]),o.a.createElement(Be,e,o.a.createElement(Ye,null,o.a.createElement(Xe,null,o.a.createElement(Tn,null))))});t.default=In},7:function(e,t,n){"use strict";t.a={ENTRY:{key:"entry",displayName:"Entry"},EXIT:{key:"exit",displayName:"Exit"},HIDDEN:{key:"hidden",displayName:"Hidden"},STATIC:{key:"static",displayName:"Static"}}},9:function(e,t,n){"use strict";t.a={PLAYING:"playing",PAUSED:"paused"}}}]);